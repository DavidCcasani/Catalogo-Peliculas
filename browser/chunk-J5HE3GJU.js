var WP=Object.defineProperty,KP=Object.defineProperties;var QP=Object.getOwnPropertyDescriptors;var Uu=Object.getOwnPropertySymbols,YP=Object.getPrototypeOf,_T=Object.prototype.hasOwnProperty,ET=Object.prototype.propertyIsEnumerable,JP=Reflect.get;var vT=(n,e,t)=>e in n?WP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,L=(n,e)=>{for(var t in e||={})_T.call(e,t)&&vT(n,t,e[t]);if(Uu)for(var t of Uu(e))ET.call(e,t)&&vT(n,t,e[t]);return n},fe=(n,e)=>KP(n,QP(e));var ZP=(n,e)=>{var t={};for(var r in n)_T.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Uu)for(var r of Uu(n))e.indexOf(r)<0&&ET.call(n,r)&&(t[r]=n[r]);return t};var Tr=(n,e,t)=>JP(YP(n),t,e);var _=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(l){i(l)}},s=u=>{try{a(t.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var Vp;function jp(){return Vp}function Hn(n){let e=Vp;return Vp=n,e}var XP=Symbol("NotFound"),Bu=class extends Error{name="\u0275NotFound";constructor(e){super(e)}};function wo(n){return n===XP||n?.name==="\u0275NotFound"}function Gu(n,e){return Object.is(n,e)}var $e=null,$u=!1,Up=1,ex=null,ut=Symbol("SIGNAL");function re(n){let e=$e;return $e=n,e}function Wu(){return $e}var gi={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function To(n){if($u)throw new Error("");if($e===null)return;$e.consumerOnSignalRead(n);let e=$e.nextProducerIndex++;if(Ju($e),e<$e.producerNode.length&&$e.producerNode[e]!==n&&Ia($e)){let t=$e.producerNode[e];Yu(t,$e.producerIndexOfThis[e])}$e.producerNode[e]!==n&&($e.producerNode[e]=n,$e.producerIndexOfThis[e]=Ia($e)?wT(n,$e,e):0),$e.producerLastReadVersion[e]=n.version}function IT(){Up++}function Ku(n){if(!(Ia(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===Up)){if(!n.producerMustRecompute(n)&&!wa(n)){qu(n);return}n.producerRecomputeValue(n),qu(n)}}function Bp(n){if(n.liveConsumerNode===void 0)return;let e=$u;$u=!0;try{for(let t of n.liveConsumerNode)t.dirty||tx(t)}finally{$u=e}}function $p(){return $e?.consumerAllowSignalWrites!==!1}function tx(n){n.dirty=!0,Bp(n),n.consumerMarkedDirty?.(n)}function qu(n){n.dirty=!1,n.lastCleanEpoch=Up}function mi(n){return n&&(n.nextProducerIndex=0),re(n)}function Do(n,e){if(re(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(Ia(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)Yu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function wa(n){Ju(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(Ku(t),r!==t.version))return!0}return!1}function Qu(n){if(Ju(n),Ia(n))for(let e=0;e<n.producerNode.length;e++)Yu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function wT(n,e,t){if(TT(n),n.liveConsumerNode.length===0&&DT(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=wT(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function Yu(n,e){if(TT(n),n.liveConsumerNode.length===1&&DT(n))for(let r=0;r<n.producerNode.length;r++)Yu(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];Ju(i),i.producerIndexOfThis[r]=e}}function Ia(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function Ju(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function TT(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function DT(n){return n.producerNode!==void 0}function Zu(n){ex?.(n)}function Xu(n,e){let t=Object.create(nx);t.computation=n,e!==void 0&&(t.equal=e);let r=()=>{if(Ku(t),To(t),t.value===Ea)throw t.error;return t.value};return r[ut]=t,Zu(t),r}var Hu=Symbol("UNSET"),zu=Symbol("COMPUTING"),Ea=Symbol("ERRORED"),nx=fe(L({},gi),{value:Hu,dirty:!0,error:null,equal:Gu,kind:"computed",producerMustRecompute(n){return n.value===Hu||n.value===zu},producerRecomputeValue(n){if(n.value===zu)throw new Error("");let e=n.value;n.value=zu;let t=mi(n),r,i=!1;try{r=n.computation(),re(null),i=e!==Hu&&e!==Ea&&r!==Ea&&n.equal(e,r)}catch(o){r=Ea,n.error=o}finally{Do(n,t)}if(i){n.value=e;return}n.value=r,n.version++}});function rx(){throw new Error}var bT=rx;function CT(n){bT(n)}function Hp(n){bT=n}var ix=null;function zp(n,e){let t=Object.create(el);t.value=n,e!==void 0&&(t.equal=e);let r=()=>ST(t);return r[ut]=t,Zu(t),[r,s=>bo(t,s),s=>qp(t,s)]}function ST(n){return To(n),n.value}function bo(n,e){$p()||CT(n),n.equal(n.value,e)||(n.value=e,ox(n))}function qp(n,e){$p()||CT(n),bo(n,e(n.value))}var el=fe(L({},gi),{equal:Gu,value:void 0,kind:"signal"});function ox(n){n.version++,IT(),Bp(n),ix?.(n)}function Z(n){return typeof n=="function"}function Co(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var tl=Co(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function yi(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Se=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Z(r))try{r()}catch(o){e=o instanceof tl?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{AT(o)}catch(s){e=e??[],s instanceof tl?e=[...e,...s.errors]:e.push(s)}}if(e)throw new tl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)AT(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&yi(t,e)}remove(e){let{_finalizers:t}=this;t&&yi(t,e),e instanceof n&&e._removeParent(this)}};Se.EMPTY=(()=>{let n=new Se;return n.closed=!0,n})();var Gp=Se.EMPTY;function nl(n){return n instanceof Se||n&&"closed"in n&&Z(n.remove)&&Z(n.add)&&Z(n.unsubscribe)}function AT(n){Z(n)?n():n.unsubscribe()}var Qt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var So={setTimeout(n,e,...t){let{delegate:r}=So;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=So;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function rl(n){So.setTimeout(()=>{let{onUnhandledError:e}=Qt;if(e)e(n);else throw n})}function Ta(){}var RT=Wp("C",void 0,void 0);function NT(n){return Wp("E",void 0,n)}function MT(n){return Wp("N",n,void 0)}function Wp(n,e,t){return{kind:n,value:e,error:t}}var vi=null;function Ao(n){if(Qt.useDeprecatedSynchronousErrorHandling){let e=!vi;if(e&&(vi={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=vi;if(vi=null,t)throw r}}else n()}function PT(n){Qt.useDeprecatedSynchronousErrorHandling&&vi&&(vi.errorThrown=!0,vi.error=n)}var _i=class extends Se{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,nl(e)&&e.add(this)):this.destination=cx}static create(e,t,r){return new Ro(e,t,r)}next(e){this.isStopped?Qp(MT(e),this):this._next(e)}error(e){this.isStopped?Qp(NT(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Qp(RT,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sx=Function.prototype.bind;function Kp(n,e){return sx.call(n,e)}var Yp=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){il(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){il(r)}else il(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){il(t)}}},Ro=class extends _i{constructor(e,t,r){super();let i;if(Z(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Qt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Kp(e.next,o),error:e.error&&Kp(e.error,o),complete:e.complete&&Kp(e.complete,o)}):i=e}this.destination=new Yp(i)}};function il(n){Qt.useDeprecatedSynchronousErrorHandling?PT(n):rl(n)}function ax(n){throw n}function Qp(n,e){let{onStoppedNotification:t}=Qt;t&&So.setTimeout(()=>t(n,e))}var cx={closed:!0,next:Ta,error:ax,complete:Ta};var No=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Nt(n){return n}function ol(...n){return Jp(n)}function Jp(n){return n.length===0?Nt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Y=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=lx(t)?t:new Ro(t,r,i);return Ao(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=xT(r),new r((i,o)=>{let s=new Ro({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[No](){return this}pipe(...t){return Jp(t)(this)}toPromise(t){return t=xT(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function xT(n){var e;return(e=n??Qt.Promise)!==null&&e!==void 0?e:Promise}function ux(n){return n&&Z(n.next)&&Z(n.error)&&Z(n.complete)}function lx(n){return n&&n instanceof _i||ux(n)&&nl(n)}function Zp(n){return Z(n?.lift)}function le(n){return e=>{if(Zp(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(n,e,t,r,i){return new Xp(n,e,t,r,i)}var Xp=class extends _i{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Mo(){return le((n,e)=>{let t=null;n._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Po=class extends Y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Zp(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Se;let t=this.getSubject();e.add(this.source.subscribe(ae(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Se.EMPTY)}return e}refCount(){return Mo()(this)}};var kT=Co(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var He=(()=>{class n extends Y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new sl(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new kT}next(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Ao(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Gp:(this.currentObservers=null,o.push(t),new Se(()=>{this.currentObservers=null,yi(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new Y;return t.source=this,t}}return n.create=(e,t)=>new sl(e,t),n})(),sl=class extends He{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Gp}};var tt=class extends He{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var eg={now(){return(eg.delegate||Date).now()},delegate:void 0};var al=class extends Se{constructor(e,t){super()}schedule(e,t=0){return this}};var Da={setInterval(n,e,...t){let{delegate:r}=Da;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=Da;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var xo=class extends al{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return Da.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&Da.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,yi(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var ko=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};ko.now=eg.now;var Oo=class extends ko{constructor(e,t=ko.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var tg=new Oo(xo);var cl=class extends xo{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var ul=class extends Oo{};var ng=new ul(cl);var Tt=new Y(n=>n.complete());function OT(n){return n&&Z(n.schedule)}function LT(n){return n[n.length-1]}function ll(n){return Z(LT(n))?n.pop():void 0}function Dr(n){return OT(LT(n))?n.pop():void 0}function rg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function VT(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(n,e||[])).next())})}function FT(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ei(n){return this instanceof Ei?(this.v=n,this):new Ei(n)}function jT(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(y){return function(C){return Promise.resolve(C).then(y,p)}}function a(y,C){r[y]&&(i[y]=function(N){return new Promise(function(R,k){o.push([y,N,R,k])>1||u(y,N)})},C&&(i[y]=C(i[y])))}function u(y,C){try{l(r[y](C))}catch(N){g(o[0][3],N)}}function l(y){y.value instanceof Ei?Promise.resolve(y.value.v).then(h,p):g(o[0][2],y)}function h(y){u("next",y)}function p(y){u("throw",y)}function g(y,C){y(C),o.shift(),o.length&&u(o[0][0],o[0][1])}}function UT(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof FT=="function"?FT(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var dl=n=>n&&typeof n.length=="number"&&typeof n!="function";function hl(n){return Z(n?.then)}function fl(n){return Z(n[No])}function pl(n){return Symbol.asyncIterator&&Z(n?.[Symbol.asyncIterator])}function gl(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function dx(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ml=dx();function yl(n){return Z(n?.[ml])}function vl(n){return jT(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield Ei(t.read());if(i)return yield Ei(void 0);yield yield Ei(r)}}finally{t.releaseLock()}})}function _l(n){return Z(n?.getReader)}function Fe(n){if(n instanceof Y)return n;if(n!=null){if(fl(n))return hx(n);if(dl(n))return fx(n);if(hl(n))return px(n);if(pl(n))return BT(n);if(yl(n))return gx(n);if(_l(n))return mx(n)}throw gl(n)}function hx(n){return new Y(e=>{let t=n[No]();if(Z(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fx(n){return new Y(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function px(n){return new Y(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,rl)})}function gx(n){return new Y(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function BT(n){return new Y(e=>{yx(n,e).catch(t=>e.error(t))})}function mx(n){return BT(vl(n))}function yx(n,e){var t,r,i,o;return VT(this,void 0,void 0,function*(){try{for(t=UT(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Dt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function br(n,e=0){return le((t,r)=>{t.subscribe(ae(r,i=>Dt(r,n,()=>r.next(i),e),()=>Dt(r,n,()=>r.complete(),e),i=>Dt(r,n,()=>r.error(i),e)))})}function Cr(n,e=0){return le((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $T(n,e){return Fe(n).pipe(Cr(e),br(e))}function HT(n,e){return Fe(n).pipe(Cr(e),br(e))}function zT(n,e){return new Y(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function qT(n,e){return new Y(t=>{let r;return Dt(t,e,()=>{r=n[ml](),Dt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>Z(r?.return)&&r.return()})}function El(n,e){if(!n)throw new Error("Iterable cannot be null");return new Y(t=>{Dt(t,e,()=>{let r=n[Symbol.asyncIterator]();Dt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function GT(n,e){return El(vl(n),e)}function WT(n,e){if(n!=null){if(fl(n))return $T(n,e);if(dl(n))return zT(n,e);if(hl(n))return HT(n,e);if(pl(n))return El(n,e);if(yl(n))return qT(n,e);if(_l(n))return GT(n,e)}throw gl(n)}function Ie(n,e){return e?WT(n,e):Fe(n)}function z(...n){let e=Dr(n);return Ie(n,e)}function Lo(n,e){let t=Z(n)?n:()=>n,r=i=>i.error(t());return new Y(e?i=>e.schedule(r,0,i):r)}function ig(n){return!!n&&(n instanceof Y||Z(n.lift)&&Z(n.subscribe))}var Yt=Co(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function vx(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let o=!1,s;n.subscribe({next:a=>{s=a,o=!0},error:i,complete:()=>{o?r(s):t?r(e.defaultValue):i(new Yt)}})})}function X(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:_x}=Array;function Ex(n,e){return _x(e)?n(...e):n(e)}function Il(n){return X(e=>Ex(n,e))}var{isArray:Ix}=Array,{getPrototypeOf:wx,prototype:Tx,keys:Dx}=Object;function wl(n){if(n.length===1){let e=n[0];if(Ix(e))return{args:e,keys:null};if(bx(e)){let t=Dx(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function bx(n){return n&&typeof n=="object"&&wx(n)===Tx}function Tl(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function ba(...n){let e=Dr(n),t=ll(n),{args:r,keys:i}=wl(n);if(r.length===0)return Ie([],e);let o=new Y(Cx(r,e,i?s=>Tl(i,s):Nt));return t?o.pipe(Il(t)):o}function Cx(n,e,t=Nt){return r=>{KT(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)KT(e,()=>{let l=Ie(n[u],e),h=!1;l.subscribe(ae(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function KT(n,e,t){n?Dt(t,n,e):e()}function QT(n,e,t,r,i,o,s,a){let u=[],l=0,h=0,p=!1,g=()=>{p&&!u.length&&!l&&e.complete()},y=N=>l<r?C(N):u.push(N),C=N=>{o&&e.next(N),l++;let R=!1;Fe(t(N,h++)).subscribe(ae(e,k=>{i?.(k),o?y(k):e.next(k)},()=>{R=!0},void 0,()=>{if(R)try{for(l--;u.length&&l<r;){let k=u.shift();s?Dt(e,s,()=>C(k)):C(k)}g()}catch(k){e.error(k)}}))};return n.subscribe(ae(e,y,()=>{p=!0,g()})),()=>{a?.()}}function ke(n,e,t=1/0){return Z(e)?ke((r,i)=>X((o,s)=>e(r,o,i,s))(Fe(n(r,i))),t):(typeof e=="number"&&(t=e),le((r,i)=>QT(r,i,n,t)))}function Sr(n=1/0){return ke(Nt,n)}function YT(){return Sr(1)}function Fo(...n){return YT()(Ie(n,Dr(n)))}function Ca(n){return new Y(e=>{Fe(n()).subscribe(e)})}function Sx(...n){let e=ll(n),{args:t,keys:r}=wl(n),i=new Y(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;Fe(t[h]).subscribe(ae(o,g=>{p||(p=!0,l--),a[h]=g},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?Tl(r,a):a),o.complete())}))}});return e?i.pipe(Il(e)):i}function nt(n,e){return le((t,r)=>{let i=0;t.subscribe(ae(r,o=>n.call(e,o,i++)&&r.next(o)))})}function zn(n){return le((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ae(t,void 0,void 0,s=>{o=Fe(n(s,zn(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function JT(n,e,t,r,i){return(o,s)=>{let a=t,u=e,l=0;o.subscribe(ae(s,h=>{let p=l++;u=a?n(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function dn(n,e){return Z(e)?ke(n,e,1):ke(n,1)}function Ar(n){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function qn(n){return n<=0?()=>Tt:le((e,t)=>{let r=0;e.subscribe(ae(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Dl(n=Ax){return le((e,t)=>{let r=!1;e.subscribe(ae(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ax(){return new Yt}function Rr(n){return le((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Gn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Nt,qn(1),t?Ar(e):Dl(()=>new Yt))}function Vo(n){return n<=0?()=>Tt:le((e,t)=>{let r=[];e.subscribe(ae(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function og(n,e){let t=arguments.length>=2;return r=>r.pipe(n?nt((i,o)=>n(i,o,r)):Nt,Vo(1),t?Ar(e):Dl(()=>new Yt))}function bl(n,e){return le(JT(n,e,arguments.length>=2,!0))}function Cl(...n){let e=Dr(n);return le((t,r)=>{(e?Fo(n,t,e):Fo(n,t)).subscribe(r)})}function mt(n,e){return le((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,h=o++;Fe(n(u,h)).subscribe(i=ae(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function Sl(n){return le((e,t)=>{Fe(n).subscribe(ae(t,()=>t.complete(),Ta)),!t.closed&&e.subscribe(t)})}function We(n,e,t){let r=Z(n)||e||t?{next:n,error:e,complete:t}:n;return r?le((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Nt}function ZT(n){let e=re(null);try{return n()}finally{re(e)}}var Pl="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",j=class extends Error{code;constructor(e,t){super(Na(e,t)),this.code=e}};function Rx(n){return`NG0${Math.abs(n)}`}function Na(n,e){return`${Rx(n)}${e?": "+e:""}`}var Ma=globalThis;function Te(n){for(let e in n)if(n[e]===Te)return e;throw Error("")}function nD(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function bt(n){if(typeof n=="string")return n;if(Array.isArray(n))return`[${n.map(bt).join(", ")}]`;if(n==null)return""+n;let e=n.overriddenName||n.name;if(e)return`${e}`;let t=n.toString();if(t==null)return""+t;let r=t.indexOf(`
`);return r>=0?t.slice(0,r):t}function vg(n,e){return n?e?`${n} ${e}`:n:e||""}var Nx=Te({__forward_ref__:Te});function xl(n){return n.__forward_ref__=xl,n.toString=function(){return bt(this())},n}function rt(n){return _g(n)?n():n}function _g(n){return typeof n=="function"&&n.hasOwnProperty(Nx)&&n.__forward_ref__===xl}function rD(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(r==null?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}function U(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function hn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Pa(n){return Mx(n,kl)}function Eg(n){return Pa(n)!==null}function Mx(n,e){return n.hasOwnProperty(e)&&n[e]||null}function Px(n){let e=n?.[kl]??null;return e||null}function ag(n){return n&&n.hasOwnProperty(Rl)?n[Rl]:null}var kl=Te({\u0275prov:Te}),Rl=Te({\u0275inj:Te}),F=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,t){this._desc=e,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=U({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Ig(n){return n&&!!n.\u0275providers}var wg=Te({\u0275cmp:Te}),Tg=Te({\u0275dir:Te}),Dg=Te({\u0275pipe:Te}),bg=Te({\u0275mod:Te}),Aa=Te({\u0275fac:Te}),bi=Te({__NG_ELEMENT_ID__:Te}),XT=Te({__NG_ENV_ID__:Te});function Uo(n){return typeof n=="string"?n:n==null?"":String(n)}function iD(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Uo(n)}function Cg(n,e){throw new j(-200,n)}function Ol(n,e){throw new j(-201,!1)}var cg;function oD(){return cg}function yt(n){let e=cg;return cg=n,e}function Sg(n,e,t){let r=Pa(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&8)return null;if(e!==void 0)return e;Ol(n,"Injector")}var xx={},Ii=xx,ug="__NG_DI_FLAG__",lg=class{injector;constructor(e){this.injector=e}retrieve(e,t){let r=wi(t)||0;try{return this.injector.get(e,r&8?null:Ii,r)}catch(i){if(wo(i))return i;throw i}}},Nl="ngTempTokenPath",kx="ngTokenPath",Ox=/\n/gm,Lx="\u0275",eD="__source";function Fx(n,e=0){let t=jp();if(t===void 0)throw new j(-203,!1);if(t===null)return Sg(n,void 0,e);{let r=Vx(e),i=t.retrieve(n,r);if(wo(i)){if(r.optional)return null;throw i}return i}}function H(n,e=0){return(oD()||Fx)(rt(n),e)}function M(n,e){return H(n,wi(e))}function wi(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Vx(n){return{optional:!!(n&8),host:!!(n&1),self:!!(n&2),skipSelf:!!(n&4)}}function dg(n){let e=[];for(let t=0;t<n.length;t++){let r=rt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new j(900,!1);let i,o=0;for(let s=0;s<r.length;s++){let a=r[s],u=jx(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(H(i,o))}else e.push(H(r))}return e}function Ag(n,e){return n[ug]=e,n.prototype[ug]=e,n}function jx(n){return n[ug]}function Ux(n,e,t,r){let i=n[Nl];throw e[eD]&&i.unshift(e[eD]),n.message=Bx(`
`+n.message,i,t,r),n[kx]=i,n[Nl]=null,n}function Bx(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Lx?n.slice(2):n;let i=bt(e);if(Array.isArray(e))i=e.map(bt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):bt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Ox,`
  `)}`}function Nr(n,e){let t=n.hasOwnProperty(Aa);return t?n[Aa]:null}function sD(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],o=e[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}function aD(n){return n.flat(Number.POSITIVE_INFINITY)}function Ll(n,e){n.forEach(t=>Array.isArray(t)?Ll(t,e):e(t))}function Rg(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function xa(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function cD(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function uD(n,e,t){let r=Bo(n,e);return r>=0?n[r|1]=t:(r=~r,cD(n,r,e,t)),r}function Fl(n,e){let t=Bo(n,e);if(t>=0)return n[t|1]}function Bo(n,e){return $x(n,e,1)}function $x(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var Pr={},Mt=[],xr=new F(""),Ng=new F("",-1),Mg=new F(""),Ra=class{get(e,t=Ii){if(t===Ii)throw new Bu(`NullInjectorError: No provider for ${bt(e)}!`);return t}};function Pg(n){return n[bg]||null}function Qn(n){return n[wg]||null}function xg(n){return n[Tg]||null}function lD(n){return n[Dg]||null}function Pt(n){return{\u0275providers:n}}function dD(...n){return{\u0275providers:kg(!0,n),\u0275fromNgModule:!0}}function kg(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ll(e,s=>{let a=s;Ml(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hD(i,o),t}function hD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Og(i,o=>{e(o,r)})}}function Ml(n,e,t,r){if(n=rt(n),!n)return!1;let i=null,o=ag(n),s=!o&&Qn(n);if(!o&&!s){let u=n.ngModule;if(o=ag(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Ml(l,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{Ll(o.imports,h=>{Ml(h,e,t,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&hD(l,e)}if(!a){let l=Nr(i)||(()=>new i);e({provide:i,useFactory:l,deps:Mt},i),e({provide:Mg,useValue:i,multi:!0},i),e({provide:xr,useValue:()=>H(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=n;Og(u,h=>{e(h,l)})}}else return!1;return i!==n&&n.providers!==void 0}function Og(n,e){for(let t of n)Ig(t)&&(t=t.\u0275providers),Array.isArray(t)?Og(t,e):e(t)}var Hx=Te({provide:String,useValue:Te});function fD(n){return n!==null&&typeof n=="object"&&Hx in n}function zx(n){return!!(n&&n.useExisting)}function qx(n){return!!(n&&n.useFactory)}function Ti(n){return typeof n=="function"}function pD(n){return!!n.useClass}var ka=new F(""),Al={},tD={},sg;function Oa(){return sg===void 0&&(sg=new Ra),sg}var be=class{},Di=class extends be{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,fg(e,s=>this.processProvider(s)),this.records.set(Ng,jo(void 0,this)),i.has("environment")&&this.records.set(be,jo(void 0,this));let o=this.records.get(ka);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Mg,Mt,{self:!0}))}retrieve(e,t){let r=wi(t)||0;try{return this.get(e,Ii,r)}catch(i){if(wo(i))return i;throw i}}destroy(){Sa(this),this._destroyed=!0;let e=re(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),re(e)}}onDestroy(e){return Sa(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Sa(this);let t=Hn(this),r=yt(void 0),i;try{return e()}finally{Hn(t),yt(r)}}get(e,t=Ii,r){if(Sa(this),e.hasOwnProperty(XT))return e[XT](this);let i=wi(r),o,s=Hn(this),a=yt(void 0);try{if(!(i&4)){let l=this.records.get(e);if(l===void 0){let h=Yx(e)&&Pa(e);h&&this.injectableDefInScope(h)?l=jo(hg(e),Al):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let u=i&2?Oa():this.parent;return t=i&8&&t===Ii?null:t,u.get(e,t)}catch(u){if(wo(u)){if((u[Nl]=u[Nl]||[]).unshift(bt(e)),s)throw u;return Ux(u,e,"R3InjectorError",this.source)}else throw u}finally{yt(a),Hn(s)}}resolveInjectorInitializers(){let e=re(null),t=Hn(this),r=yt(void 0),i;try{let o=this.get(xr,Mt,{self:!0});for(let s of o)s()}finally{Hn(t),yt(r),re(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(bt(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=rt(e);let t=Ti(e)?e:rt(e&&e.provide),r=Wx(e);if(!Ti(e)&&e.multi===!0){let i=this.records.get(t);i||(i=jo(void 0,Al,!0),i.factory=()=>dg(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=re(null);try{return t.value===tD?Cg(bt(e)):t.value===Al&&(t.value=tD,t.value=t.factory()),typeof t.value=="object"&&t.value&&Qx(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{re(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=rt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function hg(n){let e=Pa(n),t=e!==null?e.factory:Nr(n);if(t!==null)return t;if(n instanceof F)throw new j(204,!1);if(n instanceof Function)return Gx(n);throw new j(204,!1)}function Gx(n){if(n.length>0)throw new j(204,!1);let t=Px(n);return t!==null?()=>t.factory(n):()=>new n}function Wx(n){if(fD(n))return jo(void 0,n.useValue);{let e=Lg(n);return jo(e,Al)}}function Lg(n,e,t){let r;if(Ti(n)){let i=rt(n);return Nr(i)||hg(i)}else if(fD(n))r=()=>rt(n.useValue);else if(qx(n))r=()=>n.useFactory(...dg(n.deps||[]));else if(zx(n))r=()=>H(rt(n.useExisting));else{let i=rt(n&&(n.useClass||n.provide));if(Kx(n))r=()=>new i(...dg(n.deps));else return Nr(i)||hg(i)}return r}function Sa(n){if(n.destroyed)throw new j(205,!1)}function jo(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function Kx(n){return!!n.deps}function Qx(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function Yx(n){return typeof n=="function"||typeof n=="object"&&n.ngMetadataName==="InjectionToken"}function fg(n,e){for(let t of n)Array.isArray(t)?fg(t,e):t&&Ig(t)?fg(t.\u0275providers,e):e(t)}function Ve(n,e){let t;n instanceof Di?(Sa(n),t=n):t=new lg(n);let r,i=Hn(t),o=yt(void 0);try{return e()}finally{Hn(i),yt(o)}}function Fg(){return oD()!==void 0||jp()!=null}function Vg(n){if(!Fg())throw new j(-203,!1)}var Zt=0,te=1,Q=2,Ke=3,Ut=4,Bt=5,La=6,$o=7,lt=8,Ci=9,fn=10,Ae=11,Ho=12,jg=13,Si=14,$t=15,kr=16,Ai=17,pn=18,Fa=19,Ug=20,Wn=21,Vl=22,Va=23,xt=24,Ri=25,vt=26,gD=1;var Or=7,ja=8,Ni=9,_t=10;function gn(n){return Array.isArray(n)&&typeof n[gD]=="object"}function Xt(n){return Array.isArray(n)&&n[gD]===!0}function jl(n){return(n.flags&4)!==0}function Lr(n){return n.componentOffset>-1}function Ua(n){return(n.flags&1)===1}function mn(n){return!!n.template}function zo(n){return(n[Q]&512)!==0}function Mi(n){return(n[Q]&256)===256}var mD="svg",yD="math";function Ht(n){for(;Array.isArray(n);)n=n[Zt];return n}function Bg(n,e){return Ht(e[n])}function en(n,e){return Ht(e[n.index])}function Ul(n,e){return n.data[e]}function $g(n,e){return n[e]}function Hg(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function zt(n,e){let t=e[n];return gn(t)?t:t[Zt]}function vD(n){return(n[Q]&4)===4}function Bl(n){return(n[Q]&128)===128}function _D(n){return Xt(n[Ke])}function Pi(n,e){return e==null?null:n[e]}function zg(n){n[Ai]=0}function qg(n){n[Q]&1024||(n[Q]|=1024,Bl(n)&&qo(n))}function ED(n,e){for(;n>0;)e=e[Si],n--;return e}function Ba(n){return!!(n[Q]&9216||n[xt]?.dirty)}function $l(n){n[fn].changeDetectionScheduler?.notify(8),n[Q]&64&&(n[Q]|=1024),Ba(n)&&qo(n)}function qo(n){n[fn].changeDetectionScheduler?.notify(0);let e=Mr(n);for(;e!==null&&!(e[Q]&8192||(e[Q]|=8192,!Bl(e)));)e=Mr(e)}function Gg(n,e){if(Mi(n))throw new j(911,!1);n[Wn]===null&&(n[Wn]=[]),n[Wn].push(e)}function ID(n,e){if(n[Wn]===null)return;let t=n[Wn].indexOf(e);t!==-1&&n[Wn].splice(t,1)}function Mr(n){let e=n[Ke];return Xt(e)?e[Ke]:e}function Wg(n){return n[$o]??=[]}function Kg(n){return n.cleanup??=[]}function wD(n,e,t,r){let i=Wg(e);i.push(t),n.firstCreatePass&&Kg(n).push(r,i.length-1)}var ie={lFrame:UD(null),bindingsEnabled:!0,skipHydrationRootTNode:null},$a=function(n){return n[n.Off=0]="Off",n[n.Exhaustive=1]="Exhaustive",n[n.OnlyDirtyViews=2]="OnlyDirtyViews",n}($a||{}),Jx=0,pg=!1;function TD(){return ie.lFrame.elementDepthCount}function DD(){ie.lFrame.elementDepthCount++}function bD(){ie.lFrame.elementDepthCount--}function Hl(){return ie.bindingsEnabled}function CD(){return ie.skipHydrationRootTNode!==null}function SD(n){return ie.skipHydrationRootTNode===n}function AD(){ie.skipHydrationRootTNode=null}function ue(){return ie.lFrame.lView}function ze(){return ie.lFrame.tView}function RD(n){return ie.lFrame.contextLView=n,n[lt]}function ND(n){return ie.lFrame.contextLView=null,n}function Qe(){let n=Qg();for(;n!==null&&n.type===64;)n=n.parent;return n}function Qg(){return ie.lFrame.currentTNode}function MD(){let n=ie.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function Fr(n,e){let t=ie.lFrame;t.currentTNode=n,t.isParent=e}function zl(){return ie.lFrame.isParent}function Yg(){ie.lFrame.isParent=!1}function PD(){return ie.lFrame.contextLView}function Jg(n){rD("Must never be called in production mode"),Jx=n}function Zg(){return pg}function Xg(n){let e=pg;return pg=n,e}function em(){let n=ie.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function xD(n){return ie.lFrame.bindingIndex=n}function Go(){return ie.lFrame.bindingIndex++}function kD(n){let e=ie.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function OD(){return ie.lFrame.inI18n}function LD(n,e){let t=ie.lFrame;t.bindingIndex=t.bindingRootIndex=n,ql(e)}function FD(){return ie.lFrame.currentDirectiveIndex}function ql(n){ie.lFrame.currentDirectiveIndex=n}function VD(n){let e=ie.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function tm(){return ie.lFrame.currentQueryIndex}function Gl(n){ie.lFrame.currentQueryIndex=n}function Zx(n){let e=n[te];return e.type===2?e.declTNode:e.type===1?n[Bt]:null}function nm(n,e,t){if(t&4){let i=e,o=n;for(;i=i.parent,i===null&&!(t&1);)if(i=Zx(o),i===null||(o=o[Si],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=ie.lFrame=jD();return r.currentTNode=e,r.lView=n,!0}function Wl(n){let e=jD(),t=n[te];ie.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function jD(){let n=ie.lFrame,e=n===null?null:n.child;return e===null?UD(n):e}function UD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function BD(){let n=ie.lFrame;return ie.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var rm=BD;function Kl(){let n=BD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function $D(n){return(ie.lFrame.contextLView=ED(n,ie.lFrame.contextLView))[lt]}function xi(){return ie.lFrame.selectedIndex}function Vr(n){ie.lFrame.selectedIndex=n}function Ql(){let n=ie.lFrame;return Ul(n.tView,n.selectedIndex)}function HD(){return ie.lFrame.currentNamespace}var zD=!0;function Ha(){return zD}function za(n){zD=n}function gg(n,e=null,t=null,r){let i=im(n,e,t,r);return i.resolveInjectorInitializers(),i}function im(n,e=null,t=null,r,i=new Set){let o=[t||Mt,dD(n)];return r=r||(typeof n=="object"?void 0:bt(n)),new Di(o,e||Oa(),r||null,i)}var Oe=class n{static THROW_IF_NOT_FOUND=Ii;static NULL=new Ra;static create(e,t){if(Array.isArray(e))return gg({name:""},t,e,"");{let r=e.name??"";return gg({name:r},e.parent,e.providers,r)}}static \u0275prov=U({token:n,providedIn:"any",factory:()=>H(Ng)});static __NG_ELEMENT_ID__=-1},Re=new F(""),Yn=(()=>{class n{static __NG_ELEMENT_ID__=Xx;static __NG_ENV_ID__=t=>t}return n})(),mg=class extends Yn{_lView;constructor(e){super(),this._lView=e}get destroyed(){return Mi(this._lView)}onDestroy(e){let t=this._lView;return Gg(t,e),()=>ID(t,e)}};function Xx(){return new mg(ue())}var Jt=class{_console=console;handleError(e){this._console.error("ERROR",e)}},Ct=new F("",{providedIn:"root",factory:()=>{let n=M(be),e;return t=>{e??=n.get(Jt),e.handleError(t)}}}),qD={provide:xr,useValue:()=>void M(Jt),multi:!0};function om(n){return typeof n=="function"&&n[ut]!==void 0}function qa(n,e){let[t,r,i]=zp(n,e?.equal),o=t,s=o[ut];return o.set=r,o.update=i,o.asReadonly=GD.bind(o),o}function GD(){let n=this[ut];if(n.readonlyFn===void 0){let e=()=>this();e[ut]=n,n.readonlyFn=e}return n.readonlyFn}function sm(n){return om(n)&&typeof n.set=="function"}var Kn=class{},Yl=new F("",{providedIn:"root",factory:()=>!1});var am=new F(""),cm=new F("");var Jl=(()=>{class n{view;node;constructor(t,r){this.view=t,this.node=r}static __NG_ELEMENT_ID__=ek}return n})();function ek(){return new Jl(ue(),Qe())}var Jn=(()=>{class n{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new tt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new Y(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),Zn=(()=>{class n{internalPendingTasks=M(Jn);scheduler=M(Kn);errorHandler=M(Ct);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let r=this.add();t().catch(this.errorHandler).finally(r)}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})();function Ga(...n){}var um=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new yg})}return n})(),yg=class{dirtyEffectCount=0;queues=new Map;add(e){this.enqueue(e),this.schedule(e)}schedule(e){e.dirty&&this.dirtyEffectCount++}remove(e){let t=e.zone,r=this.queues.get(t);r.has(e)&&(r.delete(e),e.dirty&&this.dirtyEffectCount--)}enqueue(e){let t=e.zone;this.queues.has(t)||this.queues.set(t,new Set);let r=this.queues.get(t);r.has(e)||r.add(e)}flush(){for(;this.dirtyEffectCount>0;){let e=!1;for(let[t,r]of this.queues)t===null?e||=this.flushQueue(r):e||=t.run(()=>this.flushQueue(r));e||(this.dirtyEffectCount=0)}}flushQueue(e){let t=!1;for(let r of e)r.dirty&&(this.dirtyEffectCount--,t=!0,r.run());return t}};function Jo(n){return{toString:n}.toString()}var Zl="__parameters__";function ck(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function wb(n,e,t){return Jo(()=>{let r=ck(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Zl)?u[Zl]:Object.defineProperty(u,Zl,{value:[]})[Zl];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var St=Ag(wb("Optional"),8);var Tb=Ag(wb("SkipSelf"),4);function uk(n){return typeof n=="function"}var od=class{previousValue;currentValue;firstChange;constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function Db(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}var Ui=(()=>{let n=()=>bb;return n.ngInherit=!0,n})();function bb(n){return n.type.prototype.ngOnChanges&&(n.setInput=dk),lk}function lk(){let n=Sb(this),e=n?.current;if(e){let t=n.previous;if(t===Pr)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function dk(n,e,t,r,i){let o=this.declaredInputs[r],s=Sb(n)||hk(n,{previous:Pr,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new od(l&&l.currentValue,t,u===Pr),Db(n,e,i,t)}var Cb="__ngSimpleChanges__";function Sb(n){return n[Cb]||null}function hk(n,e){return n[Cb]=e}var WD=[];var _e=function(n,e=null,t){for(let r=0;r<WD.length;r++){let i=WD[r];i(n,e,t)}};function fk(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=bb(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Gm(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),h!=null&&(n.destroyHooks??=[]).push(t,h)}}function td(n,e,t){Ab(n,e,3,t)}function nd(n,e,t,r){(n[Q]&3)===t&&Ab(n,e,t,r)}function lm(n,e){let t=n[Q];(t&3)===e&&(t&=16383,t+=1,n[Q]=t)}function Ab(n,e,t,r){let i=r!==void 0?n[Ai]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ai]+=65536),(a<o||o==-1)&&(pk(n,t,e,u),n[Ai]=(n[Ai]&4294901760)+u+2),u++}function KD(n,e){_e(4,n,e);let t=re(null);try{e.call(n)}finally{re(t),_e(5,n,e)}}function pk(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[Q]>>14<n[Ai]>>16&&(n[Q]&3)===e&&(n[Q]+=16384,KD(a,o)):KD(a,o)}var Ko=-1,Oi=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,t,r){this.factory=e,this.canSeeViewProviders=t,this.injectImpl=r}};function gk(n){return(n.flags&8)!==0}function mk(n){return(n.flags&16)!==0}function yk(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];vk(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function Rb(n){return n===3||n===4||n===6}function vk(n){return n.charCodeAt(0)===64}function Qo(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?QD(n,t,i,null,e[++r]):QD(n,t,i,null,null))}}return n}function QD(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){i!==null&&(n[o+1]=i);return}o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),i!==null&&n.splice(o++,0,i)}function Nb(n){return n!==Ko}function sd(n){return n&32767}function _k(n){return n>>16}function ad(n,e){let t=_k(n),r=e;for(;t>0;)r=r[Si],t--;return r}var Em=!0;function cd(n){let e=Em;return Em=n,e}var Ek=256,Mb=Ek-1,Pb=5,Ik=0,yn={};function wk(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(bi)&&(r=t[bi]),r==null&&(r=t[bi]=Ik++);let i=r&Mb,o=1<<i;e.data[n+(i>>Pb)]|=o}function ud(n,e){let t=xb(n,e);if(t!==-1)return t;let r=e[te];r.firstCreatePass&&(n.injectorIndex=e.length,dm(r.data,n),dm(e,null),dm(r.blueprint,null));let i=Wm(n,e),o=n.injectorIndex;if(Nb(i)){let s=sd(i),a=ad(i,e),u=a[te].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function dm(n,e){n.push(0,0,0,0,0,0,0,0,e)}function xb(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function Wm(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Vb(i),r===null)return Ko;if(t++,i=i[Si],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ko}function Im(n,e,t){wk(n,e,t)}function Tk(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(Rb(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function kb(n,e,t){if(t&8||n!==void 0)return n;Ol(e,"NodeInjector")}function Ob(n,e,t,r){if(t&8&&r===void 0&&(r=null),(t&3)===0){let i=n[Ci],o=yt(void 0);try{return i?i.get(e,r,t&8):Sg(e,r,t&8)}finally{yt(o)}}return kb(r,e,t)}function Lb(n,e,t,r=0,i){if(n!==null){if(e[Q]&2048&&!(r&2)){let s=Sk(n,e,t,r,yn);if(s!==yn)return s}let o=Fb(n,e,t,r,yn);if(o!==yn)return o}return Ob(e,t,r,i)}function Fb(n,e,t,r,i){let o=bk(t);if(typeof o=="function"){if(!nm(e,n,r))return r&1?kb(i,t,r):Ob(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&8))Ol(t);else return s}finally{rm()}}else if(typeof o=="number"){let s=null,a=xb(n,e),u=Ko,l=r&1?e[$t][Bt]:null;for((a===-1||r&4)&&(u=a===-1?Wm(n,e):e[a+8],u===Ko||!JD(r,!1)?a=-1:(s=e[te],a=sd(u),e=ad(u,e)));a!==-1;){let h=e[te];if(YD(o,a,h.data)){let p=Dk(a,e,t,s,r,l);if(p!==yn)return p}u=e[a+8],u!==Ko&&JD(r,e[te].data[a+8]===l)&&YD(o,a,e)?(s=h,a=sd(u),e=ad(u,e)):a=-1}}return i}function Dk(n,e,t,r,i,o){let s=e[te],a=s.data[n+8],u=r==null?Lr(a)&&Em:r!=s&&(a.type&3)!==0,l=i&1&&o===a,h=rd(a,s,t,u,l);return h!==null?Qa(e,s,h,a):yn}function rd(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,l=n.directiveEnd,h=o>>20,p=r?a:a+h,g=i?a+h:l;for(let y=p;y<g;y++){let C=s[y];if(y<u&&t===C||y>=u&&C.type===t)return y}if(i){let y=s[u];if(y&&mn(y)&&y.type===t)return u}return null}function Qa(n,e,t,r){let i=n[t],o=e.data;if(i instanceof Oi){let s=i;s.resolving&&Cg(iD(o[t]));let a=cd(s.canSeeViewProviders);s.resolving=!0;let u=o[t].type||o[t],l,h=s.injectImpl?yt(s.injectImpl):null,p=nm(n,r,0);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&fk(t,o[t],e)}finally{h!==null&&yt(h),cd(a),s.resolving=!1,rm()}}return i}function bk(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(bi)?n[bi]:void 0;return typeof e=="number"?e>=0?e&Mb:Ck:e}function YD(n,e,t){let r=1<<n;return!!(t[e+(n>>Pb)]&r)}function JD(n,e){return!(n&2)&&!(n&1&&e)}var ki=class{_tNode;_lView;constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return Lb(this._tNode,this._lView,e,wi(r),t)}};function Ck(){return new ki(Qe(),ue())}function wd(n){return Jo(()=>{let e=n.prototype.constructor,t=e[Aa]||wm(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[Aa]||wm(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function wm(n){return _g(n)?()=>{let e=wm(rt(n));return e&&e()}:Nr(n)}function Sk(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[Q]&2048&&!zo(s);){let a=Fb(o,s,t,r|2,yn);if(a!==yn)return a;let u=o.parent;if(!u){let l=s[Ug];if(l){let h=l.get(t,yn,r);if(h!==yn)return h}u=Vb(s),s=s[Si]}o=u}return i}function Vb(n){let e=n[te],t=e.type;return t===2?e.declTNode:t===1?n[Bt]:null}function Xa(n){return Tk(Qe(),n)}function Ak(){return Zo(Qe(),ue())}function Zo(n,e){return new _n(en(n,e))}var _n=(()=>{class n{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Ak}return n})();function Rk(n){return n instanceof _n?n.nativeElement:n}function Nk(){return this._results[Symbol.iterator]()}var ld=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new He}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=aD(e);(this._changesDetected=!sD(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=Nk};function jb(n){return(n.flags&128)===128}var Km=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Km||{}),Ub=new Map,Mk=0;function Pk(){return Mk++}function xk(n){Ub.set(n[Fa],n)}function Tm(n){Ub.delete(n[Fa])}var ZD="__ngContext__";function Xo(n,e){gn(e)?(n[ZD]=e[Fa],xk(e)):n[ZD]=e}function Bb(n){return Hb(n[Ho])}function $b(n){return Hb(n[Ut])}function Hb(n){for(;n!==null&&!Xt(n);)n=n[Ut];return n}var Dm;function Qm(n){Dm=n}function zb(){if(Dm!==void 0)return Dm;if(typeof document<"u")return document;throw new j(210,!1)}var Td=new F("",{providedIn:"root",factory:()=>kk}),kk="ng",Dd=new F(""),Br=new F("",{providedIn:"platform",factory:()=>"unknown"});var Ok=new F(""),bd=new F("",{providedIn:"root",factory:()=>zb().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Lk="h",Fk="b";var qb=!1,Gb=new F("",{providedIn:"root",factory:()=>qb});var Vk=(n,e,t,r)=>{};function jk(n,e,t,r){Vk(n,e,t,r)}var Uk=()=>null;function Wb(n,e,t=!1){return Uk(n,e,t)}function Kb(n,e){let t=n.contentQueries;if(t!==null){let r=re(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];Gl(o),a.contentQueries(2,e[s],s)}}}finally{re(r)}}}function bm(n,e,t){Gl(0);let r=re(null);try{e(n,t)}finally{re(r)}}function Ym(n,e,t){if(jl(e)){let r=re(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{re(r)}}}var Xn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Xn||{});var Xl;function Bk(){if(Xl===void 0&&(Xl=null,Ma.trustedTypes))try{Xl=Ma.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Xl}function XD(n){return Bk()?.createScriptURL(n)||n}var dd=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Pl})`}};function ec(n){return n instanceof dd?n.changingThisBreaksApplicationSecurity:n}function Jm(n,e){let t=Qb(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Pl})`)}return t===e}function Qb(n){return n instanceof dd&&n.getTypeName()||null}var $k=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Yb(n){return n=String(n),n.match($k)?n:"unsafe:"+n}var Cd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Cd||{});function Jb(n){let e=Xb();return e?e.sanitize(Cd.URL,n)||"":Jm(n,"URL")?ec(n):Yb(Uo(n))}function Zb(n){let e=Xb();if(e)return XD(e.sanitize(Cd.RESOURCE_URL,n)||"");if(Jm(n,"ResourceURL"))return XD(ec(n));throw new j(904,!1)}function Hk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?Zb:Jb}function Zm(n,e,t){return Hk(e,t)(n)}function Xb(){let n=ue();return n&&n[fn].sanitizer}var zk=/^>|^->|<!--|-->|--!>|<!-$/g,qk=/(<|>)/g,Gk="\u200B$1\u200B";function Wk(n){return n.replace(zk,e=>e.replace(qk,Gk))}function eC(n){return n instanceof Function?n():n}function Kk(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}var tC="ng-template";function Qk(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&Kk(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Xm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Xm(n){return n.type===4&&n.value!==tC}function Yk(n,e,t){let r=n.type===4&&!t?tC:n.value;return e===r}function Jk(n,e,t){let r=4,i=n.attrs,o=i!==null?eO(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!tn(r)&&!tn(u))return!1;if(s&&tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!Yk(n,u,t)||u===""&&e.length===1){if(tn(r))return!1;s=!0}}else if(r&8){if(i===null||!Qk(n,i,u,t)){if(tn(r))return!1;s=!0}}else{let l=e[++a],h=Zk(u,i,Xm(n),t);if(h===-1){if(tn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(tn(r))return!1;s=!0}}}}return tn(r)||s}function tn(n){return(n&1)===0}function Zk(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return tO(e,n)}function Xk(n,e,t=!1){for(let r=0;r<e.length;r++)if(Jk(n,e[r],t))return!0;return!1}function eO(n){for(let e=0;e<n.length;e++){let t=n[e];if(Rb(t))return e}return n.length}function tO(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function eb(n,e){return n?":not("+e.trim()+")":e}function nO(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!tn(s)&&(e+=eb(o,i),i=""),r=s,o=o||!tn(r);t++}return i!==""&&(e+=eb(o,i)),e}function rO(n){return n.map(nO).join(",")}function iO(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!tn(i))break;i=o}r++}return t.length&&e.push(1,...t),e}var En={};function oO(n,e){return n.createText(e)}function sO(n,e,t){n.setValue(e,t)}function aO(n,e){return n.createComment(Wk(e))}function nC(n,e,t){return n.createElement(e,t)}function hd(n,e,t,r,i){n.insertBefore(e,t,r,i)}function rC(n,e,t){n.appendChild(e,t)}function tb(n,e,t,r,i){r!==null?hd(n,e,t,r,i):rC(n,e,t)}function cO(n,e,t){n.removeChild(null,e,t)}function uO(n,e,t){n.setAttribute(e,"style",t)}function lO(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function iC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&yk(n,e,r),i!==null&&lO(n,e,i),o!==null&&uO(n,e,o)}function ey(n,e,t,r,i,o,s,a,u,l,h){let p=vt+r,g=p+i,y=dO(p,g),C=typeof l=="function"?l():l;return y[te]={type:n,blueprint:y,template:t,queries:null,viewQuery:a,declTNode:e,data:y.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:g,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:C,incompleteFirstPass:!1,ssrId:h}}function dO(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:En);return t}function hO(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=ey(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function ty(n,e,t,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Zt]=i,p[Q]=r|4|128|8|64|1024,(l!==null||n&&n[Q]&2048)&&(p[Q]|=2048),zg(p),p[Ke]=p[Si]=n,p[lt]=t,p[fn]=s||n&&n[fn],p[Ae]=a||n&&n[Ae],p[Ci]=u||n&&n[Ci]||null,p[Bt]=o,p[Fa]=Pk(),p[La]=h,p[Ug]=l,p[$t]=e.type==2?n[$t]:p,p}function fO(n,e,t){let r=en(e,n),i=hO(t),o=n[fn].rendererFactory,s=ny(n,ty(n,i,null,oC(t),r,e,null,o.createRenderer(r,t),null,null,null));return n[e.index]=s}function oC(n){let e=16;return n.signals?e=4096:n.onPush&&(e=64),e}function sC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function ny(n,e){return n[Ho]?n[jg][Ut]=e:n[Ho]=e,n[jg]=e,e}function pO(n=1){aC(ze(),ue(),xi()+n,!1)}function aC(n,e,t,r){if(!r)if((e[Q]&3)===3){let o=n.preOrderCheckHooks;o!==null&&td(e,o,t)}else{let o=n.preOrderHooks;o!==null&&nd(e,o,0,t)}Vr(t)}var Sd=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Sd||{});function Cm(n,e,t,r){let i=re(null);try{let[o,s,a]=n.inputs[t],u=null;(s&Sd.SignalBased)!==0&&(u=e[o][ut]),u!==null&&u.transformFn!==void 0?r=u.transformFn(r):a!==null&&(r=a.call(e,r)),n.setInput!==null?n.setInput(e,u,r,t,o):Db(e,u,o,r)}finally{re(i)}}function cC(n,e,t,r,i){let o=xi(),s=r&2;try{Vr(-1),s&&e.length>vt&&aC(n,e,vt,!1),_e(s?2:0,i,t),t(r,i)}finally{Vr(o),_e(s?3:1,i,t)}}function Ad(n,e,t){IO(n,e,t),(t.flags&64)===64&&wO(n,e,t)}function ry(n,e,t=en){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function gO(n,e,t,r){let o=r.get(Gb,qb)||t===Xn.ShadowDom,s=n.selectRootElement(e,o);return mO(s),s}function mO(n){yO(n)}var yO=()=>null;function vO(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function uC(n,e,t,r,i,o){let s=e[te];if(oy(n,s,e,t,r)){Lr(n)&&EO(e,n.index);return}_O(n,e,t,r,i,o)}function _O(n,e,t,r,i,o){if(n.type&3){let s=en(n,e);t=vO(t),r=o!=null?o(r,n.value||"",t):r,i.setProperty(s,t,r)}else n.type&12}function EO(n,e){let t=zt(e,n);t[Q]&16||(t[Q]|=64)}function IO(n,e,t){let r=t.directiveStart,i=t.directiveEnd;Lr(t)&&fO(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||ud(t,e);let o=t.initialInputs;for(let s=r;s<i;s++){let a=n.data[s],u=Qa(e,n,s,t);if(Xo(u,e),o!==null&&CO(e,s-r,u,a,t,o),mn(a)){let l=zt(t.index,e);l[lt]=Qa(e,n,s,t)}}}function wO(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=FD();try{Vr(o);for(let a=r;a<i;a++){let u=n.data[a],l=e[a];ql(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&TO(u,l)}}finally{Vr(-1),ql(s)}}function TO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function iy(n,e){let t=n.directiveRegistry,r=null;if(t)for(let i=0;i<t.length;i++){let o=t[i];Xk(e,o.selectors,!1)&&(r??=[],mn(o)?r.unshift(o):r.push(o))}return r}function DO(n,e,t,r,i,o){let s=en(n,e);bO(e[Ae],s,o,n.value,t,r,i)}function bO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Uo(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function CO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;a+=2){let u=s[a],l=s[a+1];Cm(r,t,u,l)}}function SO(n,e){let t=n[Ci];if(!t)return;t.get(Ct,null)?.(e)}function oy(n,e,t,r,i){let o=n.inputs?.[r],s=n.hostDirectiveInputs?.[r],a=!1;if(s)for(let u=0;u<s.length;u+=2){let l=s[u],h=s[u+1],p=e.data[l];Cm(p,t[l],h,i),a=!0}if(o)for(let u of o){let l=t[u],h=e.data[u];Cm(h,l,r,i),a=!0}return a}function AO(n,e){let t=zt(e,n),r=t[te];RO(r,t);let i=t[Zt];i!==null&&t[La]===null&&(t[La]=Wb(i,t[Ci])),_e(18),sy(r,t,t[lt]),_e(19,t[lt])}function RO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function sy(n,e,t){Wl(e);try{let r=n.viewQuery;r!==null&&bm(1,r,t);let i=n.template;i!==null&&cC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[pn]?.finishViewCreation(n),n.staticContentQueries&&Kb(n,e),n.staticViewQueries&&bm(2,n.viewQuery,t);let o=n.components;o!==null&&NO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Q]&=-5,Kl()}}function NO(n,e){for(let t=0;t<e.length;t++)AO(n,e[t])}function MO(n,e,t,r){let i=re(null);try{let o=e.tView,a=n[Q]&4096?4096:16,u=ty(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=n[e.index];u[kr]=l;let h=n[pn];return h!==null&&(u[pn]=h.createEmbeddedView(o)),sy(o,u,t),u}finally{re(i)}}function nb(n,e){return!e||e.firstChild===null||jb(n)}var rb=!1,PO=new F(""),xO;function ay(n,e){return xO(n,e)}var vn=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(vn||{});function cy(n){return(n.flags&32)===32}function Wo(n,e,t,r,i){if(r!=null){let o,s=!1;Xt(r)?o=r:gn(r)&&(s=!0,r=r[Zt]);let a=Ht(r);n===0&&t!==null?i==null?rC(e,t,a):hd(e,t,a,i||null,!0):n===1&&t!==null?hd(e,t,a,i||null,!0):n===2?cO(e,a,s):n===3&&e.destroyNode(a),o!=null&&qO(e,n,o,t,i)}}function kO(n,e){lC(n,e),e[Zt]=null,e[Bt]=null}function OO(n,e,t,r,i,o){r[Zt]=i,r[Bt]=e,Nd(n,r,t,1,i,o)}function lC(n,e){e[fn].changeDetectionScheduler?.notify(9),Nd(n,e,e[Ae],2,null,null)}function LO(n){let e=n[Ho];if(!e)return hm(n[te],n);for(;e;){let t=null;if(gn(e))t=e[Ho];else{let r=e[_t];r&&(t=r)}if(!t){for(;e&&!e[Ut]&&e!==n;)gn(e)&&hm(e[te],e),e=e[Ke];e===null&&(e=n),gn(e)&&hm(e[te],e),t=e&&e[Ut]}e=t}}function uy(n,e){let t=n[Ni],r=t.indexOf(e);t.splice(r,1)}function dC(n,e){if(Mi(e))return;let t=e[Ae];t.destroyNode&&Nd(n,e,t,3,null,null),LO(e)}function hm(n,e){if(Mi(e))return;let t=re(null);try{e[Q]&=-129,e[Q]|=256,e[xt]&&Qu(e[xt]),VO(n,e),FO(n,e),e[te].type===1&&e[Ae].destroy();let r=e[kr];if(r!==null&&Xt(e[Ke])){r!==e[Ke]&&uy(r,e);let i=e[pn];i!==null&&i.detachView(n)}Tm(e)}finally{re(t)}}function FO(n,e){let t=n.cleanup,r=e[$o];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[$o]=null);let i=e[Wn];if(i!==null){e[Wn]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}let o=e[Va];if(o!==null){e[Va]=null;for(let s of o)s.destroy()}}function VO(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Oi)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];_e(4,a,u);try{u.call(a)}finally{_e(5,a,u)}}else{_e(4,i,o);try{o.call(i)}finally{_e(5,i,o)}}}}}function jO(n,e,t){return UO(n,e.parent,t)}function UO(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Zt];if(Lr(r)){let{encapsulation:i}=n.data[r.directiveStart+r.componentOffset];if(i===Xn.None||i===Xn.Emulated)return null}return en(r,t)}function BO(n,e,t){return HO(n,e,t)}function $O(n,e,t){return n.type&40?en(n,t):null}var HO=$O,ib;function Rd(n,e,t,r){let i=jO(n,r,e),o=e[Ae],s=r.parent||e[Bt],a=BO(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)tb(o,i,t[u],a,!1);else tb(o,i,t,a,!1);ib!==void 0&&ib(o,r,e,t,i)}function Wa(n,e){if(e!==null){let t=e.type;if(t&3)return en(e,n);if(t&4)return Sm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Wa(n,r);{let i=n[e.index];return Xt(i)?Sm(-1,i):Ht(i)}}else{if(t&128)return Wa(n,e.next);if(t&32)return ay(e,n)()||Ht(n[e.index]);{let r=hC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Mr(n[$t]);return Wa(i,r)}else return Wa(n,e.next)}}}return null}function hC(n,e){if(e!==null){let r=n[$t][Bt],i=e.projection;return r.projection[i]}return null}function Sm(n,e){let t=_t+n+1;if(t<e.length){let r=e[t],i=r[te].firstChild;if(i!==null)return Wa(r,i)}return e[Or]}function ly(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Xo(Ht(a),r),t.flags|=2),!cy(t))if(u&8)ly(n,e,t.child,r,i,o,!1),Wo(e,n,i,a,o);else if(u&32){let l=ay(t,r),h;for(;h=l();)Wo(e,n,i,h,o);Wo(e,n,i,a,o)}else u&16?zO(n,e,r,t,i,o):Wo(e,n,i,a,o);t=s?t.projectionNext:t.next}}function Nd(n,e,t,r,i,o){ly(t,r,n.firstChild,e,i,o,!1)}function zO(n,e,t,r,i,o){let s=t[$t],u=s[Bt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];Wo(e,n,i,h,o)}else{let l=u,h=s[Ke];jb(r)&&(l.flags|=128),ly(n,e,l,h,i,o,!0)}}function qO(n,e,t,r,i){let o=t[Or],s=Ht(t);o!==s&&Wo(e,n,r,o,i);for(let a=_t;a<t.length;a++){let u=t[a];Nd(u[te],u,n,e,r,o)}}function GO(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:vn.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=vn.Important),n.setStyle(t,r,i,o))}}function Ya(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Ht(o)),Xt(o)&&fC(o,r);let s=t.type;if(s&8)Ya(n,e,t.child,r);else if(s&32){let a=ay(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=hC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Mr(e[$t]);Ya(u[te],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function fC(n,e){for(let t=_t;t<n.length;t++){let r=n[t],i=r[te].firstChild;i!==null&&Ya(r[te],r,i,e)}n[Or]!==n[Zt]&&e.push(n[Or])}function pC(n){if(n[Ri]!==null){for(let e of n[Ri])e.impl.addSequence(e);n[Ri].length=0}}var gC=[];function WO(n){return n[xt]??KO(n)}function KO(n){let e=gC.pop()??Object.create(YO);return e.lView=n,e}function QO(n){n.lView[xt]!==n&&(n.lView=null,gC.push(n))}var YO=fe(L({},gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{qo(n.lView)},consumerOnSignalRead(){this.lView[xt]=this}});function JO(n){let e=n[xt]??Object.create(ZO);return e.lView=n,e}var ZO=fe(L({},gi),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:n=>{let e=Mr(n.lView);for(;e&&!mC(e[te]);)e=Mr(e);e&&qg(e)},consumerOnSignalRead(){this.lView[xt]=this}});function mC(n){return n.type!==2}function yC(n){if(n[Va]===null)return;let e=!0;for(;e;){let t=!1;for(let r of n[Va])r.dirty&&(t=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=t&&!!(n[Q]&8192)}}var XO=100;function dy(n,e=0){let r=n[fn].rendererFactory,i=!1;i||r.begin?.();try{e1(n,e)}finally{i||r.end?.()}}function e1(n,e){let t=Zg();try{Xg(!0),Am(n,e);let r=0;for(;Ba(n);){if(r===XO)throw new j(103,!1);r++,Am(n,1)}}finally{Xg(t)}}function vC(n,e){Jg(e?$a.Exhaustive:$a.OnlyDirtyViews);try{dy(n)}finally{Jg($a.Off)}}function t1(n,e,t,r){if(Mi(e))return;let i=e[Q],o=!1,s=!1;Wl(e);let a=!0,u=null,l=null;o||(mC(n)?(l=WO(e),u=mi(l)):Wu()===null?(a=!1,l=JO(e),u=mi(l)):e[xt]&&(Qu(e[xt]),e[xt]=null));try{zg(e),xD(n.bindingStartIndex),t!==null&&cC(n,e,t,2,r);let h=(i&3)===3;if(!o)if(h){let y=n.preOrderCheckHooks;y!==null&&td(e,y,null)}else{let y=n.preOrderHooks;y!==null&&nd(e,y,0,null),lm(e,0)}if(s||n1(e),yC(e),_C(e,0),n.contentQueries!==null&&Kb(n,e),!o)if(h){let y=n.contentCheckHooks;y!==null&&td(e,y)}else{let y=n.contentHooks;y!==null&&nd(e,y,1),lm(e,1)}i1(n,e);let p=n.components;p!==null&&IC(e,p,0);let g=n.viewQuery;if(g!==null&&bm(2,g,r),!o)if(h){let y=n.viewCheckHooks;y!==null&&td(e,y)}else{let y=n.viewHooks;y!==null&&nd(e,y,2),lm(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Vl]){for(let y of e[Vl])y();e[Vl]=null}o||(pC(e),e[Q]&=-73)}catch(h){throw o||qo(e),h}finally{l!==null&&(Do(l,u),a&&QO(l)),Kl()}}function _C(n,e){for(let t=Bb(n);t!==null;t=$b(t))for(let r=_t;r<t.length;r++){let i=t[r];EC(i,e)}}function n1(n){for(let e=Bb(n);e!==null;e=$b(e)){if(!(e[Q]&2))continue;let t=e[Ni];for(let r=0;r<t.length;r++){let i=t[r];qg(i)}}}function r1(n,e,t){_e(18);let r=zt(e,n);EC(r,t),_e(19,r[lt])}function EC(n,e){Bl(n)&&Am(n,e)}function Am(n,e){let r=n[te],i=n[Q],o=n[xt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&wa(o)),s||=!1,o&&(o.dirty=!1),n[Q]&=-9217,s)t1(r,n,r.template,n[lt]);else if(i&8192){let a=re(null);try{yC(n),_C(n,1);let u=r.components;u!==null&&IC(n,u,1),pC(n)}finally{re(a)}}}function IC(n,e,t){for(let r=0;r<e.length;r++)r1(n,e[r],t)}function i1(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Vr(~i);else{let o=i,s=t[++r],a=t[++r];LD(s,o);let u=e[o];_e(24,u),a(2,u),_e(25,u)}}}finally{Vr(-1)}}function hy(n,e){let t=Zg()?64:1088;for(n[fn].changeDetectionScheduler?.notify(e);n;){n[Q]|=t;let r=Mr(n);if(zo(n)&&!r)return n;n=r}return null}function wC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function o1(n,e,t,r=!0){let i=e[te];if(s1(i,e,n,t),r){let s=Sm(t,n),a=e[Ae],u=a.parentNode(n[Or]);u!==null&&OO(i,n[Bt],a,e,u,s)}let o=e[La];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Rm(n,e){if(n.length<=_t)return;let t=_t+e,r=n[t];if(r){let i=r[kr];i!==null&&i!==n&&uy(i,r),e>0&&(n[t-1][Ut]=r[Ut]);let o=xa(n,_t+e);kO(r[te],r);let s=o[pn];s!==null&&s.detachView(o[te]),r[Ke]=null,r[Ut]=null,r[Q]&=-129}return r}function s1(n,e,t,r){let i=_t+r,o=t.length;r>0&&(t[i-1][Ut]=e),r<o-_t?(e[Ut]=t[i],Rg(t,_t+r,e)):(t.push(e),e[Ut]=null),e[Ke]=t;let s=e[kr];s!==null&&t!==s&&TC(s,e);let a=e[pn];a!==null&&a.insertView(n),$l(e),e[Q]|=128}function TC(n,e){let t=n[Ni],r=e[Ke];if(gn(r))n[Q]|=2;else{let i=r[Ke][$t];e[$t]!==i&&(n[Q]|=2)}t===null?n[Ni]=[e]:t.push(e)}var jr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let e=this._lView,t=e[te];return Ya(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t}get context(){return this._lView[lt]}set context(e){this._lView[lt]=e}get destroyed(){return Mi(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ke];if(Xt(e)){let t=e[ja],r=t?t.indexOf(this):-1;r>-1&&(Rm(e,r),xa(t,r))}this._attachedToViewContainer=!1}dC(this._lView[te],this._lView)}onDestroy(e){Gg(this._lView,e)}markForCheck(){hy(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Q]&=-129}reattach(){$l(this._lView),this._lView[Q]|=128}detectChanges(){this._lView[Q]|=1024,dy(this._lView)}checkNoChanges(){return;try{this.exhaustive??=this._lView[Ci].get(PO,rb)}catch{this.exhaustive=rb}}attachToViewContainerRef(){if(this._appRef)throw new j(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=zo(this._lView),t=this._lView[kr];t!==null&&!e&&uy(t,this._lView),lC(this._lView[te],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new j(902,!1);this._appRef=e;let t=zo(this._lView),r=this._lView[kr];r!==null&&!t&&TC(r,this._lView),$l(this._lView)}};var Ur=(()=>{class n{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=a1;constructor(t,r,i){this._declarationLView=t,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(t,r){return this.createEmbeddedViewImpl(t,r)}createEmbeddedViewImpl(t,r,i){let o=MO(this._declarationLView,this._declarationTContainer,t,{embeddedViewInjector:r,dehydratedView:i});return new jr(o)}}return n})();function a1(){return Md(Qe(),ue())}function Md(n,e){return n.type&4?new Ur(e,n,Zo(n,e)):null}function Pd(n,e,t,r,i){let o=n.data[e];if(o===null)o=c1(n,e,t,r,i),OD()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=MD();o.injectorIndex=s===null?-1:s.injectorIndex}return Fr(o,!0),o}function c1(n,e,t,r,i){let o=Qg(),s=zl(),a=s?o:o&&o.parent,u=n.data[e]=l1(n,a,t,e,r,i);return u1(n,u,o,s),u}function u1(n,e,t,r){n.firstChild===null&&(n.firstChild=e),t!==null&&(r?t.child==null&&e.parent!==null&&(t.child=e):t.next===null&&(t.next=e,e.prev=t))}function l1(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return CD()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var V5=new RegExp(`^(\\d+)*(${Fk}|${Lk})*(.*)`);var d1=()=>null;function ob(n,e){return d1(n,e)}var DC=class{},xd=class{},Nm=class{resolveComponentFactory(e){throw new j(917,!1)}},tc=class{static NULL=new Nm},Li=class{},es=(()=>{class n{destroyNode=null;static __NG_ELEMENT_ID__=()=>h1()}return n})();function h1(){let n=ue(),e=Qe(),t=zt(e.index,n);return(gn(t)?t:n)[Ae]}var bC=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>null})}return n})();var id={},Mm=class{injector;parentInjector;constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){let i=this.injector.get(e,id,r);return i!==id||t===id?i:this.parentInjector.get(e,t,r)}};function Pm(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=vg(i,a);else if(o==2){let u=a,l=e[++s];r=vg(r,u+": "+l+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Ne(n,e=0){let t=ue();if(t===null)return H(n,e);let r=Qe();return Lb(r,t,rt(n),e)}function fy(){let n="invalid";throw new Error(n)}function py(n,e,t,r,i){let o=r===null?null:{"":-1},s=i(n,t);if(s!==null){let a=s,u=null,l=null;for(let h of s)if(h.resolveHostDirectives!==null){[a,u,l]=h.resolveHostDirectives(s);break}g1(n,e,t,a,o,u,l)}o!==null&&r!==null&&f1(t,r,o)}function f1(n,e,t){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new j(-301,!1);r.push(e[i],o)}}function p1(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function g1(n,e,t,r,i,o,s){let a=r.length,u=!1;for(let g=0;g<a;g++){let y=r[g];!u&&mn(y)&&(u=!0,p1(n,t,g)),Im(ud(t,e),n,y.type)}I1(t,n.data.length,a);for(let g=0;g<a;g++){let y=r[g];y.providersResolver&&y.providersResolver(y)}let l=!1,h=!1,p=sC(n,e,a,null);a>0&&(t.directiveToIndex=new Map);for(let g=0;g<a;g++){let y=r[g];if(t.mergedAttrs=Qo(t.mergedAttrs,y.hostAttrs),y1(n,t,e,p,y),E1(p,y,i),s!==null&&s.has(y)){let[N,R]=s.get(y);t.directiveToIndex.set(y.type,[p,N+t.directiveStart,R+t.directiveStart])}else(o===null||!o.has(y))&&t.directiveToIndex.set(y.type,p);y.contentQueries!==null&&(t.flags|=4),(y.hostBindings!==null||y.hostAttrs!==null||y.hostVars!==0)&&(t.flags|=64);let C=y.type.prototype;!l&&(C.ngOnChanges||C.ngOnInit||C.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),l=!0),!h&&(C.ngOnChanges||C.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),h=!0),p++}m1(n,t,o)}function m1(n,e,t){for(let r=e.directiveStart;r<e.directiveEnd;r++){let i=n.data[r];if(t===null||!t.has(i))sb(0,e,i,r),sb(1,e,i,r),cb(e,r,!1);else{let o=t.get(i);ab(0,e,o,r),ab(1,e,o,r),cb(e,r,!0)}}}function sb(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s;n===0?s=e.inputs??={}:s=e.outputs??={},s[o]??=[],s[o].push(r),CC(e,o)}}function ab(n,e,t,r){let i=n===0?t.inputs:t.outputs;for(let o in i)if(i.hasOwnProperty(o)){let s=i[o],a;n===0?a=e.hostDirectiveInputs??={}:a=e.hostDirectiveOutputs??={},a[s]??=[],a[s].push(r,o),CC(e,s)}}function CC(n,e){e==="class"?n.flags|=8:e==="style"&&(n.flags|=16)}function cb(n,e,t){let{attrs:r,inputs:i,hostDirectiveInputs:o}=n;if(r===null||!t&&i===null||t&&o===null||Xm(n)){n.initialInputs??=[],n.initialInputs.push(null);return}let s=null,a=0;for(;a<r.length;){let u=r[a];if(u===0){a+=4;continue}else if(u===5){a+=2;continue}else if(typeof u=="number")break;if(!t&&i.hasOwnProperty(u)){let l=i[u];for(let h of l)if(h===e){s??=[],s.push(u,r[a+1]);break}}else if(t&&o.hasOwnProperty(u)){let l=o[u];for(let h=0;h<l.length;h+=2)if(l[h]===e){s??=[],s.push(l[h+1],r[a+1]);break}}a+=2}n.initialInputs??=[],n.initialInputs.push(s)}function y1(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=Nr(i.type,!0)),s=new Oi(o,mn(i),Ne);n.blueprint[r]=s,t[r]=s,v1(n,e,r,sC(n,t,i.hostVars,En),i)}function v1(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;_1(s)!=a&&s.push(a),s.push(t,r,o)}}function _1(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function E1(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;mn(e)&&(t[""]=n)}}function I1(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function SC(n,e,t,r,i,o,s,a){let u=e.consts,l=Pi(u,s),h=Pd(e,n,2,r,l);return o&&py(e,t,h,Pi(u,a),i),h.mergedAttrs=Qo(h.mergedAttrs,h.attrs),h.attrs!==null&&Pm(h,h.attrs,!1),h.mergedAttrs!==null&&Pm(h,h.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,h),h}function AC(n,e){Gm(n,e),jl(e)&&n.queries.elementEnd(e)}function gy(n){return NC(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function RC(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function NC(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function w1(n,e,t){return n[e]=t}function Bi(n,e,t){if(t===En)return!1;let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function fm(n,e,t){return function r(i){let o=Lr(n)?zt(n.index,e):e;hy(o,5);let s=e[lt],a=ub(e,s,t,i),u=r.__ngNextListenerFn__;for(;u;)a=ub(e,s,u,i)&&a,u=u.__ngNextListenerFn__;return a}}function ub(n,e,t,r){let i=re(null);try{return _e(6,e,t),t(r)!==!1}catch(o){return SO(n,o),!1}finally{_e(7,e,t),re(i)}}function T1(n,e,t,r,i,o,s,a){let u=Ua(n),l=!1,h=null;if(!r&&u&&(h=D1(e,t,o,n.index)),h!==null){let p=h.__ngLastListenerFn__||h;p.__ngNextListenerFn__=s,h.__ngLastListenerFn__=s,l=!0}else{let p=en(n,t),g=r?r(p):p;jk(t,g,o,a);let y=i.listen(g,o,a),C=r?N=>r(Ht(N[n.index])):n.index;MC(C,e,t,o,a,y,!1)}return l}function D1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[$o],u=i[o+2];return a&&a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function MC(n,e,t,r,i,o,s){let a=e.firstCreatePass?Kg(e):null,u=Wg(t),l=u.length;u.push(i,o),a&&a.push(r,n,l,(l+1)*(s?-1:1))}function lb(n,e,t,r,i,o){let s=e[t],a=e[te],l=a.data[t].outputs[r],p=s[l].subscribe(o);MC(n.index,a,e,i,o,p,!0)}var xm=Symbol("BINDING");var fd=class extends tc{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Qn(e);return new Fi(t,this.ngModule)}};function b1(n){return Object.keys(n).map(e=>{let[t,r,i]=n[e],o={propName:t,templateName:e,isSignal:(r&Sd.SignalBased)!==0};return i&&(o.transform=i),o})}function C1(n){return Object.keys(n).map(e=>({propName:n[e],templateName:e}))}function S1(n,e,t){let r=e instanceof be?e:e?.injector;return r&&n.getStandaloneInjector!==null&&(r=n.getStandaloneInjector(r)||r),r?new Mm(t,r):t}function A1(n){let e=n.get(Li,null);if(e===null)throw new j(407,!1);let t=n.get(bC,null),r=n.get(Kn,null);return{rendererFactory:e,sanitizer:t,changeDetectionScheduler:r,ngReflect:!1}}function R1(n,e){let t=(n.selectors[0][0]||"div").toLowerCase();return nC(e,t,t==="svg"?mD:t==="math"?yD:null)}var Fi=class extends xd{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=b1(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=C1(this.componentDef.outputs),this.cachedOutputs}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=rO(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!t}create(e,t,r,i,o,s){_e(22);let a=re(null);try{let u=this.componentDef,l=N1(r,u,s,o),h=S1(u,i||this.ngModule,e),p=A1(h),g=p.rendererFactory.createRenderer(null,u),y=r?gO(g,r,u.encapsulation,h):R1(u,g),C=s?.some(db)||o?.some(k=>typeof k!="function"&&k.bindings.some(db)),N=ty(null,l,null,512|oC(u),null,null,p,g,h,null,Wb(y,h,!0));N[vt]=y,Wl(N);let R=null;try{let k=SC(vt,l,N,"#host",()=>l.directiveRegistry,!0,0);y&&(iC(g,y,k),Xo(y,N)),Ad(l,N,k),Ym(l,k,N),AC(l,k),t!==void 0&&P1(k,this.ngContentSelectors,t),R=zt(k.index,N),N[lt]=R[lt],sy(l,N,null)}catch(k){throw R!==null&&Tm(R),Tm(N),k}finally{_e(23),Kl()}return new pd(this.componentType,N,!!C)}finally{re(a)}}};function N1(n,e,t,r){let i=n?["ng-version","20.0.3"]:iO(e.selectors[0]),o=null,s=null,a=0;if(t)for(let h of t)a+=h[xm].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(s??=[]).push(h));if(r)for(let h=0;h<r.length;h++){let p=r[h];if(typeof p!="function")for(let g of p.bindings){a+=g[xm].requiredVars;let y=h+1;g.create&&(g.targetIdx=y,(o??=[]).push(g)),g.update&&(g.targetIdx=y,(s??=[]).push(g))}}let u=[e];if(r)for(let h of r){let p=typeof h=="function"?h:h.type,g=xg(p);u.push(g)}return ey(0,null,M1(o,s),1,a,u,null,null,null,[i],null)}function M1(n,e){return!n&&!e?null:t=>{if(t&1&&n)for(let r of n)r.create();if(t&2&&e)for(let r of e)r.update()}}function db(n){let e=n[xm].kind;return e==="input"||e==="twoWay"}var pd=class extends DC{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,t,r){super(),this._rootLView=t,this._hasInputBindings=r,this._tNode=Ul(t[te],vt),this.location=Zo(this._tNode,t),this.instance=zt(this._tNode.index,t)[lt],this.hostView=this.changeDetectorRef=new jr(t,void 0),this.componentType=e}setInput(e,t){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let i=this._rootLView,o=oy(r,i[te],i,e,t);this.previousInputValues.set(e,t);let s=zt(r.index,i);hy(s,1)}get injector(){return new ki(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function P1(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null&&o.length?Array.from(o):null)}}var er=(()=>{class n{static __NG_ELEMENT_ID__=x1}return n})();function x1(){let n=Qe();return xC(n,ue())}var k1=er,PC=class extends k1{_lContainer;_hostTNode;_hostLView;constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new ki(this._hostTNode,this._hostLView)}get parentInjector(){let e=Wm(this._hostTNode,this._hostLView);if(Nb(e)){let t=ad(e,this._hostLView),r=sd(e),i=t[te].data[r+8];return new ki(i,t)}else return new ki(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=hb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-_t}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=ob(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,nb(this._hostTNode,s)),a}createComponent(e,t,r,i,o,s,a){let u=e&&!uk(e),l;if(u)l=t;else{let R=t||{};l=R.index,r=R.injector,i=R.projectableNodes,o=R.environmentInjector||R.ngModuleRef,s=R.directives,a=R.bindings}let h=u?e:new Fi(Qn(e)),p=r||this.parentInjector;if(!o&&h.ngModule==null){let k=(u?p:this.parentInjector).get(be,null);k&&(o=k)}let g=Qn(h.componentType??{}),y=ob(this._lContainer,g?.id??null),C=y?.firstChild??null,N=h.create(p,i,C,o,s,a);return this.insertImpl(N.hostView,l,nb(this._hostTNode,y)),N}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(_D(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ke],l=new PC(u,u[Bt],u[Ke]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return o1(s,i,o,r),e.attachToViewContainerRef(),Rg(pm(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=hb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Rm(this._lContainer,t);r&&(xa(pm(this._lContainer),t),dC(r[te],r))}detach(e){let t=this._adjustIndex(e,-1),r=Rm(this._lContainer,t);return r&&xa(pm(this._lContainer),t)!=null?new jr(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function hb(n){return n[ja]}function pm(n){return n[ja]||(n[ja]=[])}function xC(n,e){let t,r=e[n.index];return Xt(r)?t=r:(t=wC(r,e,null,n),e[n.index]=t,ny(e,t)),L1(t,e,n,r),new PC(t,n,e)}function O1(n,e){let t=n[Ae],r=t.createComment(""),i=en(e,n),o=t.parentNode(i);return hd(t,o,r,t.nextSibling(i),!1),r}var L1=j1,F1=()=>!1;function V1(n,e,t){return F1(n,e,t)}function j1(n,e,t,r){if(n[Or])return;let i;t.type&8?i=Ht(r):i=O1(e,t),n[Or]=i}var km=class n{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},Om=class n{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){let s=t.getByIndex(o),a=this.queries[s.indexInDeclarationView];i.push(a.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)my(e,t).matches!==null&&this.queries[t].setDirty()}},Lm=class{flags;read;predicate;constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=W1(e):this.predicate=e}},Fm=class n{queries;constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,t!==null?t.push(o):t=[o])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Vm=class n{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,t=-1){this.metadata=e,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(e,t,U1(t,o)),this.matchTNodeWithReadOption(e,t,rd(t,e,o,!1,!1))}else r===Ur?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,rd(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===_n||i===er||i===Ur&&t.type&4)this.addMatch(t.index,-2);else{let o=rd(t,e,i,!1,!1);o!==null&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function U1(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function B1(n,e){return n.type&11?Zo(n,e):n.type&4?Md(n,e):null}function $1(n,e,t,r){return t===-1?B1(e,n):t===-2?H1(n,e,r):Qa(n,n[te],t,e)}function H1(n,e,t){if(t===_n)return Zo(e,n);if(t===Ur)return Md(e,n);if(t===er)return xC(e,n)}function kC(n,e,t,r){let i=e[pn].queries[r];if(i.matches===null){let o=n.data,s=t.matches,a=[];for(let u=0;s!==null&&u<s.length;u+=2){let l=s[u];if(l<0)a.push(null);else{let h=o[l];a.push($1(e,h,s[u+1],t.metadata.read))}}i.matches=a}return i.matches}function jm(n,e,t,r){let i=n.queries.getByIndex(t),o=i.matches;if(o!==null){let s=kC(n,e,i,t);for(let a=0;a<o.length;a+=2){let u=o[a];if(u>0)r.push(s[a/2]);else{let l=o[a+1],h=e[-u];for(let p=_t;p<h.length;p++){let g=h[p];g[kr]===g[Ke]&&jm(g[te],g,l,r)}if(h[Ni]!==null){let p=h[Ni];for(let g=0;g<p.length;g++){let y=p[g];jm(y[te],y,l,r)}}}}}return r}function z1(n,e){return n[pn].queries[e].queryList}function q1(n,e,t){let r=new ld((t&4)===4);return wD(n,e,r,r.destroy),(e[pn]??=new Om).queries.push(new km(r))-1}function G1(n,e,t,r){let i=ze();if(i.firstCreatePass){let o=Qe();K1(i,new Lm(e,t,r),o.index),Q1(i,n),(t&2)===2&&(i.staticContentQueries=!0)}return q1(i,ue(),t)}function W1(n){return n.split(",").map(e=>e.trim())}function K1(n,e,t){n.queries===null&&(n.queries=new Fm),n.queries.track(new Vm(e,t))}function Q1(n,e){let t=n.contentQueries||(n.contentQueries=[]),r=t.length?t[t.length-1]:-1;e!==r&&t.push(n.queries.length-1,e)}function my(n,e){return n.queries.getByIndex(e)}function Y1(n,e){let t=n[te],r=my(t,e);return r.crossesNgTemplate?jm(t,n,e,[]):kC(t,n,r,e)}var fb=new Set;function ts(n){fb.has(n)||(fb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Vi=class{},kd=class{};var gd=class extends Vi{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fd(this);constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t;let o=Pg(e);this._bootstrapComponents=eC(o.bootstrap),this._r3Injector=im(e,t,[{provide:Vi,useValue:this},{provide:tc,useValue:this.componentFactoryResolver},...r],bt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},md=class extends kd{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new gd(this.moduleType,e,[])}};var Ja=class extends Vi{injector;componentFactoryResolver=new fd(this);instance=null;constructor(e){super();let t=new Di([...e.providers,{provide:Vi,useValue:this},{provide:tc,useValue:this.componentFactoryResolver}],e.parent||Oa(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function ns(n,e,t=null){return new Ja({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}var J1=(()=>{class n{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=kg(!1,t.type),i=r.length>0?ns([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=U({token:n,providedIn:"environment",factory:()=>new n(H(be))})}return n})();function yy(n){return Jo(()=>{let e=LC(n),t=fe(L({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Km.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(J1).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Xn.Emulated,styles:n.styles||Mt,_:null,schemas:n.schemas||null,tView:null,id:""});e.standalone&&ts("NgStandalone"),FC(t);let r=n.dependencies;return t.directiveDefs=pb(r,!1),t.pipeDefs=pb(r,!0),t.id=nL(t),t})}function Z1(n){return Qn(n)||xg(n)}function X1(n){return n!==null}function tr(n){return Jo(()=>({type:n.type,bootstrap:n.bootstrap||Mt,declarations:n.declarations||Mt,imports:n.imports||Mt,exports:n.exports||Mt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function eL(n,e){if(n==null)return Pr;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a,u;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o,u=i[3]||null):(o=i,s=i,a=Sd.None,u=null),t[o]=[r,a,u],e[o]=s}return t}function tL(n){if(n==null)return Pr;let e={};for(let t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function nr(n){return Jo(()=>{let e=LC(n);return FC(e),e})}function OC(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone??!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function LC(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputConfig:n.inputs||Pr,exportAs:n.exportAs||null,standalone:n.standalone??!0,signals:n.signals===!0,selectors:n.selectors||Mt,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:eL(n.inputs,e),outputs:tL(n.outputs),debugInfo:null}}function FC(n){n.features?.forEach(e=>e(n))}function pb(n,e){if(!n)return null;let t=e?lD:Z1;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(X1)}function nL(n){let e=0,t=typeof n.consts=="function"?"":n.consts,r=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,t,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery];for(let o of r.join("|"))e=Math.imul(31,e)+o.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function rL(n){return Object.getPrototypeOf(n.prototype).constructor}function VC(n){let e=rL(n.type),t=!0,r=[n];for(;e;){let i;if(mn(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new j(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=gm(n.inputs),s.declaredInputs=gm(n.declaredInputs),s.outputs=gm(n.outputs);let a=i.hostBindings;a&&cL(n,a);let u=i.viewQuery,l=i.contentQueries;if(u&&sL(n,u),l&&aL(n,l),iL(n,i),nD(n.outputs,i.outputs),mn(i)&&i.data.animation){let h=n.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===VC&&(t=!1)}}e=Object.getPrototypeOf(e)}oL(r)}function iL(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t])}}function oL(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Qo(i.hostAttrs,t=Qo(t,i.hostAttrs))}}function gm(n){return n===Pr?{}:n===Mt?[]:n}function sL(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function aL(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function cL(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function uL(n,e,t,r,i,o,s,a,u){let l=e.consts,h=Pd(e,n,4,s||null,a||null);Hl()&&py(e,t,h,Pi(l,u),iy),h.mergedAttrs=Qo(h.mergedAttrs,h.attrs),Gm(e,h);let p=h.tView=ey(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function lL(n,e,t,r,i,o,s,a,u,l,h){let p=t+vt,g=e.firstCreatePass?uL(p,e,n,r,i,o,s,a,l):e.data[p];u&&(g.flags|=u),Fr(g,!1);let y=dL(e,n,g,t);Ha()&&Rd(e,n,y,g),Xo(y,n);let C=wC(y,n,y,g);return n[p]=C,ny(n,C),V1(C,g,n),Ua(g)&&Ad(e,n,g),l!=null&&ry(n,g,h),g}function jC(n,e,t,r,i,o,s,a){let u=ue(),l=ze(),h=Pi(l.consts,o);return lL(u,l,n,e,t,r,i,h,void 0,s,a),jC}var dL=hL;function hL(n,e,t,r){return za(!0),e[Ae].createComment("")}var Od=function(n){return n[n.CHANGE_DETECTION=0]="CHANGE_DETECTION",n[n.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",n}(Od||{}),$i=new F(""),UC=!1,Um=class extends He{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,Fg()&&(this.destroyRef=M(Yn,{optional:!0})??void 0,this.pendingTasks=M(Jn,{optional:!0})??void 0)}emit(e){let t=re(null);try{super.next(e)}finally{re(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Se&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{e(t)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},dt=Um;function BC(n){let e,t;function r(){n=Ga;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function gb(n){return queueMicrotask(()=>n()),()=>{n=Ga}}var vy="isAngularZone",yd=vy+"_ID",fL=0,me=class n{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new dt(!1);onMicrotaskEmpty=new dt(!1);onStable=new dt(!1);onError=new dt(!1);constructor(e){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=UC}=e;if(typeof Zone>"u")throw new j(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,mL(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(vy)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new j(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new j(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,pL,Ga,Ga);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},pL={};function _y(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function gL(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){BC(()=>{n.callbackScheduled=!1,Bm(n),n.isCheckStableRunning=!0,_y(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),Bm(n)}function mL(n){let e=()=>{gL(n)},t=fL++;n._inner=n._inner.fork({name:"angular",properties:{[vy]:!0,[yd]:t,[yd+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(yL(u))return r.invokeTask(o,s,a,u);try{return mb(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),yb(n)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return mb(n),r.invoke(o,s,a,u,l)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!vL(u)&&e(),yb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,Bm(n),_y(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function Bm(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function mb(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yb(n){n._nesting--,_y(n)}var vd=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new dt;onMicrotaskEmpty=new dt;onStable=new dt;onError=new dt;run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function yL(n){return $C(n,"__ignore_ng_zone__")}function vL(n){return $C(n,"__scheduler_tick__")}function $C(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Ey=(()=>{class n{impl=null;execute(){this.impl?.execute()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),HC=[0,1,2,3],zC=(()=>{class n{ngZone=M(me);scheduler=M(Kn);errorHandler=M(Jt,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){M($i,{optional:!0})}execute(){let t=this.sequences.size>0;t&&_e(16),this.executing=!0;for(let r of HC)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&_e(17)}register(t){let{view:r}=t;r!==void 0?((r[Ri]??=[]).push(t),qo(r),r[Q]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,r){return r?r.run(Od.AFTER_NEXT_RENDER,t):t()}static \u0275prov=U({token:n,providedIn:"root",factory:()=>new n})}return n})(),_d=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(e,t,r,i,o,s=null){this.impl=e,this.hooks=t,this.view=r,this.once=i,this.snapshot=s,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let e=this.view?.[Ri];e&&(this.view[Ri]=e.filter(t=>t!==this))}};function Ld(n,e){!e?.injector&&Vg(Ld);let t=e?.injector??M(Oe);return ts("NgAfterNextRender"),EL(n,t,e,!0)}function _L(n){return n instanceof Function?[void 0,void 0,n,void 0]:[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function EL(n,e,t,r){let i=e.get(Ey);i.impl??=e.get(zC);let o=e.get($i,null,{optional:!0}),s=t?.manualCleanup!==!0?e.get(Yn):null,a=e.get(Jl,null,{optional:!0}),u=new _d(i.impl,_L(n),a?.view,r,s,o?.snapshot(null));return i.impl.register(u),u}var Iy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();var wy=new F("");function rs(n){return!!n&&typeof n.then=="function"}function Ty(n){return!!n&&typeof n.subscribe=="function"}var Dy=new F("");function Fd(n){return Pt([{provide:Dy,multi:!0,useValue:n}])}var by=(()=>{class n{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r});appInits=M(Dy,{optional:!0})??[];injector=M(Oe);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=Ve(this.injector,i);if(rs(o))t.push(o);else if(Ty(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),nc=new F("");function qC(){Hp(()=>{let n="";throw new j(600,n)})}function GC(n){return n.isBoundToModule}var IL=10;var Hi=(()=>{class n{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=M(Ct);afterRenderManager=M(Ey);zonelessEnabled=M(Yl);rootEffectScheduler=M(um);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new He;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=M(Jn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){M($i,{optional:!0})}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}_injector=M(be);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,r){return this.bootstrapImpl(t,r)}bootstrapImpl(t,r,i=Oe.NULL){return this._injector.get(me).run(()=>{_e(10);let s=t instanceof xd;if(!this._injector.get(by).done){let C="";throw new j(405,C)}let u;s?u=t:u=this._injector.get(tc).resolveComponentFactory(t),this.componentTypes.push(u.componentType);let l=GC(u)?void 0:this._injector.get(Vi),h=r||u.selector,p=u.create(i,[],h,l),g=p.location.nativeElement,y=p.injector.get(wy,null);return y?.registerApplication(g),p.onDestroy(()=>{this.detachView(p.hostView),Ka(this.components,p),y?.unregisterApplication(g)}),this._loadComponent(p),_e(11,p),p})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){_e(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Od.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new j(101,!1);let t=re(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,re(t),this.afterTick.next(),_e(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Li,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<IL;)_e(14),this.synchronizeOnce(),_e(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Ba(i))continue;let o=r&&!this.zonelessEnabled?0:1;dy(i,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ba(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ka(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(t),this._injector.get(nc,[]).forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ka(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new j(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ka(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function Vd(n,e,t,r){let i=ue(),o=Go();if(Bi(i,o,e)){let s=ze(),a=Ql();DO(a,i,n,e,t,r)}return Vd}function WC(n,e,t){let r=ue(),i=Go();if(Bi(r,i,e)){let o=ze(),s=Ql();uC(s,r,n,e,r[Ae],t)}return WC}function vb(n,e,t,r,i){oy(e,n,t,i?"class":"style",r)}function Cy(n,e,t,r){let i=ue(),o=ze(),s=vt+n,a=i[Ae],u=o.firstCreatePass?SC(s,o,i,e,iy,Hl(),t,r):o.data[s],l=wL(o,i,u,a,e,n);i[s]=l;let h=Ua(u);return Fr(u,!0),iC(a,l,u),!cy(u)&&Ha()&&Rd(o,i,l,u),(TD()===0||h)&&Xo(l,i),DD(),h&&(Ad(o,i,u),Ym(o,u,i)),r!==null&&ry(i,u),Cy}function Sy(){let n=Qe();zl()?Yg():(n=n.parent,Fr(n,!1));let e=n;SD(e)&&AD(),bD();let t=ze();return t.firstCreatePass&&AC(t,e),e.classesWithoutHost!=null&&gk(e)&&vb(t,e,ue(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&mk(e)&&vb(t,e,ue(),e.stylesWithoutHost,!1),Sy}function jd(n,e,t,r){return Cy(n,e,t,r),Sy(),jd}var wL=(n,e,t,r,i,o)=>(za(!0),nC(r,i,HD()));function TL(n,e,t,r,i){let o=e.consts,s=Pi(o,r),a=Pd(e,n,8,"ng-container",s);s!==null&&Pm(a,s,!0);let u=Pi(o,i);return Hl()&&py(e,t,a,u,iy),a.mergedAttrs=Qo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function KC(n,e,t){let r=ue(),i=ze(),o=n+vt,s=i.firstCreatePass?TL(o,i,r,e,t):i.data[o];Fr(s,!0);let a=DL(i,r,s,n);return r[o]=a,Ha()&&Rd(i,r,a,s),Xo(a,r),Ua(s)&&(Ad(i,r,s),Ym(i,s,r)),t!=null&&ry(r,s),KC}function QC(){let n=Qe(),e=ze();return zl()?Yg():(n=n.parent,Fr(n,!1)),e.firstCreatePass&&(Gm(e,n),jl(n)&&e.queries.elementEnd(n)),QC}var DL=(n,e,t,r)=>(za(!0),aO(e[Ae],""));function bL(){return ue()}var rc="en-US";var CL=rc;function YC(n){typeof n=="string"&&(CL=n.toLowerCase().replace(/_/g,"-"))}function Ud(n,e,t){let r=ue(),i=ze(),o=Qe();return JC(i,r,r[Ae],o,n,e,t),Ud}function JC(n,e,t,r,i,o,s){let a=!0,u=null;if((r.type&3||s)&&(u??=fm(r,e,o),T1(r,n,e,s,t,i,o,u)&&(a=!1)),a){let l=r.outputs?.[i],h=r.hostDirectiveOutputs?.[i];if(h&&h.length)for(let p=0;p<h.length;p+=2){let g=h[p],y=h[p+1];u??=fm(r,e,o),lb(r,e,g,y,i,u)}if(l&&l.length)for(let p of l)u??=fm(r,e,o),lb(r,e,p,i,i,u)}}function SL(n=1){return $D(n)}function Ay(n,e,t,r){G1(n,e,t,r)}function Ry(n){let e=ue(),t=ze(),r=tm();Gl(r+1);let i=my(t,r);if(n.dirty&&vD(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let o=Y1(e,r);n.reset(o,Rk),n.notifyOnChanges()}return!0}return!1}function Ny(){return z1(ue(),tm())}function AL(n){let e=PD();return $g(e,vt+n)}function ed(n,e){return n<<17|e<<2}function ji(n){return n>>17&32767}function RL(n){return(n&2)==2}function NL(n,e){return n&131071|e<<17}function $m(n){return n|2}function Yo(n){return(n&131068)>>2}function mm(n,e){return n&-131069|e<<2}function ML(n){return(n&1)===1}function Hm(n){return n|1}function PL(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=ji(s),u=Yo(s);n[r]=t;let l=!1,h;if(Array.isArray(t)){let p=t;h=p[1],(h===null||Bo(p,h)>0)&&(l=!0)}else h=t;if(i)if(u!==0){let g=ji(n[a+1]);n[r+1]=ed(g,a),g!==0&&(n[g+1]=mm(n[g+1],r)),n[a+1]=NL(n[a+1],r)}else n[r+1]=ed(a,0),a!==0&&(n[a+1]=mm(n[a+1],r)),a=r;else n[r+1]=ed(u,0),a===0?a=r:n[u+1]=mm(n[u+1],r),u=r;l&&(n[r+1]=$m(n[r+1])),_b(n,h,r,!0),_b(n,h,r,!1),xL(e,h,n,r,o),s=ed(a,u),o?e.classBindings=s:e.styleBindings=s}function xL(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Bo(o,e)>=0&&(t[r+1]=Hm(t[r+1]))}function _b(n,e,t,r){let i=n[t+1],o=e===null,s=r?ji(i):Yo(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],l=n[s+1];kL(u,e)&&(a=!0,n[s+1]=r?Hm(l):$m(l)),s=r?ji(l):Yo(l)}a&&(n[t+1]=r?$m(i):Hm(i))}function kL(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Bo(n,e)>=0:!1}function ZC(n,e){return OL(n,e,null,!0),ZC}function OL(n,e,t,r){let i=ue(),o=ze(),s=kD(2);if(o.firstUpdatePass&&FL(o,n,s,r),e!==En&&Bi(i,s,e)){let a=o.data[xi()];$L(o,a,i,i[Ae],n,i[s+1]=HL(e,t),r,s)}}function LL(n,e){return e>=n.expandoStartIndex}function FL(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[xi()],s=LL(n,t);zL(o,r)&&e===null&&!s&&(e=!1),e=VL(i,o,e,r),PL(i,o,e,t,s,r)}}function VL(n,e,t,r){let i=VD(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=ym(null,n,e,t,r),t=Za(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=ym(i,n,e,t,r),o===null){let u=jL(n,e,r);u!==void 0&&Array.isArray(u)&&(u=ym(null,n,e,u[1],r),u=Za(u,e.attrs,r),UL(n,e,r,u))}else o=BL(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function jL(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Yo(r)!==0)return n[ji(r)]}function UL(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ji(i)]=r}function BL(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Za(r,s,t)}return Za(r,e.attrs,t)}function ym(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Za(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Za(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),uD(n,s,t?!0:e[++o]))}return n===void 0?null:n}function $L(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,l=u[a+1],h=ML(l)?Eb(u,e,t,i,Yo(l),s):void 0;if(!Ed(h)){Ed(o)||RL(l)&&(o=Eb(u,null,t,i,a,s));let p=Bg(xi(),t);GO(r,s,p,i,o)}}function Eb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,g=t[i+1];g===En&&(g=p?Mt:void 0);let y=p?Fl(g,r):h===r?g:void 0;if(l&&!Ed(y)&&(y=Fl(u,r)),Ed(y)&&(a=y,s))return a;let C=n[i+1];i=s?ji(C):Yo(C)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Fl(u,r))}return a}function Ed(n){return n!==void 0}function HL(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=bt(ec(n)))),n}function zL(n,e){return(n.flags&(e?8:16))!==0}function qL(n,e=""){let t=ue(),r=ze(),i=n+vt,o=r.firstCreatePass?Pd(r,i,1,e,null):r.data[i],s=GL(r,t,o,e,n);t[i]=s,Ha()&&Rd(r,t,s,o),Fr(o,!1)}var GL=(n,e,t,r,i)=>(za(!0),oO(e[Ae],r));function WL(n,e,t,r=""){return Bi(n,Go(),t)?e+Uo(t)+r:En}function XC(n){return My("",n),XC}function My(n,e,t){let r=ue(),i=WL(r,n,e,t);return i!==En&&KL(r,xi(),i),My}function KL(n,e,t){let r=Bg(e,n);sO(n[Ae],r,t)}function eS(n,e,t){sm(e)&&(e=e());let r=ue(),i=Go();if(Bi(r,i,e)){let o=ze(),s=Ql();uC(s,r,n,e,r[Ae],t)}return eS}function QL(n,e){let t=sm(n);return t&&n.set(e),t}function tS(n,e){let t=ue(),r=ze(),i=Qe();return JC(r,t,t[Ae],i,n,e),tS}function YL(n){return Bi(ue(),Go(),n)?Uo(n):En}function JL(n,e,t){let r=ze();if(r.firstCreatePass){let i=mn(n);zm(t,r.data,r.blueprint,i,!0),zm(e,r.data,r.blueprint,i,!1)}}function zm(n,e,t,r,i){if(n=rt(n),Array.isArray(n))for(let o=0;o<n.length;o++)zm(n[o],e,t,r,i);else{let o=ze(),s=ue(),a=Qe(),u=Ti(n)?n:rt(n.provide),l=Lg(n),h=a.providerIndexes&1048575,p=a.directiveStart,g=a.providerIndexes>>20;if(Ti(n)||!n.multi){let y=new Oi(l,i,Ne),C=_m(u,e,i?h:h+g,p);C===-1?(Im(ud(a,s),o,u),vm(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(y),s.push(y)):(t[C]=y,s[C]=y)}else{let y=_m(u,e,h+g,p),C=_m(u,e,h,h+g),N=y>=0&&t[y],R=C>=0&&t[C];if(i&&!R||!i&&!N){Im(ud(a,s),o,u);let k=eF(i?XL:ZL,t.length,i,r,l);!i&&R&&(t[C].providerFactory=k),vm(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(k),s.push(k)}else{let k=nS(t[i?C:y],l,!i&&r);vm(o,n,y>-1?y:C,k)}!i&&r&&R&&t[C].componentProviders++}}}function vm(n,e,t,r){let i=Ti(e),o=pD(e);if(i||o){let u=(o?rt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(t);h===-1?l.push(t,[r,u]):l[h+1].push(r,u)}else l.push(t,u)}}}function nS(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function _m(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function ZL(n,e,t,r){return qm(this.multi,[])}function XL(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Qa(t,t[te],this.providerFactory.index,r);o=a.slice(0,s),qm(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],qm(i,o);return o}function qm(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function eF(n,e,t,r,i){let o=new Oi(n,t,Ne);return o.multi=[],o.index=e,o.componentProviders=0,nS(o,i,r&&!t),o}function tF(n,e=[]){return t=>{t.providersResolver=(r,i)=>JL(r,i?i(n):n,e)}}function nF(n,e,t,r){return rS(ue(),em(),n,e,t,r)}function rF(n,e){let t=n[e];return t===En?void 0:t}function rS(n,e,t,r,i,o){let s=e+t;return Bi(n,s,i)?w1(n,s+1,o?r.call(o,i):r(i)):rF(n,s+1)}function iF(n,e){let t=ze(),r,i=n+vt;t.firstCreatePass?(r=oF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=Nr(r.type,!0)),s,a=yt(Ne);try{let u=cd(!1),l=o();return cd(u),Hg(t,ue(),i,l),l}finally{yt(a)}}function oF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function sF(n,e,t){let r=n+vt,i=ue(),o=$g(i,r);return aF(i,r)?rS(i,em(),e,o.transform,t,o):o.transform(t)}function aF(n,e){return n[te].data[e].pure}function cF(n,e){return Md(n,e)}var Id=class{ngModuleFactory;componentFactories;constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Py=(()=>{class n{compileModuleSync(t){return new md(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=Pg(t),o=eC(i.declarations).reduce((s,a)=>{let u=Qn(a);return u&&s.push(new Fi(u)),s},[]);return new Id(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var uF=(()=>{class n{zone=M(me);changeDetectionScheduler=M(Kn);applicationRef=M(Hi);applicationErrorHandler=M(Ct);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function iS({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new me(fe(L({},oS()),{scheduleInRootZone:t})),[{provide:me,useFactory:n},{provide:xr,multi:!0,useFactory:()=>{let r=M(uF,{optional:!0});return()=>r.initialize()}},{provide:xr,multi:!0,useFactory:()=>{let r=M(lF);return()=>{r.initialize()}}},e===!0?{provide:am,useValue:!0}:[],{provide:cm,useValue:t??UC},{provide:Ct,useFactory:()=>{let r=M(me),i=M(be),o;return s=>{o??=i.get(Jt),r.runOutsideAngular(()=>o.handleError(s))}}}]}function oS(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var lF=(()=>{class n{subscription=new Se;initialized=!1;zone=M(me);pendingTasks=M(Jn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{me.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{me.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sS=(()=>{class n{applicationErrorHandler=M(Ct);appRef=M(Hi);taskService=M(Jn);ngZone=M(me);zonelessEnabled=M(Yl);tracing=M($i,{optional:!0});disableScheduling=M(am,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Se;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(yd):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(M(cm,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof vd||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let r=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{this.appRef.dirtyFlags|=16,r=!0;break}case 13:{this.appRef.dirtyFlags|=2,r=!0;break}case 11:{r=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?gb:BC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(yd+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.taskService.remove(t),this.applicationErrorHandler(r)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,gb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function dF(){return typeof $localize<"u"&&$localize.locale||rc}var Bd=new F("",{providedIn:"root",factory:()=>M(Bd,{optional:!0,skipSelf:!0})||dF()});function $d(n){return ZT(n)}function hF(n,e){return Xu(n,e?.equal)}var aS=class{[ut];constructor(e){this[ut]=e}destroy(){this[ut].destroy()}};var hS=Symbol("InputSignalNode#UNSET"),CF=fe(L({},el),{transformFn:void 0,applyValueToInputSignal(n,e){bo(n,e)}});function fS(n,e){let t=Object.create(CF);t.value=n,t.transformFn=e?.transform;function r(){if(To(t),t.value===hS){let i=null;throw new j(-950,i)}return t.value}return r[ut]=t,r}var zd=class{attributeName;constructor(e){this.attributeName=e}__NG_ELEMENT_ID__=()=>Xa(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},SF=new F("");SF.__NG_ELEMENT_ID__=n=>{let e=Qe();if(e===null)throw new j(204,!1);if(e.type&2)return e.value;if(n&8)return null;throw new j(204,!1)};function cS(n,e){return fS(n,e)}function AF(n){return fS(hS,n)}var pS=(cS.required=AF,cS);var is=class{full;major;minor;patch;constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},gS=new is("20.0.3");var xy=new F(""),RF=new F("");function ic(n){return!n.moduleRef}function NF(n){let e=ic(n)?n.r3Injector:n.moduleRef.injector,t=e.get(me);return t.run(()=>{ic(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Ct),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:r})}),ic(n)){let o=()=>e.destroy(),s=n.platformInjector.get(xy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get(xy);s.add(o),n.moduleRef.onDestroy(()=>{Ka(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return PF(r,t,()=>{let o=e.get(by);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Bd,rc);if(YC(s||rc),!e.get(RF,!0))return ic(n)?e.get(Hi):(n.allPlatformModules.push(n.moduleRef),n.moduleRef);if(ic(n)){let u=e.get(Hi);return n.rootComponent!==void 0&&u.bootstrap(n.rootComponent),u}else return MF?.(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}var MF;function PF(n,e,t){try{let r=t();return rs(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n(r)),r}}var Hd=null;function xF(n=[],e){return Oe.create({name:e,providers:[{provide:ka,useValue:"platform"},{provide:xy,useValue:new Set([()=>Hd=null])},...n]})}function kF(n=[]){if(Hd)return Hd;let e=xF(n);return Hd=e,qC(),OF(e),e}function OF(n){let e=n.get(Dd,null);Ve(n,()=>{e?.forEach(t=>t())})}function Vy(){return!1}var os=(()=>{class n{static __NG_ELEMENT_ID__=LF}return n})();function LF(n){return FF(Qe(),ue(),(n&16)===16)}function FF(n,e,t){if(Lr(n)&&!t){let r=zt(n.index,e);return new jr(r,r)}else if(n.type&175){let r=e[$t];return new jr(r,e)}return null}var ky=class{constructor(){}supports(e){return gy(e)}create(e){return new Oy(e)}},VF=(n,e)=>e,Oy=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||VF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<uS(r,i,o)?t:r,a=uS(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let g=0;g<l;g++){let y=g<o.length?o[g]:o[g]=0,C=y+g;h<=C&&C<l&&(o[g]=y+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!gy(e))throw new j(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,RC(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new Ly(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new qd),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new qd),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ly=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,t){this.item=e,this.trackById=t}},Fy=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},qd=class{map=new Map;put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Fy,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function uS(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function lS(){return new jy([new ky])}var jy=(()=>{class n{factories;static \u0275prov=U({token:n,providedIn:"root",factory:lS});constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||lS()),deps:[[n,new Tb,new St]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new j(901,!1)}}return n})();function mS(n){_e(8);try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=kF(r),o=[iS({}),{provide:Kn,useExisting:sS},qD,...t||[]],s=new Ja({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return NF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}finally{_e(9)}}function oc(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function yS(n){let e=Qn(n);if(!e)return null;let t=new Fi(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ES=null;function ir(){return ES}function Uy(n){ES??=n}var sc=class{},ac=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(IS),providedIn:"platform"})}return n})(),By=new F(""),IS=(()=>{class n extends ac{_location;_history;_doc=M(Re);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ir().getBaseHref(this._doc)}onPopState(t){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=ir().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Gd(n,e){return n?e?n.endsWith("/")?e.startsWith("/")?n+e.slice(1):n+e:e.startsWith("/")?n+e:`${n}/${e}`:n:e}function vS(n){let e=n.search(/#|\?|$/);return n[e-1]==="/"?n.slice(0,e-1)+n.slice(e):n}function nn(n){return n&&n[0]!=="?"?`?${n}`:n}var rn=(()=>{class n{historyGo(t){throw new Error("")}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(Kd),providedIn:"root"})}return n})(),Wd=new F(""),Kd=(()=>{class n extends rn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??M(Re).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Gd(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+nn(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(ac),H(Wd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),$r=(()=>{class n{_subject=new He;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=BF(vS(_S(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+nn(r))}normalize(t){return n.stripTrailingSlash(UF(this._basePath,_S(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nn(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+nn(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=nn;static joinWithSlash=Gd;static stripTrailingSlash=vS;static \u0275fac=function(r){return new(r||n)(H(rn))};static \u0275prov=U({token:n,factory:()=>jF(),providedIn:"root"})}return n})();function jF(){return new $r(H(rn))}function UF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function _S(n){return n.replace(/\/index.html$/,"")}function BF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}var $y=(()=>{class n extends rn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,r){super(),this._platformLocation=t,r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=Gd(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+nn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(r){return new(r||n)(H(ac),H(Wd,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var Qd=class{$implicit;ngForOf;index;count;constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},DS=(()=>{class n{_viewContainer;_template;_differs;set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Qd(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),wS(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);wS(o,i)})}static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ne(er),Ne(Ur),Ne(jy))};static \u0275dir=nr({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return n})();function wS(n,e){n.context.$implicit=e.item}var $F=(()=>{class n{_viewContainer;_context=new Yd;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(t,r){this._viewContainer=t,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){TS(t,!1),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){TS(t,!1),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(t,r){return!0}static \u0275fac=function(r){return new(r||n)(Ne(er),Ne(Ur))};static \u0275dir=nr({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return n})(),Yd=class{$implicit=null;ngIf=null};function TS(n,e){if(n&&!n.createEmbeddedView)throw new j(2020,!1)}var bS=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=hn({})}return n})();function cc(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var zi=class{};var CS="browser",HF="server";function SS(n){return n===HF}var AS=(()=>{class n{static \u0275prov=U({token:n,providedIn:"root",factory:()=>new Hy(M(Re),window)})}return n})(),Hy=class{document;window;offset=()=>[0,0];constructor(e,t){this.document=e,this.window=t}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e,t){this.window.scrollTo(fe(L({},t),{left:e[0],top:e[1]}))}scrollToAnchor(e,t){let r=zF(this.document,e);r&&(this.scrollToElement(r,t),r.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e,t){let r=e.getBoundingClientRect(),i=r.left+this.window.pageXOffset,o=r.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(fe(L({},t),{left:i-s[0],top:o-s[1]}))}};function zF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var Xd=new F(""),Wy=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,r){this._zone=r,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i,o){return this._findPluginFor(r).addEventListener(t,r,i,o)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new j(5101,!1);return this._eventNameToPlugin.set(t,r),r}static \u0275fac=function(r){return new(r||n)(H(Xd),H(me))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),uc=class{_doc;constructor(e){this._doc=e}manager},Jd="ng-app-id";function RS(n){for(let e of n)e.remove()}function NS(n,e){let t=e.createElement("style");return t.textContent=n,t}function GF(n,e,t,r){let i=n.head?.querySelectorAll(`style[${Jd}="${e}"],link[${Jd}="${e}"]`);if(i)for(let o of i)o.removeAttribute(Jd),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function qy(n,e){let t=e.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",n),t}var Ky=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.isServer=SS(o),GF(t,r,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,r){for(let i of t)this.addUsage(i,this.inline,NS);r?.forEach(i=>this.addUsage(i,this.external,qy))}removeStyles(t,r){for(let i of t)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(t,r,i){let o=r.get(t);o?o.usage++:r.set(t,{usage:1,elements:[...this.hosts].map(s=>this.addElement(s,i(t,this.doc)))})}removeUsage(t,r){let i=r.get(t);i&&(i.usage--,i.usage<=0&&(RS(i.elements),r.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])RS(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(t,NS(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(t,qy(r,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(Jd,this.appId),t.appendChild(r)}static \u0275fac=function(r){return new(r||n)(H(Re),H(Td),H(bd,8),H(Br))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Qy=/%COMP%/g;var PS="%COMP%",WF=`_nghost-${PS}`,KF=`_ngcontent-${PS}`,QF=!0,YF=new F("",{providedIn:"root",factory:()=>QF});function JF(n){return KF.replace(Qy,n)}function ZF(n){return WF.replace(Qy,n)}function xS(n,e){return e.map(t=>t.replace(Qy,n))}var Yy=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,r,i,o,s,a,u,l=null,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new lc(t,s,u,this.platformIsServer,this.tracingService)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(t,r);return i instanceof Zd?i.applyToHost(t):i instanceof dc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,p=this.platformIsServer,g=this.tracingService;switch(r.encapsulation){case Xn.Emulated:o=new Zd(u,l,r,this.appId,h,s,a,p,g);break;case Xn.ShadowDom:return new Gy(u,l,t,r,s,a,this.nonce,p,g);default:o=new dc(u,l,r,h,s,a,p,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(r){return new(r||n)(H(Wy),H(Ky),H(Td),H(YF),H(Re),H(Br),H(me),H(bd),H($i,8))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),lc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,t,r,i,o){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.tracingService=o}destroy(){}destroyNode=null;createElement(e,t){return t?this.doc.createElementNS(zy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(MS(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(MS(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new j(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=zy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=zy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(vn.DashCase|vn.Important)?e.style.setProperty(t,r,i&vn.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&vn.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r,i){if(typeof e=="string"&&(e=ir().getGlobalEventTarget(this.doc,e),!e))throw new j(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(e,t,o)),this.eventManager.addEventListener(e,t,o,i)}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;e(t)===!1&&t.preventDefault()}}};function MS(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Gy=class extends lc{sharedStylesHost;hostEl;shadowRoot;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,u,l),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=i.styles;h=xS(i.id,h);for(let g of h){let y=document.createElement("style");a&&y.setAttribute("nonce",a),y.textContent=g,this.shadowRoot.appendChild(y)}let p=i.getExternalStyles?.();if(p)for(let g of p){let y=qy(g,o);a&&y.setAttribute("nonce",a),this.shadowRoot.appendChild(y)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},dc=class extends lc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,t,r,i,o,s,a,u,l){super(e,o,s,a,u),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i;let h=r.styles;this.styles=l?xS(l,h):h,this.styleUrls=r.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},Zd=class extends dc{contentAttr;hostAttr;constructor(e,t,r,i,o,s,a,u,l){let h=i+"-"+r.id;super(e,t,r,o,s,a,u,l,h),this.contentAttr=JF(h),this.hostAttr=ZF(h)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}};var eh=class n extends sc{supportsDOMEvents=!0;static makeCurrent(){Uy(new n)}onAndCancel(e,t,r,i){return e.addEventListener(t,r,i),()=>{e.removeEventListener(t,r,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=XF();return t==null?null:eV(t)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return cc(document.cookie,e)}},hc=null;function XF(){return hc=hc||document.head.querySelector("base"),hc?hc.getAttribute("href"):null}function eV(n){return new URL(n,document.baseURI).pathname}var tV=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),OS=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i,o){return t.addEventListener(r,i,o),()=>this.removeEventListener(t,r,i,o)}removeEventListener(t,r,i,o){return t.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||n)(H(Re))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),kS=["alt","control","meta","shift"],nV={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},rV={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},LS=(()=>{class n extends uc{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i,o){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ir().onAndCancel(t,s.domEventName,a,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),kS.forEach(l=>{let h=r.indexOf(l);h>-1&&(r.splice(h,1),s+=l+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=nV[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),kS.forEach(s=>{if(s!==i){let a=rV[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(r){return new(r||n)(H(Re))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function iV(n,e){return mS(L({rootComponent:n},oV(e)))}function oV(n){return{appProviders:[...lV,...n?.providers??[]],platformProviders:uV}}function sV(){eh.makeCurrent()}function aV(){return new Jt}function cV(){return Qm(document),document}var uV=[{provide:Br,useValue:CS},{provide:Dd,useValue:sV,multi:!0},{provide:Re,useFactory:cV}];var lV=[{provide:ka,useValue:"root"},{provide:Jt,useFactory:aV},{provide:Xd,useClass:OS,multi:!0,deps:[Re]},{provide:Xd,useClass:LS,multi:!0,deps:[Re]},Yy,Ky,Wy,{provide:Li,useExisting:Yy},{provide:zi,useClass:tV},[]];var as=class{},fc=class{},Hr=class n{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),o=t.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.addHeaderEntry(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let o=e.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let s=this.headers.get(t);if(!s)return;s=s.filter(a=>o.indexOf(a)===-1),s.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}break}}addHeaderEntry(e,t){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(t):this.headers.set(r,[t])}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var nh=class{encodeKey(e){return FS(e)}encodeValue(e){return FS(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function dV(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[s,a]=o==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],u=t.get(s)||[];u.push(a),t.set(s,u)}),t}var hV=/%(\d[a-f0-9])/gi,fV={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FS(n){return encodeURIComponent(n).replace(hV,(e,t)=>fV[t]??e)}function th(n){return`${n}`}var or=class n{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new nh,e.fromString){if(e.fromObject)throw new j(2805,!1);this.map=dV(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(th):[th(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(th(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(th(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var rh=class{map=new Map;set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function pV(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function VS(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function jS(n){return typeof Blob<"u"&&n instanceof Blob}function US(n){return typeof FormData<"u"&&n instanceof FormData}function gV(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var BS="Content-Type",$S="Accept",zS="X-Request-URL",qS="text/plain",GS="application/json",mV=`${GS}, ${qS}, */*`,ss=class n{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;keepalive=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,t,r,i){this.url=t,this.method=e.toUpperCase();let o;if(pV(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),this.transferCache=o.transferCache),this.headers??=new Hr,this.context??=new rh,!this.params)this.params=new or,this.urlWithParams=t;else{let s=this.params.toString();if(s.length===0)this.urlWithParams=t;else{let a=t.indexOf("?"),u=a===-1?"?":a<t.length-1?"&":"";this.urlWithParams=t+u+s}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||VS(this.body)||jS(this.body)||US(this.body)||gV(this.body)?this.body:this.body instanceof or?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||US(this.body)?null:jS(this.body)?this.body.type||null:VS(this.body)?null:typeof this.body=="string"?qS:this.body instanceof or?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?GS:null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=e.keepalive??this.keepalive,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,u=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,h=e.headers||this.headers,p=e.params||this.params,g=e.context??this.context;return e.setHeaders!==void 0&&(h=Object.keys(e.setHeaders).reduce((y,C)=>y.set(C,e.setHeaders[C]),h)),e.setParams&&(p=Object.keys(e.setParams).reduce((y,C)=>y.set(C,e.setParams[C]),p)),new n(t,r,a,{params:p,headers:h,context:g,reportProgress:l,responseType:i,withCredentials:u,transferCache:s,keepalive:o})}},qi=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(qi||{}),cs=class{headers;status;statusText;url;ok;type;constructor(e,t=200,r="OK"){this.headers=e.headers||new Hr,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},ih=class n extends cs{constructor(e={}){super(e)}type=qi.ResponseHeader;clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},pc=class n extends cs{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=qi.Response;clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},gc=class extends cs{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},yV=200,vV=204;function Jy(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache,keepalive:n.keepalive}}var WS=(()=>{class n{handler;constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof ss)o=t;else{let u;i.headers instanceof Hr?u=i.headers:u=new Hr(i.headers);let l;i.params&&(i.params instanceof or?l=i.params:l=new or({fromObject:i.params})),o=new ss(t,r,i.body!==void 0?i.body:null,{headers:u,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive})}let s=z(o).pipe(dn(u=>this.handler.handle(u)));if(t instanceof ss||i.observe==="events")return s;let a=s.pipe(nt(u=>u instanceof pc));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof ArrayBuffer))throw new j(2806,!1);return u.body}));case"blob":return a.pipe(X(u=>{if(u.body!==null&&!(u.body instanceof Blob))throw new j(2807,!1);return u.body}));case"text":return a.pipe(X(u=>{if(u.body!==null&&typeof u.body!="string")throw new j(2808,!1);return u.body}));case"json":default:return a.pipe(X(u=>u.body))}case"response":return a;default:throw new j(2809,!1)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new or().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Jy(i,r))}post(t,r,i={}){return this.request("POST",t,Jy(i,r))}put(t,r,i={}){return this.request("PUT",t,Jy(i,r))}static \u0275fac=function(r){return new(r||n)(H(as))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var _V=new F("");function KS(n,e){return e(n)}function EV(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}function IV(n,e,t){return(r,i)=>Ve(t,()=>e(r,o=>n(o,i)))}var QS=new F(""),Xy=new F(""),YS=new F(""),ev=new F("",{providedIn:"root",factory:()=>!0});function wV(){let n=null;return(e,t)=>{n===null&&(n=(M(QS,{optional:!0})??[]).reduceRight(EV,KS));let r=M(Zn);if(M(ev)){let o=r.add();return n(e,t).pipe(Rr(o))}else return n(e,t)}}var oh=(()=>{class n extends as{backend;injector;chain=null;pendingTasks=M(Zn);contributeToStability=M(ev);constructor(t,r){super(),this.backend=t,this.injector=r}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(Xy),...this.injector.get(YS,[])]));this.chain=r.reduceRight((i,o)=>IV(i,o,this.injector),KS)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Rr(r))}else return this.chain(t,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||n)(H(fc),H(be))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();var TV=/^\)\]\}',?\n/,DV=RegExp(`^${zS}:`,"m");function bV(n){return"responseURL"in n&&n.responseURL?n.responseURL:DV.test(n.getAllResponseHeaders())?n.getResponseHeader(zS):null}var Zy=(()=>{class n{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new j(-2800,!1);t.keepalive;let r=this.xhrFactory;return(r.\u0275loadImpl?Ie(r.\u0275loadImpl()):z(null)).pipe(mt(()=>new Y(o=>{let s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((N,R)=>s.setRequestHeader(N,R.join(","))),t.headers.has($S)||s.setRequestHeader($S,mV),!t.headers.has(BS)){let N=t.detectContentTypeHeader();N!==null&&s.setRequestHeader(BS,N)}if(t.responseType){let N=t.responseType.toLowerCase();s.responseType=N!=="json"?N:"text"}let a=t.serializeBody(),u=null,l=()=>{if(u!==null)return u;let N=s.statusText||"OK",R=new Hr(s.getAllResponseHeaders()),k=bV(s)||t.url;return u=new ih({headers:R,status:s.status,statusText:N,url:k}),u},h=()=>{let{headers:N,status:R,statusText:k,url:W}=l(),B=null;R!==vV&&(B=typeof s.response>"u"?s.responseText:s.response),R===0&&(R=B?yV:0);let pe=R>=200&&R<300;if(t.responseType==="json"&&typeof B=="string"){let Xe=B;B=B.replace(TV,"");try{B=B!==""?JSON.parse(B):null}catch(ge){B=Xe,pe&&(pe=!1,B={error:ge,text:B})}}pe?(o.next(new pc({body:B,headers:N,status:R,statusText:k,url:W||void 0})),o.complete()):o.error(new gc({error:B,headers:N,status:R,statusText:k,url:W||void 0}))},p=N=>{let{url:R}=l(),k=new gc({error:N,status:s.status||0,statusText:s.statusText||"Unknown Error",url:R||void 0});o.error(k)},g=!1,y=N=>{g||(o.next(l()),g=!0);let R={type:qi.DownloadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),t.responseType==="text"&&s.responseText&&(R.partialText=s.responseText),o.next(R)},C=N=>{let R={type:qi.UploadProgress,loaded:N.loaded};N.lengthComputable&&(R.total=N.total),o.next(R)};return s.addEventListener("load",h),s.addEventListener("error",p),s.addEventListener("timeout",p),s.addEventListener("abort",p),t.reportProgress&&(s.addEventListener("progress",y),a!==null&&s.upload&&s.upload.addEventListener("progress",C)),s.send(a),o.next({type:qi.Sent}),()=>{s.removeEventListener("error",p),s.removeEventListener("abort",p),s.removeEventListener("load",h),s.removeEventListener("timeout",p),t.reportProgress&&(s.removeEventListener("progress",y),a!==null&&s.upload&&s.upload.removeEventListener("progress",C)),s.readyState!==s.DONE&&s.abort()}})))}static \u0275fac=function(r){return new(r||n)(H(zi))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),JS=new F(""),CV="XSRF-TOKEN",SV=new F("",{providedIn:"root",factory:()=>CV}),AV="X-XSRF-TOKEN",RV=new F("",{providedIn:"root",factory:()=>AV}),mc=class{},NV=(()=>{class n{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,r){this.doc=t,this.cookieName=r}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=cc(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(r){return new(r||n)(H(Re),H(SV))};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function MV(n,e){let t=n.url.toLowerCase();if(!M(JS)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=M(mc).getToken(),i=M(RV);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var tv=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(tv||{});function PV(n,e){return{\u0275kind:n,\u0275providers:e}}function ZS(...n){let e=[WS,Zy,oh,{provide:as,useExisting:oh},{provide:fc,useFactory:()=>M(_V,{optional:!0})??M(Zy)},{provide:Xy,useValue:MV,multi:!0},{provide:JS,useValue:!0},{provide:mc,useClass:NV}];for(let t of n)e.push(...t.\u0275providers);return Pt(e)}var HS=new F("");function XS(){return PV(tv.LegacyInterceptors,[{provide:HS,useFactory:wV},{provide:Xy,useExisting:HS,multi:!0}])}var xV=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=hn({providers:[ZS(XS())]})}return n})();var eA=(()=>{class n{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(r){return new(r||n)(H(Re))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ne="primary",Rc=Symbol("RouteTitle"),sv=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function Ki(n){return new sv(n)}function cA(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function OV(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!In(n[t],e[t]))return!1;return!0}function In(n,e){let t=n?av(n):void 0,r=e?av(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!uA(n[i],e[i]))return!1;return!0}function av(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function uA(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function lA(n){return n.length>0?n[n.length-1]:null}function sr(n){return ig(n)?n:rs(n)?Ie(Promise.resolve(n)):z(n)}var LV={exact:hA,subset:fA},dA={exact:FV,subset:VV,ignored:()=>!0};function tA(n,e,t){return LV[t.paths](n.root,e.root,t.matrixParams)&&dA[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function FV(n,e){return In(n,e)}function hA(n,e,t){if(!Gi(n.segments,e.segments)||!ch(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!hA(n.children[r],e.children[r],t))return!1;return!0}function VV(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>uA(n[t],e[t]))}function fA(n,e,t){return pA(n,e,e.segments,t)}function pA(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Gi(i,t)||e.hasChildren()||!ch(i,t,r))}else if(n.segments.length===t.length){if(!Gi(n.segments,t)||!ch(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!fA(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Gi(n.segments,i)||!ch(n.segments,i,r)||!n.children[ne]?!1:pA(n.children[ne],e,o,r)}}function ch(n,e,t){return e.every((r,i)=>dA[t](n[i].parameters,r.parameters))}var Tn=class{root;queryParams;fragment;_queryParamMap;constructor(e=new ye([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){return BV.serialize(this)}},ye=class{segments;children;parent=null;constructor(e,t){this.segments=e,this.children=t,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return uh(this)}},zr=class{path;parameters;_parameterMap;constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=Ki(this.parameters),this._parameterMap}toString(){return mA(this)}};function jV(n,e){return Gi(n,e)&&n.every((t,r)=>In(t.parameters,e[r].parameters))}function Gi(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function UV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ne&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ne&&(t=t.concat(e(i,r)))}),t}var Qi=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>new qr,providedIn:"root"})}return n})(),qr=class{parse(e){let t=new uv(e);return new Tn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${yc(e.root,!0)}`,r=zV(e.queryParams),i=typeof e.fragment=="string"?`#${$V(e.fragment)}`:"";return`${t}${r}${i}`}},BV=new qr;function uh(n){return n.segments.map(e=>mA(e)).join("/")}function yc(n,e){if(!n.hasChildren())return uh(n);if(e){let t=n.children[ne]?yc(n.children[ne],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ne&&r.push(`${i}:${yc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=UV(n,(r,i)=>i===ne?[yc(n.children[ne],!1)]:[`${i}:${yc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ne]!=null?`${uh(n)}/${t[0]}`:`${uh(n)}/(${t.join("//")})`}}function gA(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(n){return gA(n).replace(/%3B/gi,";")}function $V(n){return encodeURI(n)}function cv(n){return gA(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lh(n){return decodeURIComponent(n)}function nA(n){return lh(n.replace(/\+/g,"%20"))}function mA(n){return`${cv(n.path)}${HV(n.parameters)}`}function HV(n){return Object.entries(n).map(([e,t])=>`;${cv(e)}=${cv(t)}`).join("")}function zV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${sh(t)}=${sh(i)}`).join("&"):`${sh(t)}=${sh(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var qV=/^[^\/()?;#]+/;function nv(n){let e=n.match(qV);return e?e[0]:""}var GV=/^[^\/()?;=#]+/;function WV(n){let e=n.match(GV);return e?e[0]:""}var KV=/^[^=?&#]+/;function QV(n){let e=n.match(KV);return e?e[0]:""}var YV=/^[^&#]+/;function JV(n){let e=n.match(YV);return e?e[0]:""}var uv=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new ye([],{}):new ye([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ne]=new ye(e,t)),r}parseSegment(){let e=nv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new j(4009,!1);return this.capture(e),new zr(lh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=WV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=nv(this.remaining);i&&(r=i,this.capture(r))}e[lh(t)]=lh(r)}parseQueryParam(e){let t=QV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=JV(this.remaining);s&&(r=s,this.capture(r))}let i=nA(t),o=nA(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=nv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new j(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ne);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ne]:new ye([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new j(4011,!1)}};function yA(n){return n.segments.length>0?new ye([],{[ne]:n}):n}function vA(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=vA(i);if(r===ne&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new ye(n.segments,e);return ZV(t)}function ZV(n){if(n.numberOfChildren===1&&n.children[ne]){let e=n.children[ne];return new ye(n.segments.concat(e.segments),e.children)}return n}function Gr(n){return n instanceof Tn}function _A(n,e,t=null,r=null){let i=EA(n);return IA(i,e,t,r)}function EA(n){let e;function t(o){let s={};for(let u of o.children){let l=t(u);s[u.outlet]=l}let a=new ye(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=yA(r);return e??i}function IA(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return rv(i,i,i,t,r);let o=XV(e);if(o.toRoot())return rv(i,i,new ye([],{}),t,r);let s=e2(o,i,n),a=s.processChildren?_c(s.segmentGroup,s.index,o.commands):TA(s.segmentGroup,s.index,o.commands);return rv(i,s.segmentGroup,a,t,r)}function dh(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Ic(n){return typeof n=="object"&&n!=null&&n.outlets}function rv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;n===e?s=t:s=wA(n,e,t);let a=yA(vA(s));return new Tn(a,o,i)}function wA(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=wA(o,e,t)}),new ye(n.segments,r)}var hh=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&dh(r[0]))throw new j(4003,!1);let i=r.find(Ic);if(i&&i!==lA(r))throw new j(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function XV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new hh(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new hh(t,e,r)}var ds=class{segmentGroup;processChildren;index;constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function e2(n,e,t){if(n.isAbsolute)return new ds(e,!0,0);if(!t)return new ds(e,!1,NaN);if(t.parent===null)return new ds(t,!0,0);let r=dh(n.commands[0])?0:1,i=t.segments.length-1+r;return t2(t,i,n.numberOfDoubleDots)}function t2(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new j(4005,!1);i=r.segments.length}return new ds(r,!1,i-o)}function n2(n){return Ic(n[0])?n[0].outlets:{[ne]:n}}function TA(n,e,t){if(n??=new ye([],{}),n.segments.length===0&&n.hasChildren())return _c(n,e,t);let r=r2(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new ye(n.segments.slice(0,r.pathIndex),{});return o.children[ne]=new ye(n.segments.slice(r.pathIndex),n.children),_c(o,0,i)}else return r.match&&i.length===0?new ye(n.segments,{}):r.match&&!n.hasChildren()?lv(n,e,t):r.match?_c(n,0,i):lv(n,e,t)}function _c(n,e,t){if(t.length===0)return new ye(n.segments,{});{let r=n2(t),i={};if(Object.keys(r).some(o=>o!==ne)&&n.children[ne]&&n.numberOfChildren===1&&n.children[ne].segments.length===0){let o=_c(n.children[ne],e,t);return new ye(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=TA(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new ye(n.segments,i)}}function r2(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(Ic(a))break;let u=`${a}`,l=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!iA(u,l,s))return o;r+=2}else{if(!iA(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function lv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(Ic(o)){let u=i2(o.outlets);return new ye(r,u)}if(i===0&&dh(t[0])){let u=n.segments[e];r.push(new zr(u.path,rA(t[0]))),i++;continue}let s=Ic(o)?o.outlets[ne]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&dh(a)?(r.push(new zr(s,rA(a))),i+=2):(r.push(new zr(s,{})),i++)}return new ye(r,{})}function i2(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=lv(new ye([],{}),0,r))}),e}function rA(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function iA(n,e,t){return n==t.path&&In(e,t.parameters)}var hs="imperative",qe=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(qe||{}),Ot=class{id;url;constructor(e,t){this.id=e,this.url=t}},Wr=class extends Ot{type=qe.NavigationStart;navigationTrigger;restoredState;constructor(e,t,r="imperative",i=null){super(e,t),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Lt=class extends Ot{urlAfterRedirects;type=qe.NavigationEnd;constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Et=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n}(Et||{}),ps=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(ps||{}),wn=class extends Ot{reason;code;type=qe.NavigationCancel;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Dn=class extends Ot{reason;code;type=qe.NavigationSkipped;constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i}},gs=class extends Ot{error;target;type=qe.NavigationError;constructor(e,t,r,i){super(e,t),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wc=class extends Ot{urlAfterRedirects;state;type=qe.RoutesRecognized;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fh=class extends Ot{urlAfterRedirects;state;type=qe.GuardsCheckStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ph=class extends Ot{urlAfterRedirects;state;shouldActivate;type=qe.GuardsCheckEnd;constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},gh=class extends Ot{urlAfterRedirects;state;type=qe.ResolveStart;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},mh=class extends Ot{urlAfterRedirects;state;type=qe.ResolveEnd;constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yh=class{route;type=qe.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},vh=class{route;type=qe.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},_h=class{snapshot;type=qe.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Eh=class{snapshot;type=qe.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ih=class{snapshot;type=qe.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wh=class{snapshot;type=qe.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{routerEvent;position;anchor;type=qe.Scroll;constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Tc=class{},ys=class{url;navigationBehaviorOptions;constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function o2(n){return!(n instanceof Tc)&&!(n instanceof ys)}function s2(n,e){return n.providers&&!n._injector&&(n._injector=ns(n.providers,e,`Route: ${n.path}`)),n._injector??e}function on(n){return n.outlet||ne}function a2(n,e){let t=n.filter(r=>on(r)===e);return t.push(...n.filter(r=>on(r)!==e)),t}function Nc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Th=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Nc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new Yi(this.rootInjector)}},Yi=(()=>{class n{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Th(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(r){return new(r||n)(H(be))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Dh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=dv(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=dv(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=hv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return hv(e,this._root).map(t=>t.value)}};function dv(n,e){if(n===e.value)return e;for(let t of e.children){let r=dv(n,t);if(r)return r}return null}function hv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=hv(n,t);if(r.length)return r.unshift(e),r}return[]}var kt=class{value;children;constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ls(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Dc=class extends Dh{snapshot;constructor(e,t){super(e),this.snapshot=t,Ev(this,e)}toString(){return this.snapshot.toString()}};function DA(n){let e=c2(n),t=new tt([new zr("",{})]),r=new tt({}),i=new tt({}),o=new tt({}),s=new tt(""),a=new bn(t,r,o,s,i,ne,n,e.root);return a.snapshot=e.root,new Dc(new kt(a,[]),e)}function c2(n){let e={},t={},r={},i="",o=new Wi([],e,r,i,t,ne,n,null,{});return new bc("",new kt(o,[]))}var bn=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(X(l=>l[Rc]))??z(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(e=>Ki(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(e=>Ki(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bh(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:L(L({},e.params),n.params),data:L(L({},e.data),n.data),resolve:L(L(L(L({},n.data),e.data),i?.data),n._resolvedData)}:r={params:L({},n.params),data:L({},n.data),resolve:L(L({},n.data),n._resolvedData??{})},i&&CA(i)&&(r.resolve[Rc]=i.title),r}var Wi=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Rc]}constructor(e,t,r,i,o,s,a,u,l){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ki(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ki(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bc=class extends Dh{url;constructor(e,t){super(t),this.url=e,Ev(this,t)}toString(){return bA(this._root)}};function Ev(n,e){e.value._routerState=n,e.children.forEach(t=>Ev(n,t))}function bA(n){let e=n.children.length>0?` { ${n.children.map(bA).join(", ")} } `:"";return`${n.value}${e}`}function iv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,In(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),In(e.params,t.params)||n.paramsSubject.next(t.params),OV(e.url,t.url)||n.urlSubject.next(t.url),In(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function fv(n,e){let t=In(n.params,e.params)&&jV(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||fv(n.parent,e.parent))}function CA(n){return typeof n.title=="string"||n.title===null}var SA=new F(""),Iv=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ne;activateEvents=new dt;deactivateEvents=new dt;attachEvents=new dt;detachEvents=new dt;routerOutletData=pS(void 0);parentContexts=M(Yi);location=M(er);changeDetector=M(os);inputBinder=M(Mc,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new j(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new j(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new j(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new j(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new pv(t,a,i.injector,this.routerOutletData);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||n)};static \u0275dir=nr({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ui]})}return n})(),pv=class{route;childContexts;parent;outletData;constructor(e,t,r,i){this.route=e,this.childContexts=t,this.parent=r,this.outletData=i}get(e,t){return e===bn?this.route:e===Yi?this.childContexts:e===SA?this.outletData:this.parent.get(e,t)}},Mc=new F(""),wv=(()=>{class n{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=ba([r.queryParams,r.params,r.data]).pipe(mt(([o,s,a],u)=>(a=L(L(L({},o),s),a),u===0?z(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=yS(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})(),Tv=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=yy({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&jd(0,"router-outlet")},dependencies:[Iv],encapsulation:2})}return n})();function Dv(n){let e=n.children&&n.children.map(Dv),t=e?fe(L({},n),{children:e}):L({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ne&&(t.component=Tv),t}function u2(n,e,t){let r=Cc(n,e._root,t?t._root:void 0);return new Dc(r,e)}function Cc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=l2(n,e,t);return new kt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Cc(n,a)),s}}let r=d2(e.value),i=e.children.map(o=>Cc(n,o));return new kt(r,i)}}function l2(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Cc(n,r,i);return Cc(n,r)})}function d2(n){return new bn(new tt(n.url),new tt(n.params),new tt(n.queryParams),new tt(n.fragment),new tt(n.data),n.outlet,n.component,n)}var vs=class{redirectTo;navigationBehaviorOptions;constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},AA="ngNavigationCancelingError";function Ch(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Gr(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RA(!1,Et.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function RA(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[AA]=!0,t.cancellationCode=e,t}function h2(n){return NA(n)&&Gr(n.url)}function NA(n){return!!n&&n[AA]}var f2=(n,e,t,r)=>X(i=>(new gv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),gv=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),iv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ls(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ls(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ls(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new wh(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Eh(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(iv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),iv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},fs=class{component;route;constructor(e,t){this.component=e,this.route=t}};function p2(n,e,t){let r=n._root,i=e?e._root:null;return vc(r,i,t,[r.value])}function g2(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function Es(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Eg(n)?n:e.get(n):r}function vc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ls(e);return n.children.forEach(s=>{m2(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Ec(a,t.getContext(s),i)),i}function m2(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=y2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sh(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?vc(n,e,a?a.children:null,r,i):vc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new fs(a.outlet.component,s))}else s&&Ec(e,a,i),i.canActivateChecks.push(new Sh(r)),o.component?vc(n,null,a?a.children:null,r,i):vc(n,null,t,r,i);return i}function y2(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Gi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Gi(n.url,e.url)||!In(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!fv(n,e)||!In(n.queryParams,e.queryParams);case"paramsChange":default:return!fv(n,e)}}function Ec(n,e,t){let r=ls(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Ec(s,e.children.getContext(o),t):Ec(s,null,t):Ec(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new fs(e.outlet.component,i)):t.canDeactivateChecks.push(new fs(null,i)):t.canDeactivateChecks.push(new fs(null,i))}function Pc(n){return typeof n=="function"}function v2(n){return typeof n=="boolean"}function _2(n){return n&&Pc(n.canLoad)}function E2(n){return n&&Pc(n.canActivate)}function I2(n){return n&&Pc(n.canActivateChild)}function w2(n){return n&&Pc(n.canDeactivate)}function T2(n){return n&&Pc(n.canMatch)}function MA(n){return n instanceof Yt||n?.name==="EmptyError"}var ah=Symbol("INITIAL_VALUE");function _s(){return mt(n=>ba(n.map(e=>e.pipe(qn(1),Cl(ah)))).pipe(X(e=>{for(let t of e)if(t!==!0){if(t===ah)return ah;if(t===!1||D2(t))return t}return!0}),nt(e=>e!==ah),qn(1)))}function D2(n){return Gr(n)||n instanceof vs}function b2(n,e){return ke(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?z(fe(L({},t),{guardsResult:!0})):C2(s,r,i,n).pipe(ke(a=>a&&v2(a)?S2(r,o,n,e):z(a)),X(a=>fe(L({},t),{guardsResult:a})))})}function C2(n,e,t,r){return Ie(n).pipe(ke(i=>P2(i.component,i.route,t,e,r)),Gn(i=>i!==!0,!0))}function S2(n,e,t,r){return Ie(e).pipe(dn(i=>Fo(R2(i.route.parent,r),A2(i.route,r),M2(n,i.path,t),N2(n,i.route,t))),Gn(i=>i!==!0,!0))}function A2(n,e){return n!==null&&e&&e(new Ih(n)),z(!0)}function R2(n,e){return n!==null&&e&&e(new _h(n)),z(!0)}function N2(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return z(!0);let i=r.map(o=>Ca(()=>{let s=Nc(e)??t,a=Es(o,s),u=E2(a)?a.canActivate(e,n):Ve(s,()=>a(e,n));return sr(u).pipe(Gn())}));return z(i).pipe(_s())}function M2(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>g2(s)).filter(s=>s!==null).map(s=>Ca(()=>{let a=s.guards.map(u=>{let l=Nc(s.node)??t,h=Es(u,l),p=I2(h)?h.canActivateChild(r,n):Ve(l,()=>h(r,n));return sr(p).pipe(Gn())});return z(a).pipe(_s())}));return z(o).pipe(_s())}function P2(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return z(!0);let s=o.map(a=>{let u=Nc(e)??i,l=Es(a,u),h=w2(l)?l.canDeactivate(n,e,t,r):Ve(u,()=>l(n,e,t,r));return sr(h).pipe(Gn())});return z(s).pipe(_s())}function x2(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return z(!0);let o=i.map(s=>{let a=Es(s,n),u=_2(a)?a.canLoad(e,t):Ve(n,()=>a(e,t));return sr(u)});return z(o).pipe(_s(),PA(r))}function PA(n){return ol(We(e=>{if(typeof e!="boolean")throw Ch(n,e)}),X(e=>e===!0))}function k2(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return z(!0);let o=i.map(s=>{let a=Es(s,n),u=T2(a)?a.canMatch(e,t):Ve(n,()=>a(e,t));return sr(u)});return z(o).pipe(_s(),PA(r))}var Sc=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Ac=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function us(n){return Lo(new Sc(n))}function O2(n){return Lo(new j(4e3,!1))}function L2(n){return Lo(RA(!1,Et.GuardRejected))}var mv=class{urlSerializer;urlTree;constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return z(r);if(i.numberOfChildren>1||!i.children[ne])return O2(`${e.redirectTo}`);i=i.children[ne]}}applyRedirectCommands(e,t,r,i,o){return F2(t,i,o).pipe(X(s=>{if(s instanceof Tn)throw new Ac(s);let a=this.applyRedirectCreateUrlTree(s,this.urlSerializer.parse(s),e,r);if(s[0]==="/")throw new Ac(a);return a}))}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Tn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new ye(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new j(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}};function F2(n,e,t){if(typeof n=="string")return z(n);let r=n,{queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,params:l,data:h,title:p}=e;return sr(Ve(t,()=>r({params:l,data:h,queryParams:i,fragment:o,routeConfig:s,url:a,outlet:u,title:p})))}var yv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function V2(n,e,t,r,i){let o=xA(n,e,t);return o.matched?(r=s2(e,r),k2(r,e,t,i).pipe(X(s=>s===!0?o:L({},yv)))):z(o)}function xA(n,e,t){if(e.path==="**")return j2(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?L({},yv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||cA)(t,n,e);if(!i)return L({},yv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?L(L({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function j2(n){return{matched:!0,parameters:n.length>0?lA(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function oA(n,e,t,r){return t.length>0&&$2(n,t,r)?{segmentGroup:new ye(e,B2(r,new ye(t,n.children))),slicedSegments:[]}:t.length===0&&H2(n,t,r)?{segmentGroup:new ye(n.segments,U2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new ye(n.segments,n.children),slicedSegments:t}}function U2(n,e,t,r){let i={};for(let o of t)if(Rh(n,e,o)&&!r[on(o)]){let s=new ye([],{});i[on(o)]=s}return L(L({},r),i)}function B2(n,e){let t={};t[ne]=e;for(let r of n)if(r.path===""&&on(r)!==ne){let i=new ye([],{});t[on(r)]=i}return t}function $2(n,e,t){return t.some(r=>Rh(n,e,r)&&on(r)!==ne)}function H2(n,e,t){return t.some(r=>Rh(n,e,r))}function Rh(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function z2(n,e,t){return e.length===0&&!n.children[t]}var vv=class{};function q2(n,e,t,r,i,o,s="emptyOnly"){return new _v(n,e,t,r,i,s,o).recognize()}var G2=31,_v=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new mv(this.urlSerializer,this.urlTree)}noMatchError(e){return new j(4002,`'${e.segmentGroup}'`)}recognize(){let e=oA(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(X(({children:t,rootSnapshot:r})=>{let i=new kt(r,t),o=new bc("",i),s=_A(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new Wi([],Object.freeze({}),Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ne,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ne,t).pipe(X(r=>({children:r,rootSnapshot:t})),zn(r=>{if(r instanceof Ac)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Sc?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(X(s=>s instanceof kt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ie(o).pipe(dn(s=>{let a=r.children[s],u=a2(t,s);return this.processSegmentGroup(e,u,a,s,i)}),bl((s,a)=>(s.push(...a),s)),Ar(null),og(),ke(s=>{if(s===null)return us(r);let a=kA(s);return W2(a),z(a)}))}processSegment(e,t,r,i,o,s,a){return Ie(t).pipe(dn(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(zn(l=>{if(l instanceof Sc)return z(null);throw l}))),Gn(u=>!!u),zn(u=>{if(MA(u))return z2(r,i,o)?z(new vv):us(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return on(r)!==s&&(s===ne||!Rh(i,o,r))?us(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):us(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:g}=xA(t,i,o);if(!u)return us(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>G2&&(this.allowRedirects=!1));let y=new Wi(o,l,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,sA(i),on(i),i.component??i._loadedComponent??null,i,aA(i)),C=bh(y,a,this.paramsInheritanceStrategy);return y.params=Object.freeze(C.params),y.data=Object.freeze(C.data),this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,y,e).pipe(mt(R=>this.applyRedirects.lineralizeSegments(i,R)),ke(R=>this.processSegment(e,r,t,R.concat(g),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=V2(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(mt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(mt(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:g,remainingSegments:y}=u,C=new Wi(g,p,Object.freeze(L({},this.urlTree.queryParams)),this.urlTree.fragment,sA(r),on(r),r.component??r._loadedComponent??null,r,aA(r)),N=bh(C,s,this.paramsInheritanceStrategy);C.params=Object.freeze(N.params),C.data=Object.freeze(N.data);let{segmentGroup:R,slicedSegments:k}=oA(t,g,y,l);if(k.length===0&&R.hasChildren())return this.processChildren(h,l,R,C).pipe(X(B=>new kt(C,B)));if(l.length===0&&k.length===0)return z(new kt(C,[]));let W=on(r)===o;return this.processSegment(h,l,R,k,W?ne:o,!0,C).pipe(X(B=>new kt(C,B instanceof kt?[B]:[])))}))):us(t)))}getChildConfig(e,t,r){return t.children?z({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?z({routes:t._loadedRoutes,injector:t._loadedInjector}):x2(e,t,r,this.urlSerializer).pipe(ke(i=>i?this.configLoader.loadChildren(e,t).pipe(We(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):L2(t))):z({routes:[],injector:e})}};function W2(n){n.sort((e,t)=>e.value.outlet===ne?-1:t.value.outlet===ne?1:e.value.outlet.localeCompare(t.value.outlet))}function K2(n){let e=n.value.routeConfig;return e&&e.path===""}function kA(n){let e=[],t=new Set;for(let r of n){if(!K2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=kA(r.children);e.push(new kt(r.value,i))}return e.filter(r=>!t.has(r))}function sA(n){return n.data||{}}function aA(n){return n.resolve||{}}function Q2(n,e,t,r,i,o){return ke(s=>q2(n,e,t,r,s.extractedUrl,i,o).pipe(X(({state:a,tree:u})=>fe(L({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function Y2(n,e){return ke(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return z(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of OA(u))s.add(l);let a=0;return Ie(s).pipe(dn(u=>o.has(u)?J2(u,r,n,e):(u.data=bh(u,u.parent,n).resolve,z(void 0))),We(()=>a++),Vo(1),ke(u=>a===s.size?z(t):Tt))})}function OA(n){let e=n.children.map(t=>OA(t)).flat();return[n,...e]}function J2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!CA(i)&&(o[Rc]=i.title),Ca(()=>(n.data=bh(n,n.parent,t).resolve,Z2(o,n,e,r).pipe(X(s=>(n._resolvedData=s,n.data=L(L({},n.data),s),null)))))}function Z2(n,e,t,r){let i=av(n);if(i.length===0)return z({});let o={};return Ie(i).pipe(ke(s=>X2(n[s],e,t,r).pipe(Gn(),We(a=>{if(a instanceof vs)throw Ch(new qr,a);o[s]=a}))),Vo(1),X(()=>o),zn(s=>MA(s)?Tt:Lo(s)))}function X2(n,e,t,r){let i=Nc(e)??r,o=Es(n,i),s=o.resolve?o.resolve(e,t):Ve(i,()=>o(e,t));return sr(s)}function ov(n){return mt(e=>{let t=n(e);return t?Ie(t).pipe(X(()=>e)):z(e)})}var bv=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ne);return r}getResolvedTitleForRoute(t){return t.data[Rc]}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(LA),providedIn:"root"})}return n})(),LA=(()=>{class n extends bv{title;constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||n)(H(eA))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Kr=new F("",{providedIn:"root",factory:()=>({})}),Ji=new F(""),Nh=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=M(Py);loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return z(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=sr(t.loadComponent()).pipe(X(VA),We(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Rr(()=>{this.componentLoaders.delete(t)})),i=new Po(r,()=>new He).pipe(Mo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return z({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=FA(r,this.compiler,t,this.onLoadEndListener).pipe(Rr(()=>{this.childrenLoaders.delete(r)})),s=new Po(o,()=>new He).pipe(Mo());return this.childrenLoaders.set(r,s),s}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function FA(n,e,t,r){return sr(n.loadChildren()).pipe(X(VA),ke(i=>i instanceof kd||Array.isArray(i)?z(i):Ie(e.compileModuleAsync(i))),X(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(Ji,[],{optional:!0,self:!0}).flat()),{routes:s.map(Dv),injector:o}}))}function ej(n){return n&&typeof n=="object"&&"default"in n}function VA(n){return ej(n)?n.default:n}var Mh=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(tj),providedIn:"root"})}return n})(),tj=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Cv=new F(""),Sv=new F("");function jA(n,e,t){let r=n.get(Sv),i=n.get(Re);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,s=new Promise(l=>{o=l}),a=i.startViewTransition(()=>(o(),nj(n))),{onViewTransitionCreated:u}=r;return u&&Ve(n,()=>u({transition:a,from:e,to:t})),s}function nj(n){return new Promise(e=>{Ld({read:()=>setTimeout(e)},{injector:n})})}var Av=new F(""),Ph=(()=>{class n{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new He;transitionAbortWithErrorSubject=new He;configLoader=M(Nh);environmentInjector=M(be);destroyRef=M(Yn);urlSerializer=M(Qi);rootContexts=M(Yi);location=M($r);inputBindingEnabled=M(Mc,{optional:!0})!==null;titleStrategy=M(bv);options=M(Kr,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=M(Mh);createViewTransition=M(Cv,{optional:!0});navigationErrorHandler=M(Av,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>z(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=i=>this.events.next(new yh(i)),r=i=>this.events.next(new vh(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(fe(L({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:r}))}setupNavigations(t){return this.transitions=new tt(null),this.transitions.pipe(nt(r=>r!==null),mt(r=>{let i=!1;return z(r).pipe(mt(o=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Et.SupersededByNewNavigation),Tt;this.currentTransition=r,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?fe(L({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()};let s=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),a=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!s&&a!=="reload"){let u="";return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.rawUrl),u,ps.IgnoredSameUrlNavigation)),o.resolve(!1),Tt}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return z(o).pipe(mt(u=>(this.events.next(new Wr(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?Tt:Promise.resolve(u))),Q2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),We(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation=fe(L({},this.currentNavigation),{finalUrl:u.urlAfterRedirects});let l=new wc(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}));if(s&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:u,extractedUrl:l,source:h,restoredState:p,extras:g}=o,y=new Wr(u,this.urlSerializer.serialize(l),h,p);this.events.next(y);let C=DA(this.rootComponentType).snapshot;return this.currentTransition=r=fe(L({},o),{targetSnapshot:C,urlAfterRedirects:l,extras:fe(L({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=l,z(r)}else{let u="";return this.events.next(new Dn(o.id,this.urlSerializer.serialize(o.extractedUrl),u,ps.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Tt}}),We(o=>{let s=new fh(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),X(o=>(this.currentTransition=r=fe(L({},o),{guards:p2(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),r)),b2(this.environmentInjector,o=>this.events.next(o)),We(o=>{if(r.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Ch(this.urlSerializer,o.guardsResult);let s=new ph(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(s)}),nt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Et.GuardRejected),!1)),ov(o=>{if(o.guards.canActivateChecks.length!==0)return z(o).pipe(We(s=>{let a=new gh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),mt(s=>{let a=!1;return z(s).pipe(Y2(this.paramsInheritanceStrategy,this.environmentInjector),We({next:()=>a=!0,complete:()=>{a||this.cancelNavigationTransition(s,"",Et.NoDataFromResolver)}}))}),We(s=>{let a=new mh(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}))}),ov(o=>{let s=a=>{let u=[];a.routeConfig?.loadComponent&&!a.routeConfig._loadedComponent&&u.push(this.configLoader.loadComponent(a.routeConfig).pipe(We(l=>{a.component=l}),X(()=>{})));for(let l of a.children)u.push(...s(l));return u};return ba(s(o.targetSnapshot.root)).pipe(Ar(null),qn(1))}),ov(()=>this.afterPreactivation()),mt(()=>{let{currentSnapshot:o,targetSnapshot:s}=r,a=this.createViewTransition?.(this.environmentInjector,o.root,s.root);return a?Ie(a).pipe(X(()=>r)):z(r)}),X(o=>{let s=u2(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=r=fe(L({},o),{targetRouterState:s}),this.currentNavigation.targetRouterState=s,r}),We(()=>{this.events.next(new Tc)}),f2(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),qn(1),Sl(new Y(o=>{let s=r.abortController.signal,a=()=>o.next();return s.addEventListener("abort",a),()=>s.removeEventListener("abort",a)}).pipe(nt(()=>!i&&!r.targetRouterState),We(()=>{this.cancelNavigationTransition(r,r.abortController.signal.reason+"",Et.Aborted)}))),We({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Lt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),Sl(this.transitionAbortWithErrorSubject.pipe(We(o=>{throw o}))),Rr(()=>{i||this.cancelNavigationTransition(r,"",Et.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation=null,this.currentTransition=null)}),zn(o=>{if(this.destroyed)return r.resolve(!1),Tt;if(i=!0,NA(o))this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),o.message,o.cancellationCode)),h2(o)?this.events.next(new ys(o.url,o.navigationBehaviorOptions)):r.resolve(!1);else{let s=new gs(r.id,this.urlSerializer.serialize(r.extractedUrl),o,r.targetSnapshot??void 0);try{let a=Ve(this.environmentInjector,()=>this.navigationErrorHandler?.(s));if(a instanceof vs){let{message:u,cancellationCode:l}=Ch(this.urlSerializer,a);this.events.next(new wn(r.id,this.urlSerializer.serialize(r.extractedUrl),u,l)),this.events.next(new ys(a.redirectTo,a.navigationBehaviorOptions))}else throw this.events.next(s),o}catch(a){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(a)}}return Tt}))}))}cancelNavigationTransition(t,r,i){let o=new wn(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function rj(n){return n!==hs}var UA=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(ij),providedIn:"root"})}return n})(),Ah=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},ij=(()=>{class n extends Ah{static \u0275fac=(()=>{let t;return function(i){return(t||(t=wd(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),BA=(()=>{class n{urlSerializer=M(Qi);options=M(Kr,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=M($r);urlHandlingStrategy=M(Mh);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Tn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:r,targetBrowserUrl:i}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,r):r,s=i??o;return s instanceof Tn?this.urlSerializer.serialize(s):s}commitTransition({targetRouterState:t,finalUrl:r,initialUrl:i}){r&&t?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=t):this.rawUrlTree=i}routerState=DA(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:()=>M(oj),providedIn:"root"})}return n})(),oj=(()=>{class n extends BA{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{t(r.url,r.state,"popstate")})})}handleRouterEvent(t,r){t instanceof Wr?this.updateStateMemento():t instanceof Dn?this.commitTransition(r):t instanceof wc?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof Tc?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):t instanceof wn&&t.code!==Et.SupersededByNewNavigation&&t.code!==Et.Redirect?this.restoreHistory(r):t instanceof gs?this.restoreHistory(r,!0):t instanceof Lt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:r,id:i}){let{replaceUrl:o,state:s}=r;if(this.location.isCurrentPathEqualTo(t)||o){let a=this.browserPageId,u=L(L({},s),this.generateNgRouterState(i,a));this.location.replaceState(t,"",u)}else{let a=L(L({},s),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(t,"",a)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(i){return(t||(t=wd(n)))(i||n)}})();static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function xh(n,e){n.events.pipe(nt(t=>t instanceof Lt||t instanceof wn||t instanceof gs||t instanceof Dn),X(t=>t instanceof Lt||t instanceof Dn?0:(t instanceof wn?t.code===Et.Redirect||t.code===Et.SupersededByNewNavigation:!1)?2:1),nt(t=>t!==2),qn(1)).subscribe(()=>{e()})}var sj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},aj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},sn=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=M(Iy);stateManager=M(BA);options=M(Kr,{optional:!0})||{};pendingTasks=M(Jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=M(Ph);urlSerializer=M(Qi);location=M($r);urlHandlingStrategy=M(Mh);injector=M(be);_events=new He;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=M(UA);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=M(Ji,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!M(Mc,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Se;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof wn&&r.code!==Et.Redirect&&r.code!==Et.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Lt)this.navigated=!0;else if(r instanceof ys){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=L({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||rj(i.source)},s);this.scheduleNavigation(a,hs,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}o2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),hs,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r,i)=>{this.navigateToSyncWithBrowser(t,i,r)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=L({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o).catch(u=>{this.injector.get(Ct)(u)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Dv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,l=u?this.currentUrlTree.fragment:s,h=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":h=L(L({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let p;try{let g=i?i.snapshot:this.routerState.snapshot.root;p=EA(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),p=this.currentUrlTree.root}return IA(p,t,h,l??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Gr(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,hs,null,r)}navigate(t,r={skipLocationChange:!1}){return cj(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=L({},sj):r===!1?i=L({},aj):i=r,Gr(t))return tA(this.currentUrlTree,t,i);let o=this.parseUrl(t);return tA(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,l;s?(a=s.resolve,u=s.reject,l=s.promise):l=new Promise((p,g)=>{a=p,u=g});let h=this.pendingTasks.add();return xh(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(p=>Promise.reject(p))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cj(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new j(4008,!1)}var kh=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=qa(null);get href(){return $d(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new He;applicationErrorHandler=M(Ct);options=M(Kr,{optional:!0});constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.reactiveHref.set(M(new zd("href"),{optional:!0}));let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area"||!!(typeof customElements=="object"&&customElements.get(u)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,r=i=>i==="merge"||i==="preserve";t||=r(this.queryParamsHandling),t||=!this.queryParamsHandling&&!r(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(i=>{i instanceof Lt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Gr(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Gr(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||n)(Ne(sn),Ne(bn),Xa("tabindex"),Ne(es),Ne(_n),Ne(rn))};static \u0275dir=nr({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ud("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Vd("href",i.reactiveHref(),Zm)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",oc],skipLocationChange:[2,"skipLocationChange","skipLocationChange",oc],replaceUrl:[2,"replaceUrl","replaceUrl",oc],routerLink:"routerLink"},features:[Ui]})}return n})(),uj=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new dt;constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof Lt&&this.update()})}ngAfterContentInit(){z(this.links.changes,z(null)).pipe(Sr()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=Ie(t).pipe(Sr()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){let r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let t=this.hasActiveLinks();this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.isActiveChange.emit(t))})}isLinkActive(t){let r=lj(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let o=i.urlTree;return o?t.isActive(o,r):!1}}hasActiveLinks(){let t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}static \u0275fac=function(r){return new(r||n)(Ne(sn),Ne(_n),Ne(es),Ne(os),Ne(kh,8))};static \u0275dir=nr({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&Ay(o,kh,5),r&2){let s;Ry(s=Ny())&&(i.links=s)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ui]})}return n})();function lj(n){return!!n.paths}var xc=class{};var $A=(()=>{class n{router;injector;preloadingStrategy;loader;subscription;constructor(t,r,i,o){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(nt(t=>t instanceof Lt),dn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=ns(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ie(i).pipe(Sr())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=z(null);let o=i.pipe(ke(s=>s===null?z(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ie([o,s]).pipe(Sr())}else return o})}static \u0275fac=function(r){return new(r||n)(H(sn),H(be),H(xc),H(Nh))};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),HA=new F(""),dj=(()=>{class n{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=hs;restoredId=0;store={};constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Wr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Lt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Dn&&t.code===ps.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof ms&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>_(this,null,function*(){yield new Promise(i=>{setTimeout(i),typeof requestAnimationFrame<"u"&&requestAnimationFrame(i)}),this.zone.run(()=>{this.transitions.events.next(new ms(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(r){fy()};static \u0275prov=U({token:n,factory:n.\u0275fac})}return n})();function hj(n,...e){return Pt([{provide:Ji,multi:!0,useValue:n},[],{provide:bn,useFactory:zA,deps:[sn]},{provide:nc,multi:!0,useFactory:qA},e.map(t=>t.\u0275providers)])}function zA(n){return n.routerState.root}function kc(n,e){return{\u0275kind:n,\u0275providers:e}}function qA(){let n=M(Oe);return e=>{let t=n.get(Hi);if(e!==t.components[0])return;let r=n.get(sn),i=n.get(GA);n.get(Nv)===1&&r.initialNavigation(),n.get(QA,null,{optional:!0})?.setUpPreloading(),n.get(HA,null,{optional:!0})?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var GA=new F("",{factory:()=>new He}),Nv=new F("",{providedIn:"root",factory:()=>1});function WA(){let n=[{provide:Nv,useValue:0},Fd(()=>{let e=M(Oe);return e.get(By,Promise.resolve()).then(()=>new Promise(r=>{let i=e.get(sn),o=e.get(GA);xh(i,()=>{r(!0)}),e.get(Ph).afterPreactivation=()=>(r(!0),o.closed?z(void 0):o),i.initialNavigation()}))})];return kc(2,n)}function KA(){let n=[Fd(()=>{M(sn).setUpLocationChangeListener()}),{provide:Nv,useValue:2}];return kc(3,n)}var QA=new F("");function YA(n){return kc(0,[{provide:QA,useExisting:$A},{provide:xc,useExisting:n}])}function JA(){return kc(8,[wv,{provide:Mc,useExisting:wv}])}function ZA(n){ts("NgRouterViewTransitions");let e=[{provide:Cv,useValue:jA},{provide:Sv,useValue:L({skipNextTransition:!!n?.skipInitialTransition},n)}];return kc(9,e)}var XA=[$r,{provide:Qi,useClass:qr},sn,Yi,{provide:bn,useFactory:zA,deps:[sn]},Nh,[]],fj=(()=>{class n{constructor(){}static forRoot(t,r){return{ngModule:n,providers:[XA,[],{provide:Ji,multi:!0,useValue:t},[],r?.errorHandler?{provide:Av,useValue:r.errorHandler}:[],{provide:Kr,useValue:r||{}},r?.useHash?gj():mj(),pj(),r?.preloadingStrategy?YA(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?yj(r):[],r?.bindToComponentInputs?JA().\u0275providers:[],r?.enableViewTransitions?ZA().\u0275providers:[],vj()]}}static forChild(t){return{ngModule:n,providers:[{provide:Ji,multi:!0,useValue:t}]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=tr({type:n});static \u0275inj=hn({})}return n})();function pj(){return{provide:HA,useFactory:()=>{let n=M(AS),e=M(me),t=M(Kr),r=M(Ph),i=M(Qi);return t.scrollOffset&&n.setOffset(t.scrollOffset),new dj(i,r,n,e,t)}}}function gj(){return{provide:rn,useClass:$y}}function mj(){return{provide:rn,useClass:Kd}}function yj(n){return[n.initialNavigation==="disabled"?KA().\u0275providers:[],n.initialNavigation==="enabledBlocking"?WA().\u0275providers:[]]}var Rv=new F("");function vj(){return[{provide:Rv,useFactory:qA},{provide:nc,multi:!0,useExisting:Rv}]}var e0=()=>{};var r0=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_j=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},Oh={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,l=u?n[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,g=(a&15)<<2|l>>6,y=l&63;u||(y=64,s||(g=64)),r.push(t[h],t[p],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(r0(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_j(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let l=i<n.length?t[n.charAt(i)]:64;++i;let p=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new Pv;let g=o<<2|a>>4;if(r.push(g),l!==64){let y=a<<4&240|l>>2;if(r.push(y),p!==64){let C=l<<6&192|p;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Pv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Ej=function(n){let e=r0(n);return Oh.encodeByteArray(e,!0)},Lc=function(n){return Ej(n).replace(/\./g,"")},Lh=function(n){try{return Oh.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function kv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Ij=()=>kv().__FIREBASE_DEFAULTS__,wj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Tj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Lh(n[1]);return e&&JSON.parse(e)},Fh=()=>{try{return e0()||Ij()||wj()||Tj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Ov=n=>{var e,t;return(t=(e=Fh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},i0=n=>{let e=Ov(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Lv=()=>{var n;return(n=Fh())===null||n===void 0?void 0:n.config},Fv=n=>{var e;return(e=Fh())===null||e===void 0?void 0:e[`_${n}`]};var Zi=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Qr(n){return n.endsWith(".cloudworkstations.dev")}function Vh(n){return _(this,null,function*(){return(yield fetch(n,{credentials:"include"})).ok})}function o0(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Lc(JSON.stringify(t)),Lc(JSON.stringify(s)),""].join(".")}var Oc={};function Dj(){let n={prod:[],emulator:[]};for(let e of Object.keys(Oc))Oc[e]?n.emulator.push(e):n.prod.push(e);return n}function bj(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}var t0=!1;function jh(n,e){if(typeof window>"u"||typeof document>"u"||!Qr(window.location.host)||Oc[n]===e||Oc[n]||t0)return;Oc[n]=e;function t(g){return`__firebase__banner__${g}`}let r="__firebase__banner",o=Dj().prod.length>0;function s(){let g=document.getElementById(r);g&&g.remove()}function a(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function u(g,y){g.setAttribute("width","24"),g.setAttribute("id",y),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function l(){let g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{t0=!0,s()},g}function h(g,y){g.setAttribute("id",y),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){let g=bj(r),y=t("text"),C=document.getElementById(y)||document.createElement("span"),N=t("learnmore"),R=document.getElementById(N)||document.createElement("a"),k=t("preprendIcon"),W=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){let B=g.element;a(B),h(R,N);let pe=l();u(W,k),B.append(W,C,R,pe),document.body.appendChild(B)}o?(C.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",y)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function Ye(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function Cj(){var n;let e=(n=Fh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function a0(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function c0(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function u0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l0(){let n=Ye();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function d0(){return!Cj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Fc(){try{return typeof indexedDB=="object"}catch{return!1}}function h0(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var Sj="FirebaseError",Ft=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Sj,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,an.prototype.create)}},an=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?Aj(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new Ft(i,a,r)}};function Aj(n,e){return n.replace(Rj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Rj=/\{\$([^}]+)}/g;function f0(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cn(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(n0(o)&&n0(s)){if(!Cn(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function n0(n){return n!==null&&typeof n=="object"}function Vc(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Is(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ws(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function p0(n,e){let t=new xv(n,e);return t.subscribe.bind(t)}var xv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Nj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Mv),i.error===void 0&&(i.error=Mv),i.complete===void 0&&(i.complete=Mv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Mv(){}var Ine=4*60*60*1e3;function Le(n){return n&&n._delegate?n._delegate:n}var It=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Xi="[DEFAULT]";var Vv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Zi;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Pj(e))try{this.getOrInitializeService({instanceIdentifier:Xi})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Xi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return _(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Xi){return this.instances.has(e)}getOptions(e=Xi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Mj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Xi){return this.component?this.component.multipleInstances?e:Xi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Mj(n){return n===Xi?void 0:n}function Pj(n){return n.instantiationMode==="EAGER"}var Uh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Vv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var xj=[],se=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(se||{}),kj={debug:se.DEBUG,verbose:se.VERBOSE,info:se.INFO,warn:se.WARN,error:se.ERROR,silent:se.SILENT},Oj=se.INFO,Lj={[se.DEBUG]:"log",[se.VERBOSE]:"log",[se.INFO]:"info",[se.WARN]:"warn",[se.ERROR]:"error"},Fj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=Lj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Sn=class{constructor(e){this.name=e,this._logLevel=Oj,this._logHandler=Fj,this._userLogHandler=null,xj.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in se))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?kj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,se.DEBUG,...e),this._logHandler(this,se.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,se.VERBOSE,...e),this._logHandler(this,se.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,se.INFO,...e),this._logHandler(this,se.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,se.WARN,...e),this._logHandler(this,se.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,se.ERROR,...e),this._logHandler(this,se.ERROR,...e)}};var Vj=(n,e)=>e.some(t=>n instanceof t),g0,m0;function jj(){return g0||(g0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Uj(){return m0||(m0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var y0=new WeakMap,Uv=new WeakMap,v0=new WeakMap,jv=new WeakMap,$v=new WeakMap;function Bj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(An(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&y0.set(t,n)}).catch(()=>{}),$v.set(e,n),e}function $j(n){if(Uv.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});Uv.set(n,e)}var Bv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Uv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||v0.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return An(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function _0(n){Bv=n(Bv)}function Hj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Bh(this),e,...t);return v0.set(r,e.sort?e.sort():[e]),An(r)}:Uj().includes(n)?function(...e){return n.apply(Bh(this),e),An(y0.get(this))}:function(...e){return An(n.apply(Bh(this),e))}}function zj(n){return typeof n=="function"?Hj(n):(n instanceof IDBTransaction&&$j(n),Vj(n,jj())?new Proxy(n,Bv):n)}function An(n){if(n instanceof IDBRequest)return Bj(n);if(jv.has(n))return jv.get(n);let e=zj(n);return e!==n&&(jv.set(n,e),$v.set(e,n)),e}var Bh=n=>$v.get(n);function I0(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=An(s);return r&&s.addEventListener("upgradeneeded",u=>{r(An(s.result),u.oldVersion,u.newVersion,An(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var qj=["get","getKey","getAll","getAllKeys","count"],Gj=["put","add","delete","clear"],Hv=new Map;function E0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Hv.get(e))return Hv.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Gj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qj.includes(t)))return;let o=function(s,...a){return _(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[t](...a),i&&u.done]))[0]})};return Hv.set(e,o),o}_0(n=>fe(L({},n),{get:(e,t,r)=>E0(e,t)||n.get(e,t,r),has:(e,t)=>!!E0(e,t)||n.has(e,t)}));var qv=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Wj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Wj(n){let e=n.getComponent();return e?.type==="VERSION"}var Gv="@firebase/app",w0="0.13.1";var ar=new Sn("@firebase/app"),Kj="@firebase/app-compat",Qj="@firebase/analytics-compat",Yj="@firebase/analytics",Jj="@firebase/app-check-compat",Zj="@firebase/app-check",Xj="@firebase/auth",eU="@firebase/auth-compat",tU="@firebase/database",nU="@firebase/data-connect",rU="@firebase/database-compat",iU="@firebase/functions",oU="@firebase/functions-compat",sU="@firebase/installations",aU="@firebase/installations-compat",cU="@firebase/messaging",uU="@firebase/messaging-compat",lU="@firebase/performance",dU="@firebase/performance-compat",hU="@firebase/remote-config",fU="@firebase/remote-config-compat",pU="@firebase/storage",gU="@firebase/storage-compat",mU="@firebase/firestore",yU="@firebase/ai",vU="@firebase/firestore-compat",_U="firebase",EU="11.9.0";var Wv="[DEFAULT]",IU={[Gv]:"fire-core",[Kj]:"fire-core-compat",[Yj]:"fire-analytics",[Qj]:"fire-analytics-compat",[Zj]:"fire-app-check",[Jj]:"fire-app-check-compat",[Xj]:"fire-auth",[eU]:"fire-auth-compat",[tU]:"fire-rtdb",[nU]:"fire-data-connect",[rU]:"fire-rtdb-compat",[iU]:"fire-fn",[oU]:"fire-fn-compat",[sU]:"fire-iid",[aU]:"fire-iid-compat",[cU]:"fire-fcm",[uU]:"fire-fcm-compat",[lU]:"fire-perf",[dU]:"fire-perf-compat",[hU]:"fire-rc",[fU]:"fire-rc-compat",[pU]:"fire-gcs",[gU]:"fire-gcs-compat",[mU]:"fire-fst",[vU]:"fire-fst-compat",[yU]:"fire-vertex","fire-js":"fire-js",[_U]:"fire-js-all"};var jc=new Map,wU=new Map,Kv=new Map;function T0(n,e){try{n.container.addComponent(e)}catch(t){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function cn(n){let e=n.name;if(Kv.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Kv.set(e,n);for(let t of jc.values())T0(t,n);for(let t of wU.values())T0(t,n);return!0}function Ts(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function At(n){return n==null?!1:n.settings!==void 0}var TU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yr=new an("app","Firebase",TU);var Qv=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new It("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Yr.create("app-deleted",{appName:this._name})}};var Jr=EU;function Zv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Wv,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Yr.create("bad-app-name",{appName:String(i)});if(t||(t=Lv()),!t)throw Yr.create("no-options");let o=jc.get(i);if(o){if(Cn(t,o.options)&&Cn(r,o.config))return o;throw Yr.create("duplicate-app",{appName:i})}let s=new Uh(i);for(let u of Kv.values())s.addComponent(u);let a=new Qv(t,r,s);return jc.set(i,a),a}function eo(n=Wv){let e=jc.get(n);if(!e&&n===Wv&&Lv())return Zv();if(!e)throw Yr.create("no-app",{appName:n});return e}function $h(){return Array.from(jc.values())}function Me(n,e,t){var r;let i=(r=IU[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}cn(new It(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var DU="firebase-heartbeat-database",bU=1,Uc="firebase-heartbeat-store",zv=null;function S0(){return zv||(zv=I0(DU,bU,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Uc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Yr.create("idb-open",{originalErrorMessage:n.message})})),zv}function CU(n){return _(this,null,function*(){try{let t=(yield S0()).transaction(Uc),r=yield t.objectStore(Uc).get(A0(n));return yield t.done,r}catch(e){if(e instanceof Ft)ar.warn(e.message);else{let t=Yr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(t.message)}}})}function D0(n,e){return _(this,null,function*(){try{let r=(yield S0()).transaction(Uc,"readwrite");yield r.objectStore(Uc).put(e,A0(n)),yield r.done}catch(t){if(t instanceof Ft)ar.warn(t.message);else{let r=Yr.create("idb-set",{originalErrorMessage:t?.message});ar.warn(r.message)}}})}function A0(n){return`${n.name}!${n.options.appId}`}var SU=1024,AU=30,Yv=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new Jv(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return _(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=b0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>AU){let s=NU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ar.warn(r)}})}getHeartbeatsHeader(){return _(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=b0(),{heartbeatsToSend:r,unsentEntries:i}=RU(this._heartbeatsCache.heartbeats),o=Lc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return ar.warn(t),""}})}};function b0(){return new Date().toISOString().substring(0,10)}function RU(n,e=SU){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),C0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),C0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var Jv=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return _(this,null,function*(){return Fc()?h0().then(()=>!0).catch(()=>!1):!1})}read(){return _(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield CU(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return _(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return D0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function C0(n){return Lc(JSON.stringify({version:2,heartbeats:n})).length}function NU(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}function MU(n){cn(new It("platform-logger",e=>new qv(e),"PRIVATE")),cn(new It("heartbeat",e=>new Yv(e),"PRIVATE")),Me(Gv,w0,n),Me(Gv,w0,"esm2017"),Me("fire-js","")}MU("");var PU="firebase",xU="11.9.1";Me(PU,xU,"app");function R0(n){n===void 0&&(n=M(Oe));let e=n.get(Zn);return t=>new Y(r=>{let i=e.add(),o=!1;function s(){o||(i(),o=!0)}let a=t.subscribe({next:u=>{r.next(u),s()},complete:()=>{r.complete(),s()},error:u=>{r.error(u),s()}});return a.add(()=>{r.unsubscribe(),s()}),a})}var Zr=new is("ANGULARFIRE2_VERSION");function Bc(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var bs=(n,e)=>{let t=e?[e]:$h(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ds=function(n){return n[n.SILENT=0]="SILENT",n[n.WARN=1]="WARN",n[n.VERBOSE=2]="VERBOSE",n}(Ds||{}),N0=Vy()&&typeof Zone<"u"?Ds.WARN:Ds.SILENT;var Hh=class{zone;delegate;constructor(e,t=ng){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i?i.runGuarded(()=>{e.apply(this,[s])}):e.apply(this,[s])};return this.delegate.schedule(o,t,r)}},Xr=(()=>{class n{outsideAngular;insideAngular;constructor(){let t=M(me);this.outsideAngular=t.runOutsideAngular(()=>new Hh(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=t.run(()=>new Hh(typeof Zone>"u"?void 0:Zone.current,tg))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=U({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),M0=!1;function kU(n,e){!M0&&(N0>Ds.SILENT||Vy())&&(M0=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),N0>=e&&console.warn(`Firebase API called outside injection context: ${n.name}`)}function OU(n){let e=M(me,{optional:!0});return e?e.runOutsideAngular(()=>n()):n()}function to(n){let e=M(me,{optional:!0});return e?e.run(()=>n()):n()}var LU=(n,e,t)=>(...r)=>(e&&setTimeout(e,0),Ve(t,()=>to(()=>n.apply(void 0,r)))),je=(n,e,t)=>(t||=e?Ds.WARN:Ds.VERBOSE,function(){let r,i=arguments,o,s,a;try{o=M(Xr),s=M(Zn),a=M(be)}catch{return kU(n,t),n.apply(this,i)}for(let l=0;l<arguments.length;l++)typeof i[l]=="function"&&(e&&(r||=to(()=>s.add())),i[l]=LU(i[l],r,a));let u=OU(()=>n.apply(this,i));return e?u instanceof Y?u.pipe(Cr(o.outsideAngular),br(o.insideAngular),R0(a)):u instanceof Promise?to(()=>{let l=s.add();return new Promise((h,p)=>{u.then(g=>Ve(a,()=>to(()=>h(g))),g=>Ve(a,()=>to(()=>p(g)))).finally(l)})}):typeof u=="function"&&r?function(){return setTimeout(r,0),u.apply(this,arguments)}:to(()=>u):u instanceof Y?u.pipe(Cr(o.outsideAngular),br(o.insideAngular)):to(()=>u)});var cr=class{constructor(e){return e}},no=class{constructor(){return $h()}};function FU(n){return n&&n.length===1?n[0]:new cr(eo())}var Xv=new F("angularfire2._apps"),VU={provide:cr,useFactory:FU,deps:[[new St,Xv]]},jU={provide:no,deps:[[new St,Xv]]};function UU(n){return(e,t)=>{let r=t.get(Br);Me("angularfire",Zr.full,"core"),Me("angularfire",Zr.full,"app"),Me("angular",gS.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new cr(i)}}function mre(n,...e){return Pt([VU,jU,{provide:Xv,useFactory:UU(n),multi:!0,deps:[me,Oe,Xr,...e]}])}var yre=je(Zv,!0);var BU=new Map,$U={activated:!1,tokenObservers:[]},HU={initialized:!1,enabled:!1};function un(n){return BU.get(n)||Object.assign({},$U)}function O0(){return HU}var zU="https://content-firebaseappcheck.googleapis.com/v1";var qU="exchangeDebugToken",P0={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Cre=24*60*60*1e3;var n_=class{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return _(this,null,function*(){this.stop();try{this.pending=new Zi,this.pending.promise.catch(t=>{}),yield GU(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new Zi,this.pending.promise.catch(t=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(t){this.retryPolicy(t)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}};function GU(n){return new Promise(e=>{setTimeout(e,n)})}var WU={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},ei=new an("appCheck","AppCheck",WU);function L0(n){if(!un(n).activated)throw ei.create("use-before-activation",{appName:n.name})}function F0(r,i){return _(this,arguments,function*({url:n,body:e},t){let o={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){let y=yield s.getHeartbeatsHeader();y&&(o["X-Firebase-Client"]=y)}let a={method:"POST",body:JSON.stringify(e),headers:o},u;try{u=yield fetch(n,a)}catch(y){throw ei.create("fetch-network-error",{originalErrorMessage:y?.message})}if(u.status!==200)throw ei.create("fetch-status-error",{httpStatus:u.status});let l;try{l=yield u.json()}catch(y){throw ei.create("fetch-parse-error",{originalErrorMessage:y?.message})}let h=l.ttl.match(/^([\d.]+)(s)$/);if(!h||!h[2]||isNaN(Number(h[1])))throw ei.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});let p=Number(h[1])*1e3,g=Date.now();return{token:l.token,expireTimeMillis:g+p,issuedAtTimeMillis:g}})}function V0(n,e){let{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${zU}/projects/${t}/apps/${r}:${qU}?key=${i}`,body:{debug_token:e}}}var KU="firebase-app-check-database",QU=1,r_="firebase-app-check-store";var zh=null;function YU(){return zh||(zh=new Promise((n,e)=>{try{let t=indexedDB.open(KU,QU);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(ei.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},t.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(r_,{keyPath:"compositeKey"})}}}catch(t){e(ei.create("storage-open",{originalErrorMessage:t?.message}))}}),zh)}function JU(n,e){return ZU(XU(n),e)}function ZU(n,e){return _(this,null,function*(){let r=(yield YU()).transaction(r_,"readwrite"),o=r.objectStore(r_).put({compositeKey:n,value:e});return new Promise((s,a)=>{o.onsuccess=u=>{s()},r.onerror=u=>{var l;a(ei.create("storage-set",{originalErrorMessage:(l=u.target.error)===null||l===void 0?void 0:l.message}))}})})}function XU(n){return`${n.options.appId}-${n.name}`}var $c=new Sn("@firebase/app-check");function e_(n,e){return Fc()?JU(n,e).catch(t=>{$c.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function j0(){return O0().enabled}function U0(){return _(this,null,function*(){let n=O0();if(n.enabled&&n.token)return n.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var eB={error:"UNKNOWN_ERROR"};function tB(n){return Oh.encodeString(JSON.stringify(n),!1)}function i_(n,e=!1,t=!1){return _(this,null,function*(){let r=n.app;L0(r);let i=un(r),o=i.token,s;if(o&&!Hc(o)&&(i.token=void 0,o=void 0),!o){let l=yield i.cachedTokenPromise;l&&(Hc(l)?o=l:yield e_(r,void 0))}if(!e&&o&&Hc(o))return{token:o.token};let a=!1;if(j0())try{i.exchangeTokenPromise||(i.exchangeTokenPromise=F0(V0(r,yield U0()),n.heartbeatServiceProvider).finally(()=>{i.exchangeTokenPromise=void 0}),a=!0);let l=yield i.exchangeTokenPromise;return yield e_(r,l),i.token=l,{token:l.token}}catch(l){return l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?$c.warn(l.message):t&&$c.error(l),t_(l)}try{i.exchangeTokenPromise||(i.exchangeTokenPromise=i.provider.getToken().finally(()=>{i.exchangeTokenPromise=void 0}),a=!0),o=yield un(r).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"||l.code==="appCheck/initial-throttle"?$c.warn(l.message):t&&$c.error(l),s=l}let u;return o?s?Hc(o)?u={token:o.token,internalError:s}:u=t_(s):(u={token:o.token},i.token=o,yield e_(r,o)):u=t_(s),a&&oB(r,u),u})}function nB(n){return _(this,null,function*(){let e=n.app;L0(e);let{provider:t}=un(e);if(j0()){let r=yield U0(),{token:i}=yield F0(V0(e,r),n.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield t.getToken();return{token:r}}})}function rB(n,e,t,r){let{app:i}=n,o=un(i),s={next:t,error:r,type:e};if(o.tokenObservers=[...o.tokenObservers,s],o.token&&Hc(o.token)){let a=o.token;Promise.resolve().then(()=>{t({token:a.token}),x0(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>x0(n))}function B0(n,e){let t=un(n),r=t.tokenObservers.filter(i=>i.next!==e);r.length===0&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function x0(n){let{app:e}=n,t=un(e),r=t.tokenRefresher;r||(r=iB(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function iB(n){let{app:e}=n;return new n_(()=>_(null,null,function*(){let t=un(e),r;if(t.token?r=yield i_(n,!0):r=yield i_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let t=un(e);if(t.token){let r=t.token.issuedAtTimeMillis+(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)*.5+3e5,i=t.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},P0.RETRIAL_MIN_WAIT,P0.RETRIAL_MAX_WAIT)}function oB(n,e){let t=un(n).tokenObservers;for(let r of t)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function Hc(n){return n.expireTimeMillis-Date.now()>0}function t_(n){return{token:tB(eB),error:n}}var o_=class{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){let{tokenObservers:e}=un(this.app);for(let t of e)B0(this.app,t.next);return Promise.resolve()}};function sB(n,e){return new o_(n,e)}function aB(n){return{getToken:e=>i_(n,e),getLimitedUseToken:()=>nB(n),addTokenListener:e=>rB(n,"INTERNAL",e),removeTokenListener:e=>B0(n.app,e)}}var cB="@firebase/app-check",uB="0.10.0";var lB="app-check",k0="app-check-internal";function dB(){cn(new It(lB,n=>{let e=n.getProvider("app").getImmediate(),t=n.getProvider("heartbeat");return sB(e,t)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(k0).initialize()})),cn(new It(k0,n=>{let e=n.getProvider("app-check").getImmediate();return aB(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(cB,uB)}dB();var hB="app-check";var Cs=class{constructor(){return bs(hB)}};var fB=["localhost","0.0.0.0","127.0.0.1"],jre=typeof window<"u"&&fB.includes(window.location.hostname);function rR(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var iR=rR,oR=new an("auth","Firebase",rR());var Yh=new Sn("@firebase/auth");function pB(n,...e){Yh.logLevel<=se.WARN&&Yh.warn(`Auth (${Jr}): ${n}`,...e)}function Gh(n,...e){Yh.logLevel<=se.ERROR&&Yh.error(`Auth (${Jr}): ${n}`,...e)}function Nn(n,...e){throw N_(n,...e)}function ro(n,...e){return N_(n,...e)}function sR(n,e,t){let r=Object.assign(Object.assign({},iR()),{[e]:t});return new an("auth","Firebase",r).create(e,{appName:n.name})}function dr(n){return sR(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function N_(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return oR.create(n,...e)}function K(n,e,...t){if(!n)throw N_(e,...t)}function ur(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Gh(e),new Error(e)}function ri(n,e){n||ur(e)}function u_(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function gB(){return $0()==="http:"||$0()==="https:"}function $0(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function mB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(gB()||c0()||"connection"in navigator)?navigator.onLine:!0}function yB(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var io=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,ri(t>e,"Short delay should be less than long delay!"),this.isMobile=s0()||u0()}get(){return mB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function M_(n,e){ri(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Jh=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var vB={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var _B=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],EB=new io(3e4,6e4);function ii(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function oi(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){return aR(n,i,()=>_(null,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=Vc(Object.assign({key:n.config.apiKey},h)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},l);return a0()||(y.referrerPolicy="no-referrer"),n.emulatorConfig&&Qr(n.emulatorConfig.host)&&(y.credentials="include"),Jh.fetch()(yield cR(n,n.config.apiHost,t,p),y)}))})}function aR(n,e,t){return _(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},vB),e);try{let i=new l_(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw qh(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw qh(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw qh(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw qh(n,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw sR(n,h,l);Nn(n,h)}}catch(i){if(i instanceof Ft)throw i;Nn(n,"network-request-failed",{message:String(i)})}})}function Zc(o,s,a,u){return _(this,arguments,function*(n,e,t,r,i={}){let l=yield oi(n,e,t,r,i);return"mfaPendingCredential"in l&&Nn(n,"multi-factor-auth-required",{_serverResponse:l}),l})}function cR(n,e,t,r){return _(this,null,function*(){let i=`${e}${t}?${r}`,o=n,s=o.config.emulator?M_(n.config,i):`${n.config.apiScheme}://${i}`;return _B.includes(t)&&(yield o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(s).toString():s})}function IB(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var l_=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ro(this.auth,"network-request-failed")),EB.get())})}};function qh(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=ro(n,e,r);return i.customData._tokenResponse=t,i}function H0(n){return n!==void 0&&n.enterprise!==void 0}var d_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return IB(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}};function wB(n,e){return _(this,null,function*(){return oi(n,"GET","/v2/recaptchaConfig",ii(n,e))})}function TB(n,e){return _(this,null,function*(){return oi(n,"POST","/v1/accounts:delete",e)})}function Zh(n,e){return _(this,null,function*(){return oi(n,"POST","/v1/accounts:lookup",e)})}function qc(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function P_(n,e=!1){return _(this,null,function*(){let t=Le(n),r=yield t.getIdToken(e),i=x_(r);K(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:qc(s_(i.auth_time)),issuedAtTime:qc(s_(i.iat)),expirationTime:qc(s_(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function s_(n){return Number(n)*1e3}function x_(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Gh("JWT malformed, contained fewer than 3 sections"),null;try{let i=Lh(t);return i?JSON.parse(i):(Gh("Failed to decode base64 JWT payload"),null)}catch(i){return Gh("Caught error parsing JWT payload as JSON",i?.toString()),null}}function z0(n){let e=x_(n);return K(e,"internal-error"),K(typeof e.exp<"u","internal-error"),K(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Wc(n,e,t=!1){return _(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof Ft&&DB(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function DB({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var h_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>_(this,null,function*(){yield this.iteration()}),t)}iteration(){return _(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Kc=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=qc(this.lastLoginAt),this.creationTime=qc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Xh(n){return _(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Wc(n,Zh(t,{idToken:r}));K(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?uR(o.providerUserInfo):[],a=bB(n.providerData,s),u=n.isAnonymous,l=!(n.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Kc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(n,p)})}function k_(n){return _(this,null,function*(){let e=Le(n);yield Xh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bB(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function uR(n){return n.map(e=>{var{providerId:t}=e,r=rg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function CB(n,e){return _(this,null,function*(){let t=yield aR(n,{},()=>_(null,null,function*(){let r=Vc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=yield cR(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";let u={method:"POST",headers:a,body:r};return n.emulatorConfig&&Qr(n.emulatorConfig.host)&&(u.credentials="include"),Jh.fetch()(s,u)}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function SB(n,e){return _(this,null,function*(){return oi(n,"POST","/v2/accounts:revokeToken",ii(n,e))})}var Gc=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){K(e.idToken,"internal-error"),K(typeof e.idToken<"u","internal-error"),K(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):z0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){K(e.length!==0,"internal-error");let t=z0(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return _(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(K(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return _(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield CB(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(K(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(K(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(K(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ur("not implemented")}};function ti(n,e){K(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var ni=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=rg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Kc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return _(this,null,function*(){let t=yield Wc(this,this.stsTokenManager.getToken(this.auth,e));return K(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return P_(this,e)}reload(){return k_(this)}_assign(e){this!==e&&(K(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){K(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return _(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield Xh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return _(this,null,function*(){if(At(this.auth.app))return Promise.reject(dr(this.auth));let e=yield this.getIdToken();return yield Wc(this,TB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,l,h;let p=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,C=(s=t.photoURL)!==null&&s!==void 0?s:void 0,N=(a=t.tenantId)!==null&&a!==void 0?a:void 0,R=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,k=(l=t.createdAt)!==null&&l!==void 0?l:void 0,W=(h=t.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:B,emailVerified:pe,isAnonymous:Xe,providerData:ge,stsTokenManager:T}=t;K(B&&T,e,"internal-error");let v=Gc.fromJSON(this.name,T);K(typeof B=="string",e,"internal-error"),ti(p,e.name),ti(g,e.name),K(typeof pe=="boolean",e,"internal-error"),K(typeof Xe=="boolean",e,"internal-error"),ti(y,e.name),ti(C,e.name),ti(N,e.name),ti(R,e.name),ti(k,e.name),ti(W,e.name);let I=new n({uid:B,auth:e,email:g,emailVerified:pe,displayName:p,isAnonymous:Xe,photoURL:C,phoneNumber:y,tenantId:N,stsTokenManager:v,createdAt:k,lastLoginAt:W});return ge&&Array.isArray(ge)&&(I.providerData=ge.map(w=>Object.assign({},w))),R&&(I._redirectEventId=R),I}static _fromIdTokenResponse(e,t,r=!1){return _(this,null,function*(){let i=new Gc;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Xh(o),o})}static _fromGetAccountInfoResponse(e,t,r){return _(this,null,function*(){let i=t.users[0];K(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?uR(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Gc;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Kc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var q0=new Map;function lr(n){ri(n instanceof Function,"Expected a class definition");let e=q0.get(n);return e?(ri(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,q0.set(n,e),e)}var AB=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return _(this,null,function*(){return!0})}_set(t,r){return _(this,null,function*(){this.storage[t]=r})}_get(t){return _(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return _(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),f_=AB;function Wh(n,e,t){return`firebase:${n}:${e}:${t}`}var ef=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wh(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wh("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return _(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){let t=yield Zh(this.auth,{idToken:e}).catch(()=>{});return t?ni._fromGetAccountInfoResponse(this.auth,t,e):null}return ni._fromJSON(this.auth,e)})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return _(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return _(this,null,function*(){if(!t.length)return new n(lr(f_),e,r);let i=(yield Promise.all(t.map(l=>_(null,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||lr(f_),s=Wh(r,e.config.apiKey,e.name),a=null;for(let l of t)try{let h=yield l._get(s);if(h){let p;if(typeof h=="string"){let g=yield Zh(e,{idToken:h}).catch(()=>{});if(!g)break;p=yield ni._fromGetAccountInfoResponse(e,g,h)}else p=ni._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(l=>_(null,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new n(o,e,r))})}};function G0(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fR(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(lR(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(gR(e))return"Blackberry";if(mR(e))return"Webos";if(dR(e))return"Safari";if((e.includes("chrome/")||hR(e))&&!e.includes("edge/"))return"Chrome";if(pR(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function lR(n=Ye()){return/firefox\//i.test(n)}function dR(n=Ye()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hR(n=Ye()){return/crios\//i.test(n)}function fR(n=Ye()){return/iemobile/i.test(n)}function pR(n=Ye()){return/android/i.test(n)}function gR(n=Ye()){return/blackberry/i.test(n)}function mR(n=Ye()){return/webos/i.test(n)}function O_(n=Ye()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function RB(n=Ye()){var e;return O_(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function NB(){return l0()&&document.documentMode===10}function yR(n=Ye()){return O_(n)||pR(n)||mR(n)||gR(n)||/windows phone/i.test(n)||fR(n)}function vR(n,e=[]){let t;switch(n){case"Browser":t=G0(Ye());break;case"Worker":t=`${G0(Ye())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jr}/${r}`}var p_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return _(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function MB(t){return _(this,arguments,function*(n,e={}){return oi(n,"GET","/v2/passwordPolicy",ii(n,e))})}var PB=6,g_=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:PB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var m_=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tf(this),this.idTokenSubscription=new tf(this),this.beforeStateQueue=new p_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=oR,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=lr(t)),this._initializationPromise=this.queue(()=>_(this,null,function*(){var r,i,o;if(!this._deleted&&(this.persistenceManager=yield ef.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return _(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return _(this,null,function*(){try{let t=yield Zh(this,{idToken:e}),r=yield ni._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return _(this,null,function*(){var t;if(At(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return K(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return _(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return _(this,null,function*(){try{yield Xh(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=yB()}_delete(){return _(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return _(this,null,function*(){if(At(this.app))return Promise.reject(dr(this));let t=e?Le(e):null;return t&&K(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return _(this,null,function*(){if(!this._deleted)return e&&K(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>_(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return _(this,null,function*(){return At(this.app)?Promise.reject(dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return At(this.app)?Promise.reject(dr(this)):this.queue(()=>_(this,null,function*(){yield this.assertedPersistence.setPersistence(lr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return _(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return _(this,null,function*(){let e=yield MB(this),t=new g_(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new an("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return _(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield SB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return _(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return _(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&lr(e)||this._popupRedirectResolver;K(t,this,"argument-error"),this.redirectPersistenceManager=yield ef.create(this,[lr(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return _(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>_(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return _(this,null,function*(){if(e===this.currentUser)return this.queue(()=>_(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(K(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return _(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return K(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return _(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return _(this,null,function*(){var e;if(At(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&pB(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function so(n){return Le(n)}var tf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=p0(t=>this.observer=t)}get next(){return K(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var uf={loadJS(){return _(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xB(n){uf=n}function _R(n){return uf.loadJS(n)}function kB(){return uf.recaptchaEnterpriseScript}function OB(){return uf.gapiScript}function ER(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var y_=class{constructor(){this.enterprise=new v_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}},v_=class{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}};var LB="recaptcha-enterprise",IR="NO_RECAPTCHA",__=class{constructor(e){this.type=LB,this.auth=so(e)}verify(e="verify",t=!1){return _(this,null,function*(){function r(o){return _(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>_(null,null,function*(){wB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new d_(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;H0(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(IR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new y_().execute("siteKey",{action:"verify"}):new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&H0(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=kB();u.length!==0&&(u+=a),_R(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function zc(n,e,t,r=!1,i=!1){return _(this,null,function*(){let o=new __(n),s;if(i)s=IR;else try{s=yield o.verify(t)}catch{s=yield o.verify(t,!0)}let a=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){let u=a.phoneEnrollmentInfo.phoneNumber,l=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:u,recaptchaToken:l,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){let u=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:u,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a})}function E_(n,e,t,r,i){return _(this,null,function*(){var o,s;if(i==="EMAIL_PASSWORD_PROVIDER")if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let a=yield zc(n,e,t,t==="getOobCode");return r(n,a)}else return r(n,e).catch(a=>_(null,null,function*(){if(a.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let u=yield zc(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(a)}));else if(i==="PHONE_PROVIDER")if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("PHONE_PROVIDER")){let a=yield zc(n,e,t);return r(n,a).catch(u=>_(null,null,function*(){var l;if(((l=n._getRecaptchaConfig())===null||l===void 0?void 0:l.getProviderEnforcementState("PHONE_PROVIDER"))==="AUDIT"&&(u.code==="auth/missing-recaptcha-token"||u.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${t} flow.`);let h=yield zc(n,e,t,!1,!0);return r(n,h)}return Promise.reject(u)}))}else{let a=yield zc(n,e,t,!1,!0);return r(n,a)}else return Promise.reject(i+" provider is not supported.")})}function L_(n,e){let t=Ts(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Cn(o,e??{}))return i;Nn(i,"already-initialized")}return t.initialize({options:e})}function FB(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(lr);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function F_(n,e,t){let r=so(n);K(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=wR(e),{host:s,port:a}=VB(e),u=a===null?"":`:${a}`,l={url:`${o}//${s}${u}/`},h=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){K(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),K(Cn(l,r.config.emulator)&&Cn(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=l,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Qr(s)?(Vh(`${o}//${s}${u}`),jh("Auth",!0)):i||jB()}function wR(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function VB(n){let e=wR(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:W0(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:W0(s)}}}function W0(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function jB(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Qc=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,t){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}};function UB(n,e){return _(this,null,function*(){return oi(n,"POST","/v1/accounts:signUp",e)})}function BB(n,e){return _(this,null,function*(){return Zc(n,"POST","/v1/accounts:signInWithPassword",ii(n,e))})}function $B(n,e){return _(this,null,function*(){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))})}function HB(n,e){return _(this,null,function*(){return Zc(n,"POST","/v1/accounts:signInWithEmailLink",ii(n,e))})}var Yc=class n extends Qc{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return _(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,t,"signInWithPassword",BB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return $B(e,{email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_linkToIdToken(e,t){return _(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E_(e,r,"signUpPassword",UB,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return HB(e,{idToken:t,email:this._email,oobCode:this._password});default:Nn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function a_(n,e){return _(this,null,function*(){return Zc(n,"POST","/v1/accounts:signInWithIdp",ii(n,e))})}function zB(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qB(n){let e=Is(ws(n)).link,t=e?Is(ws(e)).deep_link_id:null,r=Is(ws(n)).deep_link_id;return(r?Is(ws(r)).link:null)||r||t||e||n}var nf=class n{constructor(e){var t,r,i,o,s,a;let u=Is(ws(e)),l=(t=u.apiKey)!==null&&t!==void 0?t:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=zB((i=u.mode)!==null&&i!==void 0?i:null);K(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.lang)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=qB(e);try{return new n(t)}catch{return null}}};var TR=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Yc._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=nf.parseLink(r);return K(i,"argument-error"),Yc._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),rf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var I_=class extends rf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function GB(n,e){return _(this,null,function*(){return Zc(n,"POST","/v1/accounts:signUp",ii(n,e))})}var Ss=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return _(this,null,function*(){let o=yield ni._fromIdTokenResponse(e,r,i),s=K0(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return _(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=K0(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function K0(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var w_=class n extends Ft{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function DR(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?w_._fromErrorAndOperation(n,o,e,r):o})}function WB(n,e,t=!1){return _(this,null,function*(){let r=yield Wc(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ss._forOperation(n,"link",r)})}function KB(n,e,t=!1){return _(this,null,function*(){let{auth:r}=n;if(At(r.app))return Promise.reject(dr(r));let i="reauthenticate";try{let o=yield Wc(n,DR(r,i,e,n),t);K(o.idToken,r,"internal-error");let s=x_(o.idToken);K(s,r,"internal-error");let{sub:a}=s;return K(n.uid===a,r,"user-mismatch"),Ss._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&Nn(r,"user-mismatch"),o}})}function bR(n,e,t=!1){return _(this,null,function*(){if(At(n.app))return Promise.reject(dr(n));let r="signIn",i=yield DR(n,r,e),o=yield Ss._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function V_(n,e){return _(this,null,function*(){return bR(so(n),e)})}function CR(n){return _(this,null,function*(){let e=so(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function j_(n,e,t){return _(this,null,function*(){if(At(n.app))return Promise.reject(dr(n));let r=so(n),s=yield E_(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",GB,"EMAIL_PASSWORD_PROVIDER").catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&CR(n),u}),a=yield Ss._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function U_(n,e,t){return At(n.app)?Promise.reject(dr(n)):V_(Le(n),TR.credential(e,t)).catch(r=>_(null,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&CR(n),r}))}function B_(n,e,t,r){return Le(n).onIdTokenChanged(e,t,r)}function $_(n,e,t){return Le(n).beforeAuthStateChanged(e,t)}function H_(n,e,t,r){return Le(n).onAuthStateChanged(e,t,r)}function z_(n){return Le(n).signOut()}var of="__sak";var sf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(of,"1"),this.storage.removeItem(of),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var QB=1e3,YB=10,JB=(()=>{class n extends sf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yR(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);NB()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,YB):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},QB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return _(this,null,function*(){yield Tr(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return _(this,null,function*(){let r=yield Tr(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return _(this,null,function*(){yield Tr(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),SR=JB;var ZB=(()=>{class n extends sf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),q_=ZB;function XB(n){return Promise.all(n.map(e=>_(null,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var e$=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return _(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>_(this,null,function*(){return h(r.origin,s)})),l=yield XB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function AR(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var T_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return _(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=AR("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let g=p;if(g.data.eventId===l)switch(g.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(g.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Rn(){return window}function t$(n){Rn().location.href=n}function RR(){return typeof Rn().WorkerGlobalScope<"u"&&typeof Rn().importScripts=="function"}function n$(){return _(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function r$(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function i$(){return RR()?self:null}var NR="firebaseLocalStorageDb",o$=1,af="firebaseLocalStorage",MR="fbase_key",oo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function lf(n,e){return n.transaction([af],e?"readwrite":"readonly").objectStore(af)}function s$(){let n=indexedDB.deleteDatabase(NR);return new oo(n).toPromise()}function D_(){let n=indexedDB.open(NR,o$);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(af,{keyPath:MR})}catch(i){t(i)}}),n.addEventListener("success",()=>_(null,null,function*(){let r=n.result;r.objectStoreNames.contains(af)?e(r):(r.close(),yield s$(),e(yield D_()))}))})}function Q0(n,e,t){return _(this,null,function*(){let r=lf(n,!0).put({[MR]:e,value:t});return new oo(r).toPromise()})}function a$(n,e){return _(this,null,function*(){let t=lf(n,!1).get(e),r=yield new oo(t).toPromise();return r===void 0?null:r.value})}function Y0(n,e){let t=lf(n,!0).delete(e);return new oo(t).toPromise()}var c$=800,u$=3,l$=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return _(this,null,function*(){return this.db?this.db:(this.db=yield D_(),this.db)})}_withRetries(t){return _(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>u$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return _(this,null,function*(){return RR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return _(this,null,function*(){this.receiver=e$._getInstance(i$()),this.receiver._subscribe("keyChanged",(t,r)=>_(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>_(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return _(this,null,function*(){var t,r;if(this.activeServiceWorker=yield n$(),!this.activeServiceWorker)return;this.sender=new T_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return _(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||r$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return _(this,null,function*(){try{if(!indexedDB)return!1;let t=yield D_();return yield Q0(t,of,"1"),yield Y0(t,of),!0}catch{}return!1})}_withPendingWrite(t){return _(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(i=>Q0(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return _(this,null,function*(){let r=yield this._withRetries(i=>a$(i,t));return this.localCache[t]=r,r})}_remove(t){return _(this,null,function*(){return this._withPendingWrite(()=>_(this,null,function*(){return yield this._withRetries(r=>Y0(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return _(this,null,function*(){let t=yield this._withRetries(o=>{let s=lf(o,!1).getAll();return new oo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>_(this,null,function*(){return this._poll()}),c$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),PR=l$;var Wre=ER("rcb"),Kre=new io(3e4,6e4);function d$(n,e){return e?lr(e):(K(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Jc=class extends Qc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return a_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return a_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return a_(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function h$(n){return bR(n.auth,new Jc(n),n.bypassAuthState)}function f$(n){let{auth:e,user:t}=n;return K(t,e,"internal-error"),KB(t,new Jc(n),n.bypassAuthState)}function p$(n){return _(this,null,function*(){let{auth:e,user:t}=n;return K(t,e,"internal-error"),WB(t,new Jc(n),n.bypassAuthState)})}var b_=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>_(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return _(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return h$;case"linkViaPopup":case"linkViaRedirect":return p$;case"reauthViaPopup":case"reauthViaRedirect":return f$;default:Nn(this.auth,"internal-error")}}resolve(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ri(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Qre=new io(2e3,1e4);var g$="pendingRedirect",Kh=new Map,C_=class n extends b_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return _(this,null,function*(){let e=Kh.get(this.auth._key());if(!e){try{let r=(yield m$(this.resolver,this.auth))?yield Tr(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Kh.set(this.auth._key(),e)}return this.bypassAuthState||Kh.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return _(this,null,function*(){if(e.type==="signInViaRedirect")return Tr(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,Tr(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return _(this,null,function*(){})}cleanUp(){}};function m$(n,e){return _(this,null,function*(){let t=_$(e),r=v$(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function y$(n,e){Kh.set(n._key(),e)}function v$(n){return lr(n._redirectPersistence)}function _$(n){return Wh(g$,n.config.apiKey,n.name)}function E$(n,e,t=!1){return _(this,null,function*(){if(At(n.app))return Promise.reject(dr(n));let r=so(n),i=d$(r,e),s=yield new C_(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var I$=10*60*1e3,S_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!w$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!xR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(ro(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=I$&&this.cachedEventUids.clear(),this.cachedEventUids.has(J0(e))}saveEventToCache(e){this.cachedEventUids.add(J0(e)),this.lastProcessedEventTime=Date.now()}};function J0(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function xR({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function w$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xR(n);default:return!1}}function T$(t){return _(this,arguments,function*(n,e={}){return oi(n,"GET","/v1/projects",e)})}var D$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,b$=/^https?/;function C$(n){return _(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield T$(n);for(let t of e)try{if(S$(t))return}catch{}Nn(n,"unauthorized-domain")})}function S$(n){let e=u_(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!b$.test(t))return!1;if(D$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var A$=new io(3e4,6e4);function Z0(){let n=Rn().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function R$(n){return new Promise((e,t)=>{var r,i,o;function s(){Z0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Z0(),t(ro(n,"network-request-failed"))},timeout:A$.get()})}if(!((i=(r=Rn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Rn().gapi)===null||o===void 0)&&o.load)s();else{let a=ER("iframefcb");return Rn()[a]=()=>{gapi.load?s():t(ro(n,"network-request-failed"))},_R(`${OB()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Qh=null,e})}var Qh=null;function N$(n){return Qh=Qh||R$(n),Qh}var M$=new io(5e3,15e3),P$="__/auth/iframe",x$="emulator/auth/iframe",k$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},O$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function L$(n){let e=n.config;K(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?M_(e,x$):`https://${n.config.authDomain}/${P$}`,r={apiKey:e.apiKey,appName:n.name,v:Jr},i=O$.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Vc(r).slice(1)}`}function F$(n){return _(this,null,function*(){let e=yield N$(n),t=Rn().gapi;return K(t,n,"internal-error"),e.open({where:document.body,url:L$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:k$,dontclear:!0},r=>new Promise((i,o)=>_(null,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=ro(n,"network-request-failed"),a=Rn().setTimeout(()=>{o(s)},M$.get());function u(){Rn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var V$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},j$=500,U$=600,B$="_blank",$$="http://localhost",cf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function H$(n,e,t,r=j$,i=U$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},V$),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ye().toLowerCase();t&&(a=hR(l)?B$:t),lR(l)&&(e=e||$$,u.scrollbars="yes");let h=Object.entries(u).reduce((g,[y,C])=>`${g}${y}=${C},`,"");if(RB(l)&&a!=="_self")return z$(e||"",a),new cf(null);let p=window.open(e||"",a,h);K(p,n,"popup-blocked");try{p.focus()}catch{}return new cf(p)}function z$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var q$="__/auth/handler",G$="emulator/auth/handler",W$=encodeURIComponent("fac");function X0(n,e,t,r,i,o){return _(this,null,function*(){K(n.config.authDomain,n,"auth-domain-config-required"),K(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jr,eventId:i};if(e instanceof rf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",f0(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof I_){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield n._getAppCheckToken(),l=u?`#${W$}=${encodeURIComponent(u)}`:"";return`${K$(n)}?${Vc(a).slice(1)}${l}`})}function K$({config:n}){return n.emulator?M_(n,G$):`https://${n.authDomain}/${q$}`}var c_="webStorageSupport",A_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=q_,this._completeRedirectFn=E$,this._overrideRedirectResult=y$}_openPopup(e,t,r,i){return _(this,null,function*(){var o;ri((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield X0(e,t,r,u_(),i);return H$(e,s,AR())})}_openRedirect(e,t,r,i){return _(this,null,function*(){yield this._originValidation(e);let o=yield X0(e,t,r,u_(),i);return t$(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ri(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return _(this,null,function*(){let t=yield F$(e),r=new S_(e);return t.register("authEvent",i=>(K(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(c_,{type:c_},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[c_];s!==void 0&&t(!!s),Nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=C$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yR()||dR()||O_()}},kR=A_;var eR="@firebase/auth",tR="1.10.7";var R_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return _(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){K(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Q$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Y$(n){cn(new It("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;K(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vR(n)},l=new m_(r,i,o,u);return FB(l,t),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),cn(new It("auth-internal",e=>{let t=so(e.getProvider("auth").getImmediate());return(r=>new R_(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(eR,tR,Q$(n)),Me(eR,tR,"esm2017")}var J$=5*60,Z$=Fv("authIdTokenMaxAge")||J$,nR=null,X$=n=>e=>_(null,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Z$)return;let i=t?.token;nR!==i&&(nR=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function G_(n=eo()){let e=Ts(n,"auth");if(e.isInitialized())return e.getImmediate();let t=L_(n,{popupRedirectResolver:kR,persistence:[PR,SR,q_]}),r=Fv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=X$(o.toString());$_(t,s,()=>s(t.currentUser)),B_(t,a=>s(a))}}let i=Ov("auth");return i&&F_(t,`http://${i}`),t}function eH(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}xB({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=ro("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",eH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Y$("Browser");var OR="auth",Xc=class{constructor(e){return e}},eu=class{constructor(){return bs(OR)}};var W_=new F("angularfire2.auth-instances");function $H(n,e){let t=Bc(OR,n,e);return t&&new Xc(t)}function HH(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Xc(r)}}var zH={provide:eu,deps:[[new St,W_]]},qH={provide:Xc,useFactory:$H,deps:[[new St,W_],cr]};function Oie(n,...e){return Me("angularfire",Zr.full,"auth"),Pt([qH,zH,{provide:W_,useFactory:HH(n),multi:!0,deps:[me,Oe,Xr,no,[new St,Cs],...e]}])}var Lie=je(j_,!0,2);var Fie=je(G_,!0);var Vie=je(H_,!0);var jie=je(U_,!0,2);var Uie=je(z_,!0,2);var LR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},FR={};var hr,K_;(function(){var n;function e(T,v){function I(){}I.prototype=v.prototype,T.D=v.prototype,T.prototype=new I,T.prototype.constructor=T,T.C=function(w,D,S){for(var E=Array(arguments.length-2),Un=2;Un<arguments.length;Un++)E[Un-2]=arguments[Un];return v.prototype[D].apply(w,E)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,I){I||(I=0);var w=Array(16);if(typeof v=="string")for(var D=0;16>D;++D)w[D]=v.charCodeAt(I++)|v.charCodeAt(I++)<<8|v.charCodeAt(I++)<<16|v.charCodeAt(I++)<<24;else for(D=0;16>D;++D)w[D]=v[I++]|v[I++]<<8|v[I++]<<16|v[I++]<<24;v=T.g[0],I=T.g[1],D=T.g[2];var S=T.g[3],E=v+(S^I&(D^S))+w[0]+3614090360&4294967295;v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[1]+3905402710&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[2]+606105819&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[3]+3250441966&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[4]+4118548399&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[5]+1200080426&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[6]+2821735955&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[7]+4249261313&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[8]+1770035416&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[9]+2336552879&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[10]+4294925233&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[11]+2304563134&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(S^I&(D^S))+w[12]+1804603682&4294967295,v=I+(E<<7&4294967295|E>>>25),E=S+(D^v&(I^D))+w[13]+4254626195&4294967295,S=v+(E<<12&4294967295|E>>>20),E=D+(I^S&(v^I))+w[14]+2792965006&4294967295,D=S+(E<<17&4294967295|E>>>15),E=I+(v^D&(S^v))+w[15]+1236535329&4294967295,I=D+(E<<22&4294967295|E>>>10),E=v+(D^S&(I^D))+w[1]+4129170786&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[6]+3225465664&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[11]+643717713&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[0]+3921069994&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[5]+3593408605&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[10]+38016083&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[15]+3634488961&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[4]+3889429448&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[9]+568446438&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[14]+3275163606&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[3]+4107603335&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[8]+1163531501&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(D^S&(I^D))+w[13]+2850285829&4294967295,v=I+(E<<5&4294967295|E>>>27),E=S+(I^D&(v^I))+w[2]+4243563512&4294967295,S=v+(E<<9&4294967295|E>>>23),E=D+(v^I&(S^v))+w[7]+1735328473&4294967295,D=S+(E<<14&4294967295|E>>>18),E=I+(S^v&(D^S))+w[12]+2368359562&4294967295,I=D+(E<<20&4294967295|E>>>12),E=v+(I^D^S)+w[5]+4294588738&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[8]+2272392833&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[11]+1839030562&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[14]+4259657740&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[1]+2763975236&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[4]+1272893353&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[7]+4139469664&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[10]+3200236656&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[13]+681279174&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[0]+3936430074&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[3]+3572445317&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[6]+76029189&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(I^D^S)+w[9]+3654602809&4294967295,v=I+(E<<4&4294967295|E>>>28),E=S+(v^I^D)+w[12]+3873151461&4294967295,S=v+(E<<11&4294967295|E>>>21),E=D+(S^v^I)+w[15]+530742520&4294967295,D=S+(E<<16&4294967295|E>>>16),E=I+(D^S^v)+w[2]+3299628645&4294967295,I=D+(E<<23&4294967295|E>>>9),E=v+(D^(I|~S))+w[0]+4096336452&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[7]+1126891415&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[14]+2878612391&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[5]+4237533241&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[12]+1700485571&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[3]+2399980690&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[10]+4293915773&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[1]+2240044497&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[8]+1873313359&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[15]+4264355552&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[6]+2734768916&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[13]+1309151649&4294967295,I=D+(E<<21&4294967295|E>>>11),E=v+(D^(I|~S))+w[4]+4149444226&4294967295,v=I+(E<<6&4294967295|E>>>26),E=S+(I^(v|~D))+w[11]+3174756917&4294967295,S=v+(E<<10&4294967295|E>>>22),E=D+(v^(S|~I))+w[2]+718787259&4294967295,D=S+(E<<15&4294967295|E>>>17),E=I+(S^(D|~v))+w[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(D+(E<<21&4294967295|E>>>11))&4294967295,T.g[2]=T.g[2]+D&4294967295,T.g[3]=T.g[3]+S&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var I=v-this.blockSize,w=this.B,D=this.h,S=0;S<v;){if(D==0)for(;S<=I;)i(this,T,S),S+=this.blockSize;if(typeof T=="string"){for(;S<v;)if(w[D++]=T.charCodeAt(S++),D==this.blockSize){i(this,w),D=0;break}}else for(;S<v;)if(w[D++]=T[S++],D==this.blockSize){i(this,w),D=0;break}}this.h=D,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var I=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=I&255,I/=256;for(this.u(T),T=Array(16),v=I=0;4>v;++v)for(var w=0;32>w;w+=8)T[I++]=this.g[v]>>>w&255;return T};function o(T,v){var I=a;return Object.prototype.hasOwnProperty.call(I,T)?I[T]:I[T]=v(T)}function s(T,v){this.h=v;for(var I=[],w=!0,D=T.length-1;0<=D;D--){var S=T[D]|0;w&&S==v||(I[D]=S,w=!1)}this.g=I}var a={};function u(T){return-128<=T&&128>T?o(T,function(v){return new s([v|0],0>v?-1:0)}):new s([T|0],0>T?-1:0)}function l(T){if(isNaN(T)||!isFinite(T))return p;if(0>T)return R(l(-T));for(var v=[],I=1,w=0;T>=I;w++)v[w]=T/I|0,I*=4294967296;return new s(v,0)}function h(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return R(h(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=l(Math.pow(v,8)),w=p,D=0;D<T.length;D+=8){var S=Math.min(8,T.length-D),E=parseInt(T.substring(D,D+S),v);8>S?(S=l(Math.pow(v,S)),w=w.j(S).add(l(E))):(w=w.j(I),w=w.add(l(E)))}return w}var p=u(0),g=u(1),y=u(16777216);n=s.prototype,n.m=function(){if(N(this))return-R(this).m();for(var T=0,v=1,I=0;I<this.g.length;I++){var w=this.i(I);T+=(0<=w?w:4294967296+w)*v,v*=4294967296}return T},n.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(C(this))return"0";if(N(this))return"-"+R(this).toString(T);for(var v=l(Math.pow(T,6)),I=this,w="";;){var D=pe(I,v).g;I=k(I,D.j(v));var S=((0<I.g.length?I.g[0]:I.h)>>>0).toString(T);if(I=D,C(I))return S+w;for(;6>S.length;)S="0"+S;w=S+w}},n.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function C(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function N(T){return T.h==-1}n.l=function(T){return T=k(this,T),N(T)?-1:C(T)?0:1};function R(T){for(var v=T.g.length,I=[],w=0;w<v;w++)I[w]=~T.g[w];return new s(I,~T.h).add(g)}n.abs=function(){return N(this)?R(this):this},n.add=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0,D=0;D<=v;D++){var S=w+(this.i(D)&65535)+(T.i(D)&65535),E=(S>>>16)+(this.i(D)>>>16)+(T.i(D)>>>16);w=E>>>16,S&=65535,E&=65535,I[D]=E<<16|S}return new s(I,I[I.length-1]&-2147483648?-1:0)};function k(T,v){return T.add(R(v))}n.j=function(T){if(C(this)||C(T))return p;if(N(this))return N(T)?R(this).j(R(T)):R(R(this).j(T));if(N(T))return R(this.j(R(T)));if(0>this.l(y)&&0>T.l(y))return l(this.m()*T.m());for(var v=this.g.length+T.g.length,I=[],w=0;w<2*v;w++)I[w]=0;for(w=0;w<this.g.length;w++)for(var D=0;D<T.g.length;D++){var S=this.i(w)>>>16,E=this.i(w)&65535,Un=T.i(D)>>>16,ta=T.i(D)&65535;I[2*w+2*D]+=E*ta,W(I,2*w+2*D),I[2*w+2*D+1]+=S*ta,W(I,2*w+2*D+1),I[2*w+2*D+1]+=E*Un,W(I,2*w+2*D+1),I[2*w+2*D+2]+=S*Un,W(I,2*w+2*D+2)}for(w=0;w<v;w++)I[w]=I[2*w+1]<<16|I[2*w];for(w=v;w<2*v;w++)I[w]=0;return new s(I,0)};function W(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function B(T,v){this.g=T,this.h=v}function pe(T,v){if(C(v))throw Error("division by zero");if(C(T))return new B(p,p);if(N(T))return v=pe(R(T),v),new B(R(v.g),R(v.h));if(N(v))return v=pe(T,R(v)),new B(R(v.g),v.h);if(30<T.g.length){if(N(T)||N(v))throw Error("slowDivide_ only works with positive integers.");for(var I=g,w=v;0>=w.l(T);)I=Xe(I),w=Xe(w);var D=ge(I,1),S=ge(w,1);for(w=ge(w,2),I=ge(I,2);!C(w);){var E=S.add(w);0>=E.l(T)&&(D=D.add(I),S=E),w=ge(w,1),I=ge(I,1)}return v=k(T,D.j(v)),new B(D,v)}for(D=p;0<=T.l(v);){for(I=Math.max(1,Math.floor(T.m()/v.m())),w=Math.ceil(Math.log(I)/Math.LN2),w=48>=w?1:Math.pow(2,w-48),S=l(I),E=S.j(v);N(E)||0<E.l(T);)I-=w,S=l(I),E=S.j(v);C(S)&&(S=g),D=D.add(S),T=k(T,E)}return new B(D,T)}n.A=function(T){return pe(this,T).h},n.and=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)&T.i(w);return new s(I,this.h&T.h)},n.or=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)|T.i(w);return new s(I,this.h|T.h)},n.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),I=[],w=0;w<v;w++)I[w]=this.i(w)^T.i(w);return new s(I,this.h^T.h)};function Xe(T){for(var v=T.g.length+1,I=[],w=0;w<v;w++)I[w]=T.i(w)<<1|T.i(w-1)>>>31;return new s(I,T.h)}function ge(T,v){var I=v>>5;v%=32;for(var w=T.g.length-I,D=[],S=0;S<w;S++)D[S]=0<v?T.i(S+I)>>>v|T.i(S+I+1)<<32-v:T.i(S+I);return new s(D,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,K_=FR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,hr=FR.Integer=s}).apply(typeof LR<"u"?LR:typeof self<"u"?self:typeof window<"u"?window:{});var df=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={};var Q_,GH,As,Y_,tu,hf,J_,Z_,X_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof df=="object"&&df];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=t(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var m=0;m<c.length-1;m++){var b=c[m];if(!(b in f))break e;f=f[b]}c=c[c.length-1],m=f[c],d=d(m),d!=m&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,m=!1,b={next:function(){if(!m&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return m=!0,{done:!0,value:void 0}}};return b[Symbol.iterator]=function(){return b},b}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var b=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(b,m),c.apply(d,b)}}return function(){return c.apply(d,arguments)}}function g(c,d,f){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function y(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var m=f.slice();return m.push.apply(m,arguments),c.apply(this,m)}}function C(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(m,b,A){for(var O=Array(arguments.length-2),Ee=2;Ee<arguments.length;Ee++)O[Ee-2]=arguments[Ee];return d.prototype[b].apply(m,O)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let m=0;m<d;m++)f[m]=c[m];return f}return[]}function R(c,d){for(let f=1;f<arguments.length;f++){let m=arguments[f];if(u(m)){let b=c.length||0,A=m.length||0;c.length=b+A;for(let O=0;O<A;O++)c[b+O]=m[O]}else c.push(m)}}class k{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(c){return/^[\s\xa0]*$/.test(c)}function B(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function pe(c){return pe[" "](c),c}pe[" "]=function(){};var Xe=B().indexOf("Gecko")!=-1&&!(B().toLowerCase().indexOf("webkit")!=-1&&B().indexOf("Edge")==-1)&&!(B().indexOf("Trident")!=-1||B().indexOf("MSIE")!=-1)&&B().indexOf("Edge")==-1;function ge(c,d,f){for(let m in c)d.call(f,c[m],m,c)}function T(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function v(c){let d={};for(let f in c)d[f]=c[f];return d}let I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(c,d){let f,m;for(let b=1;b<arguments.length;b++){m=arguments[b];for(f in m)c[f]=m[f];for(let A=0;A<I.length;A++)f=I[A],Object.prototype.hasOwnProperty.call(m,f)&&(c[f]=m[f])}}function D(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function S(c){a.setTimeout(()=>{throw c},0)}function E(){var c=fp;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Un{constructor(){this.h=this.g=null}add(d,f){let m=ta.get();m.set(d,f),this.h?this.h.next=m:this.g=m,this.h=m}}var ta=new k(()=>new fP,c=>c.reset());class fP{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let na,ra=!1,fp=new Un,yw=()=>{let c=a.Promise.resolve(void 0);na=()=>{c.then(pP)}};var pP=()=>{for(var c;c=E();){try{c.h.call(c.g)}catch(f){S(f)}var d=ta;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}ra=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ot(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}ot.prototype.h=function(){this.defaultPrevented=!0};var gP=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ia(c,d){if(ot.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,m=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Xe){e:{try{pe(d.nodeName);var b=!0;break e}catch{}b=!1}b||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:mP[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ia.aa.h.call(this)}}C(ia,ot);var mP={2:"touch",3:"pen",4:"mouse"};ia.prototype.h=function(){ia.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var oa="closure_listenable_"+(1e6*Math.random()|0),yP=0;function vP(c,d,f,m,b){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!m,this.ha=b,this.key=++yP,this.da=this.fa=!1}function Tu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Du(c){this.src=c,this.g={},this.h=0}Du.prototype.add=function(c,d,f,m,b){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var O=gp(c,d,m,b);return-1<O?(d=c[O],f||(d.fa=!1)):(d=new vP(d,this.src,A,!!m,b),d.fa=f,c.push(d)),d};function pp(c,d){var f=d.type;if(f in c.g){var m=c.g[f],b=Array.prototype.indexOf.call(m,d,void 0),A;(A=0<=b)&&Array.prototype.splice.call(m,b,1),A&&(Tu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function gp(c,d,f,m){for(var b=0;b<c.length;++b){var A=c[b];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==m)return b}return-1}var mp="closure_lm_"+(1e6*Math.random()|0),yp={};function vw(c,d,f,m,b){if(m&&m.once)return Ew(c,d,f,m,b);if(Array.isArray(d)){for(var A=0;A<d.length;A++)vw(c,d[A],f,m,b);return null}return f=Ip(f),c&&c[oa]?c.K(d,f,l(m)?!!m.capture:!!m,b):_w(c,d,f,!1,m,b)}function _w(c,d,f,m,b,A){if(!d)throw Error("Invalid event type");var O=l(b)?!!b.capture:!!b,Ee=_p(c);if(Ee||(c[mp]=Ee=new Du(c)),f=Ee.add(d,f,m,O,A),f.proxy)return f;if(m=_P(),f.proxy=m,m.src=c,m.listener=f,c.addEventListener)gP||(b=O),b===void 0&&(b=!1),c.addEventListener(d.toString(),m,b);else if(c.attachEvent)c.attachEvent(ww(d.toString()),m);else if(c.addListener&&c.removeListener)c.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return f}function _P(){function c(f){return d.call(c.src,c.listener,f)}let d=EP;return c}function Ew(c,d,f,m,b){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Ew(c,d[A],f,m,b);return null}return f=Ip(f),c&&c[oa]?c.L(d,f,l(m)?!!m.capture:!!m,b):_w(c,d,f,!0,m,b)}function Iw(c,d,f,m,b){if(Array.isArray(d))for(var A=0;A<d.length;A++)Iw(c,d[A],f,m,b);else m=l(m)?!!m.capture:!!m,f=Ip(f),c&&c[oa]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=gp(A,f,m,b),-1<f&&(Tu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=_p(c))&&(d=c.g[d.toString()],c=-1,d&&(c=gp(d,f,m,b)),(f=-1<c?d[c]:null)&&vp(f))}function vp(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[oa])pp(d.i,c);else{var f=c.type,m=c.proxy;d.removeEventListener?d.removeEventListener(f,m,c.capture):d.detachEvent?d.detachEvent(ww(f),m):d.addListener&&d.removeListener&&d.removeListener(m),(f=_p(d))?(pp(f,c),f.h==0&&(f.src=null,d[mp]=null)):Tu(c)}}}function ww(c){return c in yp?yp[c]:yp[c]="on"+c}function EP(c,d){if(c.da)c=!0;else{d=new ia(d,this);var f=c.listener,m=c.ha||c.src;c.fa&&vp(c),c=f.call(m,d)}return c}function _p(c){return c=c[mp],c instanceof Du?c:null}var Ep="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ip(c){return typeof c=="function"?c:(c[Ep]||(c[Ep]=function(d){return c.handleEvent(d)}),c[Ep])}function st(){_r.call(this),this.i=new Du(this),this.M=this,this.F=null}C(st,_r),st.prototype[oa]=!0,st.prototype.removeEventListener=function(c,d,f,m){Iw(this,c,d,f,m)};function pt(c,d){var f,m=c.F;if(m)for(f=[];m;m=m.F)f.push(m);if(c=c.M,m=d.type||d,typeof d=="string")d=new ot(d,c);else if(d instanceof ot)d.target=d.target||c;else{var b=d;d=new ot(m,c),w(d,b)}if(b=!0,f)for(var A=f.length-1;0<=A;A--){var O=d.g=f[A];b=bu(O,m,!0,d)&&b}if(O=d.g=c,b=bu(O,m,!0,d)&&b,b=bu(O,m,!1,d)&&b,f)for(A=0;A<f.length;A++)O=d.g=f[A],b=bu(O,m,!1,d)&&b}st.prototype.N=function(){if(st.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],m=0;m<f.length;m++)Tu(f[m]);delete c.g[d],c.h--}}this.F=null},st.prototype.K=function(c,d,f,m){return this.i.add(String(c),d,!1,f,m)},st.prototype.L=function(c,d,f,m){return this.i.add(String(c),d,!0,f,m)};function bu(c,d,f,m){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var b=!0,A=0;A<d.length;++A){var O=d[A];if(O&&!O.da&&O.capture==f){var Ee=O.listener,et=O.ha||O.src;O.fa&&pp(c.i,O),b=Ee.call(et,m)!==!1&&b}}return b&&!m.defaultPrevented}function Tw(c,d,f){if(typeof c=="function")f&&(c=g(c,f));else if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function Dw(c){c.g=Tw(()=>{c.g=null,c.i&&(c.i=!1,Dw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class IP extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Dw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sa(c){_r.call(this),this.h=c,this.g={}}C(sa,_r);var bw=[];function Cw(c){ge(c.g,function(d,f){this.g.hasOwnProperty(f)&&vp(d)},c),c.g={}}sa.prototype.N=function(){sa.aa.N.call(this),Cw(this)},sa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var wp=a.JSON.stringify,wP=a.JSON.parse,TP=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Tp(){}Tp.prototype.h=null;function Sw(c){return c.h||(c.h=c.i())}function Aw(){}var aa={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dp(){ot.call(this,"d")}C(Dp,ot);function bp(){ot.call(this,"c")}C(bp,ot);var di={},Rw=null;function Cu(){return Rw=Rw||new st}di.La="serverreachability";function Nw(c){ot.call(this,di.La,c)}C(Nw,ot);function ca(c){let d=Cu();pt(d,new Nw(d))}di.STAT_EVENT="statevent";function Mw(c,d){ot.call(this,di.STAT_EVENT,c),this.stat=d}C(Mw,ot);function gt(c){let d=Cu();pt(d,new Mw(d,c))}di.Ma="timingevent";function Pw(c,d){ot.call(this,di.Ma,c),this.size=d}C(Pw,ot);function ua(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function la(){this.g=!0}la.prototype.xa=function(){this.g=!1};function DP(c,d,f,m,b,A){c.info(function(){if(c.g)if(A)for(var O="",Ee=A.split("&"),et=0;et<Ee.length;et++){var he=Ee[et].split("=");if(1<he.length){var at=he[0];he=he[1];var ct=at.split("_");O=2<=ct.length&&ct[1]=="type"?O+(at+"="+he+"&"):O+(at+"=redacted&")}}else O=null;else O=A;return"XMLHTTP REQ ("+m+") [attempt "+b+"]: "+d+`
`+f+`
`+O})}function bP(c,d,f,m,b,A,O){c.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+b+"]: "+d+`
`+f+`
`+A+" "+O})}function vo(c,d,f,m){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+SP(c,f)+(m?" "+m:"")})}function CP(c,d){c.info(function(){return"TIMEOUT: "+d})}la.prototype.info=function(){};function SP(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var m=f[c];if(!(2>m.length)){var b=m[1];if(Array.isArray(b)&&!(1>b.length)){var A=b[0];if(A!="noop"&&A!="stop"&&A!="close")for(var O=1;O<b.length;O++)b[O]=""}}}}return wp(f)}catch{return d}}var Su={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Cp;function Au(){}C(Au,Tp),Au.prototype.g=function(){return new XMLHttpRequest},Au.prototype.i=function(){return{}},Cp=new Au;function Er(c,d,f,m){this.j=c,this.i=d,this.l=f,this.R=m||1,this.U=new sa(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kw}function kw(){this.i=null,this.g="",this.h=!1}var Ow={},Sp={};function Ap(c,d,f){c.L=1,c.v=Pu(Bn(d)),c.m=f,c.P=!0,Lw(c,null)}function Lw(c,d){c.F=Date.now(),Ru(c),c.A=Bn(c.v);var f=c.A,m=c.R;Array.isArray(m)||(m=[String(m)]),Yw(f.i,"t",m),c.C=0,f=c.j.J,c.h=new kw,c.g=pT(c.j,f?d:null,!c.m),0<c.O&&(c.M=new IP(g(c.Y,c,c.g),c.O)),d=c.U,f=c.g,m=c.ca;var b="readystatechange";Array.isArray(b)||(b&&(bw[0]=b.toString()),b=bw);for(var A=0;A<b.length;A++){var O=vw(f,b[A],m||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ca(),DP(c.i,c.u,c.A,c.l,c.R,c.m)}Er.prototype.ca=function(c){c=c.target;let d=this.M;d&&$n(c)==3?d.j():this.Y(c)},Er.prototype.Y=function(c){try{if(c==this.g)e:{let ct=$n(this.g);var d=this.g.Ba();let Io=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||rT(this.g)))){this.J||ct!=4||d==7||(d==8||0>=Io?ca(3):ca(2)),Rp(this);var f=this.g.Z();this.X=f;t:if(Fw(this)){var m=rT(this.g);c="";var b=m.length,A=$n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hi(this),da(this);var O="";break t}this.h.i=new a.TextDecoder}for(d=0;d<b;d++)this.h.h=!0,c+=this.h.i.decode(m[d],{stream:!(A&&d==b-1)});m.length=0,this.h.g+=c,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=f==200,bP(this.i,this.u,this.A,this.l,this.R,ct,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ee,et=this.g;if((Ee=et.g?et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ee)){var he=Ee;break t}}he=null}if(f=he)vo(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Np(this,f);else{this.o=!1,this.s=3,gt(12),hi(this),da(this);break e}}if(this.P){f=!0;let Kt;for(;!this.J&&this.C<O.length;)if(Kt=AP(this,O),Kt==Sp){ct==4&&(this.s=4,gt(14),f=!1),vo(this.i,this.l,null,"[Incomplete Response]");break}else if(Kt==Ow){this.s=4,gt(15),vo(this.i,this.l,O,"[Invalid Chunk]"),f=!1;break}else vo(this.i,this.l,Kt,null),Np(this,Kt);if(Fw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||O.length!=0||this.h.h||(this.s=1,gt(16),f=!1),this.o=this.o&&f,!f)vo(this.i,this.l,O,"[Invalid Chunked Response]"),hi(this),da(this);else if(0<O.length&&!this.W){this.W=!0;var at=this.j;at.g==this&&at.ba&&!at.M&&(at.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),Lp(at),at.M=!0,gt(11))}}else vo(this.i,this.l,O,null),Np(this,O);ct==4&&hi(this),this.o&&!this.J&&(ct==4?lT(this.j,this):(this.o=!1,Ru(this)))}else qP(this.g),f==400&&0<O.indexOf("Unknown SID")?(this.s=3,gt(12)):(this.s=0,gt(13)),hi(this),da(this)}}}catch{}finally{}};function Fw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function AP(c,d){var f=c.C,m=d.indexOf(`
`,f);return m==-1?Sp:(f=Number(d.substring(f,m)),isNaN(f)?Ow:(m+=1,m+f>d.length?Sp:(d=d.slice(m,m+f),c.C=m+f,d)))}Er.prototype.cancel=function(){this.J=!0,hi(this)};function Ru(c){c.S=Date.now()+c.I,Vw(c,c.I)}function Vw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=ua(g(c.ba,c),d)}function Rp(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Er.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(CP(this.i,this.A),this.L!=2&&(ca(),gt(17)),hi(this),this.s=2,da(this)):Vw(this,this.S-c)};function da(c){c.j.G==0||c.J||lT(c.j,c)}function hi(c){Rp(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Cw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function Np(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Mp(f.h,c))){if(!c.K&&Mp(f.h,c)&&f.G==3){try{var m=f.Da.g.parse(d)}catch{m=null}if(Array.isArray(m)&&m.length==3){var b=m;if(b[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)Fu(f),Ou(f);else break e;Op(f),gt(18)}}else f.za=b[1],0<f.za-f.T&&37500>b[2]&&f.F&&f.v==0&&!f.C&&(f.C=ua(g(f.Za,f),6e3));if(1>=Bw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else pi(f,11)}else if((c.K||f.g==c)&&Fu(f),!W(d))for(b=f.Da.g.parse(d),d=0;d<b.length;d++){let he=b[d];if(f.T=he[0],he=he[1],f.G==2)if(he[0]=="c"){f.K=he[1],f.ia=he[2];let at=he[3];at!=null&&(f.la=at,f.j.info("VER="+f.la));let ct=he[4];ct!=null&&(f.Aa=ct,f.j.info("SVER="+f.Aa));let Io=he[5];Io!=null&&typeof Io=="number"&&0<Io&&(m=1.5*Io,f.L=m,f.j.info("backChannelRequestTimeoutMs_="+m)),m=f;let Kt=c.g;if(Kt){let ju=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ju){var A=m.h;A.g||ju.indexOf("spdy")==-1&&ju.indexOf("quic")==-1&&ju.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Pp(A,A.h),A.h=null))}if(m.D){let Fp=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fp&&(m.ya=Fp,we(m.I,m.D,Fp))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),m=f;var O=c;if(m.qa=fT(m,m.J?m.ia:null,m.W),O.K){$w(m.h,O);var Ee=O,et=m.L;et&&(Ee.I=et),Ee.B&&(Rp(Ee),Ru(Ee)),m.g=O}else cT(m);0<f.i.length&&Lu(f)}else he[0]!="stop"&&he[0]!="close"||pi(f,7);else f.G==3&&(he[0]=="stop"||he[0]=="close"?he[0]=="stop"?pi(f,7):kp(f):he[0]!="noop"&&f.l&&f.l.ta(he),f.v=0)}}ca(4)}catch{}}var RP=class{constructor(c,d){this.g=c,this.map=d}};function jw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Uw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Bw(c){return c.h?1:c.g?c.g.size:0}function Mp(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Pp(c,d){c.g?c.g.add(d):c.h=d}function $w(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}jw.prototype.cancel=function(){if(this.i=Hw(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Hw(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function NP(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,m=0;m<f;m++)d.push(c[m]);return d}d=[],f=0;for(m in c)d[f++]=c[m];return d}function MP(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let m in c)d[f++]=m;return d}}}function zw(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=MP(c),m=NP(c),b=m.length,A=0;A<b;A++)d.call(void 0,m[A],f&&f[A],c)}var qw=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function PP(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var m=c[f].indexOf("="),b=null;if(0<=m){var A=c[f].substring(0,m);b=c[f].substring(m+1)}else A=c[f];d(A,b?decodeURIComponent(b.replace(/\+/g," ")):"")}}}function fi(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof fi){this.h=c.h,Nu(this,c.j),this.o=c.o,this.g=c.g,Mu(this,c.s),this.l=c.l;var d=c.i,f=new pa;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),Gw(this,f),this.m=c.m}else c&&(d=String(c).match(qw))?(this.h=!1,Nu(this,d[1]||"",!0),this.o=ha(d[2]||""),this.g=ha(d[3]||"",!0),Mu(this,d[4]),this.l=ha(d[5]||"",!0),Gw(this,d[6]||"",!0),this.m=ha(d[7]||"")):(this.h=!1,this.i=new pa(null,this.h))}fi.prototype.toString=function(){var c=[],d=this.j;d&&c.push(fa(d,Ww,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(fa(d,Ww,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(fa(f,f.charAt(0)=="/"?OP:kP,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",fa(f,FP)),c.join("")};function Bn(c){return new fi(c)}function Nu(c,d,f){c.j=f?ha(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function Mu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function Gw(c,d,f){d instanceof pa?(c.i=d,VP(c.i,c.h)):(f||(d=fa(d,LP)),c.i=new pa(d,c.h))}function we(c,d,f){c.i.set(d,f)}function Pu(c){return we(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ha(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function fa(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,xP),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xP(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ww=/[#\/\?@]/g,kP=/[#\?:]/g,OP=/[#\?]/g,LP=/[#\?@]/g,FP=/#/g;function pa(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ir(c){c.g||(c.g=new Map,c.h=0,c.i&&PP(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}n=pa.prototype,n.add=function(c,d){Ir(this),this.i=null,c=_o(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function Kw(c,d){Ir(c),d=_o(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function Qw(c,d){return Ir(c),d=_o(c,d),c.g.has(d)}n.forEach=function(c,d){Ir(this),this.g.forEach(function(f,m){f.forEach(function(b){c.call(d,b,m,this)},this)},this)},n.na=function(){Ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let m=0;m<d.length;m++){let b=c[m];for(let A=0;A<b.length;A++)f.push(d[m])}return f},n.V=function(c){Ir(this);let d=[];if(typeof c=="string")Qw(this,c)&&(d=d.concat(this.g.get(_o(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},n.set=function(c,d){return Ir(this),this.i=null,c=_o(this,c),Qw(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},n.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function Yw(c,d,f){Kw(c,d),0<f.length&&(c.i=null,c.g.set(_o(c,d),N(f)),c.h+=f.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var m=d[f];let A=encodeURIComponent(String(m)),O=this.V(m);for(m=0;m<O.length;m++){var b=A;O[m]!==""&&(b+="="+encodeURIComponent(String(O[m]))),c.push(b)}}return this.i=c.join("&")};function _o(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function VP(c,d){d&&!c.j&&(Ir(c),c.i=null,c.g.forEach(function(f,m){var b=m.toLowerCase();m!=b&&(Kw(this,m),Yw(this,b,f))},c)),c.j=d}function jP(c,d){let f=new la;if(a.Image){let m=new Image;m.onload=y(wr,f,"TestLoadImage: loaded",!0,d,m),m.onerror=y(wr,f,"TestLoadImage: error",!1,d,m),m.onabort=y(wr,f,"TestLoadImage: abort",!1,d,m),m.ontimeout=y(wr,f,"TestLoadImage: timeout",!1,d,m),a.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=c}else d(!1)}function UP(c,d){let f=new la,m=new AbortController,b=setTimeout(()=>{m.abort(),wr(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:m.signal}).then(A=>{clearTimeout(b),A.ok?wr(f,"TestPingServer: ok",!0,d):wr(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(b),wr(f,"TestPingServer: error",!1,d)})}function wr(c,d,f,m,b){try{b&&(b.onload=null,b.onerror=null,b.onabort=null,b.ontimeout=null),m(f)}catch{}}function BP(){this.g=new TP}function $P(c,d,f){let m=f||"";try{zw(c,function(b,A){let O=b;l(b)&&(O=wp(b)),d.push(m+A+"="+encodeURIComponent(O))})}catch(b){throw d.push(m+"type="+encodeURIComponent("_badmap")),b}}function ga(c){this.l=c.Ub||null,this.j=c.eb||!1}C(ga,Tp),ga.prototype.g=function(){return new xu(this.l,this.j)},ga.prototype.i=function(c){return function(){return c}}({});function xu(c,d){st.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(xu,st),n=xu.prototype,n.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,ya(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ma(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ya(this)),this.g&&(this.readyState=3,ya(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jw(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jw(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ma(this):ya(this),this.readyState==3&&Jw(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,ma(this))},n.Qa=function(c){this.g&&(this.response=c,ma(this))},n.ga=function(){this.g&&ma(this)};function ma(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ya(c)}n.setRequestHeader=function(c,d){this.u.append(c,d)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function ya(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Zw(c){let d="";return ge(c,function(f,m){d+=m,d+=":",d+=f,d+=`\r
`}),d}function xp(c,d,f){e:{for(m in f){var m=!1;break e}m=!0}m||(f=Zw(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):we(c,d,f))}function Ce(c){st.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Ce,st);var HP=/^https?$/i,zP=["POST","PUT"];n=Ce.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,d,f,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Cp.g(),this.v=this.o?Sw(this.o):Sw(Cp),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){Xw(this,A);return}if(c=f||"",f=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var b in m)f.set(b,m[b]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(let A of m.keys())f.set(A,m.get(A));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),b=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zP,d,void 0))||m||b||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,O]of f)this.g.setRequestHeader(A,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{nT(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){Xw(this,A)}};function Xw(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,eT(c),ku(c)}function eT(c){c.A||(c.A=!0,pt(c,"complete"),pt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,pt(this,"complete"),pt(this,"abort"),ku(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ku(this,!0)),Ce.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?tT(this):this.bb())},n.bb=function(){tT(this)};function tT(c){if(c.h&&typeof s<"u"&&(!c.v[1]||$n(c)!=4||c.Z()!=2)){if(c.u&&$n(c)==4)Tw(c.Ea,0,c);else if(pt(c,"readystatechange"),$n(c)==4){c.h=!1;try{let O=c.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var m;if(m=O===0){var b=String(c.D).match(qw)[1]||null;!b&&a.self&&a.self.location&&(b=a.self.location.protocol.slice(0,-1)),m=!HP.test(b?b.toLowerCase():"")}f=m}if(f)pt(c,"complete"),pt(c,"success");else{c.m=6;try{var A=2<$n(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",eT(c)}}finally{ku(c)}}}}function ku(c,d){if(c.g){nT(c);let f=c.g,m=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||pt(c,"ready");try{f.onreadystatechange=m}catch{}}}function nT(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function $n(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<$n(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),wP(d)}};function rT(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qP(c){let d={};c=(c.g&&2<=$n(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<c.length;m++){if(W(c[m]))continue;var f=D(c[m]);let b=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[b]||[];d[b]=A,A.push(f)}T(d,function(m){return m.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function va(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function iT(c){this.Aa=0,this.i=[],this.j=new la,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=va("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=va("baseRetryDelayMs",5e3,c),this.cb=va("retryDelaySeedMs",1e4,c),this.Wa=va("forwardChannelMaxRetries",2,c),this.wa=va("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new jw(c&&c.concurrentRequestLimit),this.Da=new BP,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=iT.prototype,n.la=8,n.G=1,n.connect=function(c,d,f,m){gt(0),this.W=c,this.H=d||{},f&&m!==void 0&&(this.H.OSID=f,this.H.OAID=m),this.F=this.X,this.I=fT(this,null,this.W),Lu(this)};function kp(c){if(oT(c),c.G==3){var d=c.U++,f=Bn(c.I);if(we(f,"SID",c.K),we(f,"RID",d),we(f,"TYPE","terminate"),_a(c,f),d=new Er(c,c.j,d),d.L=2,d.v=Pu(Bn(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=pT(d.j,null),d.g.ea(d.v)),d.F=Date.now(),Ru(d)}hT(c)}function Ou(c){c.g&&(Lp(c),c.g.cancel(),c.g=null)}function oT(c){Ou(c),c.u&&(a.clearTimeout(c.u),c.u=null),Fu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Lu(c){if(!Uw(c.h)&&!c.s){c.s=!0;var d=c.Ga;na||yw(),ra||(na(),ra=!0),fp.add(d,c),c.B=0}}function GP(c,d){return Bw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=ua(g(c.Ga,c,d),dT(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let b=new Er(this,this.j,c),A=this.o;if(this.S&&(A?(A=v(A),w(A,this.S)):A=this.S),this.m!==null||this.O||(b.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var m=this.i[f];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(d+=m,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=aT(this,b,d),f=Bn(this.I),we(f,"RID",c),we(f,"CVER",22),this.D&&we(f,"X-HTTP-Session-Id",this.D),_a(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(Zw(A)))+"&"+d:this.m&&xp(f,this.m,A)),Pp(this.h,b),this.Ua&&we(f,"TYPE","init"),this.P?(we(f,"$req",d),we(f,"SID","null"),b.T=!0,Ap(b,f,null)):Ap(b,f,d),this.G=2}}else this.G==3&&(c?sT(this,c):this.i.length==0||Uw(this.h)||sT(this))};function sT(c,d){var f;d?f=d.l:f=c.U++;let m=Bn(c.I);we(m,"SID",c.K),we(m,"RID",f),we(m,"AID",c.T),_a(c,m),c.m&&c.o&&xp(m,c.m,c.o),f=new Er(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=aT(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Pp(c.h,f),Ap(f,m,d)}function _a(c,d){c.H&&ge(c.H,function(f,m){we(d,m,f)}),c.l&&zw({},function(f,m){we(d,m,f)})}function aT(c,d,f){f=Math.min(c.i.length,f);var m=c.l?g(c.l.Na,c.l,c):null;e:{var b=c.i;let A=-1;for(;;){let O=["count="+f];A==-1?0<f?(A=b[0].g,O.push("ofs="+A)):A=0:O.push("ofs="+A);let Ee=!0;for(let et=0;et<f;et++){let he=b[et].g,at=b[et].map;if(he-=A,0>he)A=Math.max(0,b[et].g-100),Ee=!1;else try{$P(at,O,"req"+he+"_")}catch{m&&m(at)}}if(Ee){m=O.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,m}function cT(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;na||yw(),ra||(na(),ra=!0),fp.add(d,c),c.v=0}}function Op(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=ua(g(c.Fa,c),dT(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,uT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=ua(g(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,gt(10),Ou(this),uT(this))};function Lp(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function uT(c){c.g=new Er(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=Bn(c.qa);we(d,"RID","rpc"),we(d,"SID",c.K),we(d,"AID",c.T),we(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&we(d,"TO",c.ja),we(d,"TYPE","xmlhttp"),_a(c,d),c.m&&c.o&&xp(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=Pu(Bn(d)),f.m=null,f.P=!0,Lw(f,c)}n.Za=function(){this.C!=null&&(this.C=null,Ou(this),Op(this),gt(19))};function Fu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function lT(c,d){var f=null;if(c.g==d){Fu(c),Lp(c),c.g=null;var m=2}else if(Mp(c.h,d))f=d.D,$w(c.h,d),m=1;else return;if(c.G!=0){if(d.o)if(m==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var b=c.B;m=Cu(),pt(m,new Pw(m,f)),Lu(c)}else cT(c);else if(b=d.s,b==3||b==0&&0<d.X||!(m==1&&GP(c,d)||m==2&&Op(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),b){case 1:pi(c,5);break;case 4:pi(c,10);break;case 3:pi(c,6);break;default:pi(c,2)}}}function dT(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function pi(c,d){if(c.j.info("Error code "+d),d==2){var f=g(c.fb,c),m=c.Xa;let b=!m;m=new fi(m||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Nu(m,"https"),Pu(m),b?jP(m.toString(),f):UP(m.toString(),f)}else gt(2);c.G=0,c.l&&c.l.sa(d),hT(c),oT(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function hT(c){if(c.G=0,c.ka=[],c.l){let d=Hw(c.h);(d.length!=0||c.i.length!=0)&&(R(c.ka,d),R(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function fT(c,d,f){var m=f instanceof fi?Bn(f):new fi(f);if(m.g!="")d&&(m.g=d+"."+m.g),Mu(m,m.s);else{var b=a.location;m=b.protocol,d=d?d+"."+b.hostname:b.hostname,b=+b.port;var A=new fi(null);m&&Nu(A,m),d&&(A.g=d),b&&Mu(A,b),f&&(A.l=f),m=A}return f=c.D,d=c.ya,f&&d&&we(m,f,d),we(m,"VER",c.la),_a(c,m),m}function pT(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Ce(new ga({eb:f})):new Ce(c.pa),d.Ha(c.J),d}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function gT(){}n=gT.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function Vu(){}Vu.prototype.g=function(c,d){return new Rt(c,d)};function Rt(c,d){st.call(this),this.g=new iT(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!W(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new Eo(this)}C(Rt,st),Rt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Rt.prototype.close=function(){kp(this.g)},Rt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=wp(c),c=f);d.i.push(new RP(d.Ya++,c)),d.G==3&&Lu(d)},Rt.prototype.N=function(){this.g.l=null,delete this.j,kp(this.g),delete this.g,Rt.aa.N.call(this)};function mT(c){Dp.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}C(mT,Dp);function yT(){bp.call(this),this.status=1}C(yT,bp);function Eo(c){this.g=c}C(Eo,gT),Eo.prototype.ua=function(){pt(this.g,"a")},Eo.prototype.ta=function(c){pt(this.g,new mT(c))},Eo.prototype.sa=function(c){pt(this.g,new yT)},Eo.prototype.ra=function(){pt(this.g,"b")},Vu.prototype.createWebChannel=Vu.prototype.g,Rt.prototype.send=Rt.prototype.o,Rt.prototype.open=Rt.prototype.m,Rt.prototype.close=Rt.prototype.close,X_=fr.createWebChannelTransport=function(){return new Vu},Z_=fr.getStatEventTarget=function(){return Cu()},J_=fr.Event=di,hf=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Su.NO_ERROR=0,Su.TIMEOUT=8,Su.HTTP_ERROR=6,tu=fr.ErrorCode=Su,xw.COMPLETE="complete",Y_=fr.EventType=xw,Aw.EventType=aa,aa.OPEN="a",aa.CLOSE="b",aa.ERROR="c",aa.MESSAGE="d",st.prototype.listen=st.prototype.K,As=fr.WebChannel=Aw,GH=fr.FetchXmlHttpFactory=ga,Ce.prototype.listenOnce=Ce.prototype.L,Ce.prototype.getLastError=Ce.prototype.Ka,Ce.prototype.getLastErrorCode=Ce.prototype.Ba,Ce.prototype.getStatus=Ce.prototype.Z,Ce.prototype.getResponseJson=Ce.prototype.Oa,Ce.prototype.getResponseText=Ce.prototype.oa,Ce.prototype.send=Ce.prototype.ea,Ce.prototype.setWithCredentials=Ce.prototype.Ha,Q_=fr.XhrIo=Ce}).apply(typeof df<"u"?df:typeof self<"u"?self:typeof window<"u"?window:{});var VR="@firebase/firestore",jR="4.7.17";var Je=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");var Js="11.9.0";var lo=new Sn("@firebase/firestore");function Rs(){return lo.logLevel}function V(n,...e){if(lo.logLevel<=se.DEBUG){let t=e.map(UI);lo.debug(`Firestore (${Js}): ${n}`,...t)}}function pr(n,...e){if(lo.logLevel<=se.ERROR){let t=e.map(UI);lo.error(`Firestore (${Js}): ${n}`,...t)}}function Ls(n,...e){if(lo.logLevel<=se.WARN){let t=e.map(UI);lo.warn(`Firestore (${Js}): ${n}`,...t)}}function UI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function q(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,AN(n,r,t)}function AN(n,e,t){let r=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw pr(r),new Error(r)}function ve(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||AN(e,i,r)}function J(n,e){return n}var P={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},$=class extends Ft{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Mn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var _f=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},iE=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Je.UNAUTHENTICATED))}shutdown(){}},oE=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},sE=class{constructor(e){this.t=e,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Mn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>_(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new _f(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new Je(e)}},aE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);let e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}},cE=class{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new aE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Je.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Ef=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},uE=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,At(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);let r=o=>{o.error!=null&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.m;return this.m=o.token,V("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.V.getImmediate({optional:!0});o?i(o):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ef(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ef(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function WH(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}function RN(){return new TextEncoder}var If=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=WH(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}};function oe(n,e){return n<e?-1:n>e?1:0}function lE(n,e){let t=0;for(;t<n.length&&t<e.length;){let r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return oe(r,i);{let o=RN(),s=KH(o.encode(UR(n,t)),o.encode(UR(e,t)));return s!==0?s:oe(r,i)}}t+=r>65535?2:1}return oe(n.length,e.length)}function UR(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function KH(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return oe(n[t],e[t]);return oe(n.length,e.length)}function Fs(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var BR=-62135596800,$R=1e6,it=class n{static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*$R);return new n(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new $(P.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<BR)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new $(P.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$R}_compareTo(e){return this.seconds===e.seconds?oe(this.nanoseconds,e.nanoseconds):oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-BR;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ee=class n{static fromTimestamp(e){return new n(e)}static min(){return new n(new it(0,0))}static max(){return new n(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var HR="__name__",wf=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&q(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&q(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=n.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return oe(e.length,t.length)}static compareSegments(e,t){let r=n.isNumericId(e),i=n.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?n.extractNumericId(e).compare(n.extractNumericId(t)):lE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hr.fromString(e.substring(4,e.length-2))}},Pe=class n extends wf{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new $(P.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},QH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,jt=class n extends wf{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return QH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HR}static keyField(){return new n([HR])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new $(P.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new $(P.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new $(P.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new $(P.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var G=class n{constructor(e){this.path=e}static fromPath(e){return new n(Pe.fromString(e))}static fromName(e){return new n(Pe.fromString(e).popFirst(5))}static empty(){return new n(Pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Pe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Pe.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Pe(e.slice()))}};var au=-1,dE=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};dE.UNKNOWN_ID=-1;function YH(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new ho(i,G.empty(),e)}function JH(n){return new ho(n.readTime,n.key,au)}var ho=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(ee.min(),G.empty(),au)}static max(){return new n(ee.max(),G.empty(),au)}};function ZH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=G.comparator(n.documentKey,e.documentKey),t!==0?t:oe(n.largestBatchId,e.largestBatchId))}var XH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hE=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Zs(n){return _(this,null,function*(){if(n.code!==P.FAILED_PRECONDITION||n.message!==XH)throw n;V("LocalStore","Unexpectedly lost primary lease")})}var x=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&q(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;t(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function e4(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Xs(n){return n.name==="IndexedDbTransactionError"}var BI=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ue(i),this.ce=i=>r.writeSequenceNumber(i))}ue(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.ce&&this.ce(t),t}}n.le=-1;return n})(),$I=-1;function np(n){return n==null}function cu(n){return n===0&&1/n==-1/0}function t4(n){return typeof n=="number"&&Number.isInteger(n)&&!cu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var NN="";function n4(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=zR(e)),e=r4(n.get(t),e);return zR(e)}function r4(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let o=n.charAt(i);switch(o){case"\0":t+="";break;case NN:t+="";break;default:t+=o}}return t}function zR(n){return n+NN+""}var i4="remoteDocuments",MN="owner";var PN="mutationQueues";var xN="mutations";var kN="documentMutations",o4="remoteDocumentsV14";var ON="remoteDocumentGlobal";var LN="targets";var FN="targetDocuments";var VN="targetGlobal",jN="collectionParents";var UN="clientMetadata";var BN="bundles";var $N="namedQueries";var s4="indexConfiguration";var a4="indexState";var c4="indexEntries";var HN="documentOverlays";var u4="globals";var l4=[PN,xN,kN,i4,LN,MN,VN,FN,UN,ON,jN,BN,$N],toe=[...l4,HN],d4=[PN,xN,kN,o4,LN,MN,VN,FN,UN,ON,jN,BN,$N,HN],h4=d4,f4=[...h4,s4,a4,c4];var noe=[...f4,u4];function qR(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function li(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function zN(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var xe=class n{constructor(e,t){this.comparator=e,this.root=t||Pn.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pn.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xs(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xs(this.root,e,this.comparator,!1)}getReverseIterator(){return new xs(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xs(this.root,e,this.comparator,!0)}},xs=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Pn=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw q(43730,{key:this.key,value:this.value});if(this.right.isRed())throw q(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw q(27949);return e+(this.isRed()?0:1)}};Pn.EMPTY=null,Pn.RED=!0,Pn.BLACK=!1;Pn.EMPTY=new class{constructor(){this.size=0}get key(){throw q(57766)}get value(){throw q(16141)}get color(){throw q(16727)}get left(){throw q(29726)}get right(){throw q(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Pn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ze=class n{constructor(e){this.comparator=e,this.data=new xe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Tf(this.data.getIterator())}getIteratorFrom(e){return new Tf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},Tf=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Gt=class n{constructor(e){this.fields=e,e.sort(jt.comparator)}static empty(){return new n([])}unionWith(e){let t=new Ze(jt.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var Df=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var ft=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Df("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};ft.EMPTY_BYTE_STRING=new ft("");var p4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(n){if(ve(!!n,39018),typeof n=="string"){let e=0,t=p4.exec(n);if(ve(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:De(n.seconds),nanos:De(n.nanos)}}function De(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function mr(n){return typeof n=="string"?ft.fromBase64String(n):ft.fromUint8Array(n)}var qN="server_timestamp",GN="__type__",WN="__previous_value__",KN="__local_write_time__";function HI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GN])===null||t===void 0?void 0:t.stringValue)===qN}function rp(n){let e=n.mapValue.fields[WN];return HI(e)?rp(e):e}function uu(n){let e=gr(n.mapValue.fields[KN].timestampValue);return new it(e.seconds,e.nanos)}var fE=class{constructor(e,t,r,i,o,s,a,u,l,h){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l,this.isUsingEmulator=h}},bf="(default)",Cf=class n{constructor(e,t){this.projectId=e,this.database=t||bf}static empty(){return new n("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var zI="__type__",QN="__max__",ff={mapValue:{fields:{__type__:{stringValue:QN}}}},qI="__vector__",Vs="value";function ai(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?HI(n)?4:JN(n)?9007199254740991:YN(n)?10:11:q(28295,{value:n})}function Ln(n,e){if(n===e)return!0;let t=ai(n);if(t!==ai(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return uu(n).isEqual(uu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=gr(i.timestampValue),a=gr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return mr(i.bytesValue).isEqual(mr(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return De(i.geoPointValue.latitude)===De(o.geoPointValue.latitude)&&De(i.geoPointValue.longitude)===De(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return De(i.integerValue)===De(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=De(i.doubleValue),a=De(o.doubleValue);return s===a?cu(s)===cu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return Fs(n.arrayValue.values||[],e.arrayValue.values||[],Ln);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(qR(s)!==qR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Ln(s[u],a[u])))return!1;return!0}(n,e);default:return q(52216,{left:n})}}function lu(n,e){return(n.values||[]).find(t=>Ln(t,e))!==void 0}function js(n,e){if(n===e)return 0;let t=ai(n),r=ai(e);if(t!==r)return oe(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return oe(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=De(o.integerValue||o.doubleValue),u=De(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return GR(n.timestampValue,e.timestampValue);case 4:return GR(uu(n),uu(e));case 5:return lE(n.stringValue,e.stringValue);case 6:return function(o,s){let a=mr(o),u=mr(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=oe(a[l],u[l]);if(h!==0)return h}return oe(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=oe(De(o.latitude),De(s.latitude));return a!==0?a:oe(De(o.longitude),De(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return WR(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},g=s.fields||{},y=(a=p[Vs])===null||a===void 0?void 0:a.arrayValue,C=(u=g[Vs])===null||u===void 0?void 0:u.arrayValue,N=oe(((l=y?.values)===null||l===void 0?void 0:l.length)||0,((h=C?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:WR(y,C)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===ff.mapValue&&s===ff.mapValue)return 0;if(o===ff.mapValue)return 1;if(s===ff.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let g=lE(u[p],h[p]);if(g!==0)return g;let y=js(a[u[p]],l[h[p]]);if(y!==0)return y}return oe(u.length,h.length)}(n.mapValue,e.mapValue);default:throw q(23264,{Pe:t})}}function GR(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return oe(n,e);let t=gr(n),r=gr(e),i=oe(t.seconds,r.seconds);return i!==0?i:oe(t.nanos,r.nanos)}function WR(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=js(t[i],r[i]);if(o)return o}return oe(t.length,r.length)}function Us(n){return pE(n)}function pE(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=gr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return mr(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return G.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=pE(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${pE(t.fields[s])}`;return i+"}"}(n.mapValue):q(61005,{value:n})}function mf(n){switch(ai(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=rp(n);return e?16+mf(e):16;case 5:return 2*n.stringValue.length;case 6:return mr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+mf(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return li(r.fields,(o,s)=>{i+=o.length+mf(s)}),i}(n.mapValue);default:throw q(13486,{value:n})}}function gE(n){return!!n&&"integerValue"in n}function GI(n){return!!n&&"arrayValue"in n}function KR(n){return!!n&&"nullValue"in n}function QR(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function yf(n){return!!n&&"mapValue"in n}function YN(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{})[zI])===null||t===void 0?void 0:t.stringValue)===qI}function ru(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return li(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ru(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ru(n.arrayValue.values[t]);return e}return Object.assign({},n)}function JN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===QN}var ioe={mapValue:{fields:{[zI]:{stringValue:qI},[Vs]:{arrayValue:{}}}}};var Vt=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!yf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(t)}setAll(e){let t=jt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=ru(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());yf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ln(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];yf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){li(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(ru(this.value))}};function ZN(n){let e=[];return li(n.fields,(t,r)=>{let i=new jt([t]);if(yf(r)){let o=ZN(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Gt(e)}var ln=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,ee.min(),ee.min(),ee.min(),Vt.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,ee.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,ee.min(),ee.min(),Vt.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,ee.min(),ee.min(),Vt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Bs=class{constructor(e,t){this.position=e,this.inclusive=t}};function YR(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),t.key):r=js(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function JR(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ln(n.position[t],e.position[t]))return!1;return!0}var $s=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function g4(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var Sf=class{},Ge=class n extends Sf{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new yE(e,t,r):t==="array-contains"?new EE(e,r):t==="in"?new IE(e,r):t==="not-in"?new wE(e,r):t==="array-contains-any"?new TE(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new vE(e,r):new _E(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(js(t,this.value)):t!==null&&ai(this.value)===ai(t)&&this.matchesComparison(js(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return q(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Fn=class n extends Sf{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new n(e,t)}matches(e){return XN(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}};function XN(n){return n.op==="and"}function eM(n){return m4(n)&&XN(n)}function m4(n){for(let e of n.filters)if(e instanceof Fn)return!1;return!0}function mE(n){if(n instanceof Ge)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(eM(n))return n.filters.map(e=>mE(e)).join(",");{let e=n.filters.map(t=>mE(t)).join(",");return`${n.op}(${e})`}}function tM(n,e){return n instanceof Ge?function(r,i){return i instanceof Ge&&r.op===i.op&&r.field.isEqual(i.field)&&Ln(r.value,i.value)}(n,e):n instanceof Fn?function(r,i){return i instanceof Fn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&tM(s,i.filters[a]),!0):!1}(n,e):void q(19439)}function nM(n){return n instanceof Ge?function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`}(n):n instanceof Fn?function(t){return t.op.toString()+" {"+t.getFilters().map(nM).join(" ,")+"}"}(n):"Filter"}var yE=class extends Ge{constructor(e,t,r){super(e,t,r),this.key=G.fromName(r.referenceValue)}matches(e){let t=G.comparator(e.key,this.key);return this.matchesComparison(t)}},vE=class extends Ge{constructor(e,t){super(e,"in",t),this.keys=rM("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},_E=class extends Ge{constructor(e,t){super(e,"not-in",t),this.keys=rM("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function rM(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>G.fromName(r.referenceValue))}var EE=class extends Ge{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return GI(t)&&lu(t.arrayValue,this.value)}},IE=class extends Ge{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&lu(this.value.arrayValue,t)}},wE=class extends Ge{constructor(e,t){super(e,"not-in",t)}matches(e){if(lu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!lu(this.value.arrayValue,t)}},TE=class extends Ge{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!GI(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>lu(this.value.arrayValue,r))}};var DE=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.Ie=null}};function ZR(n,e=null,t=[],r=[],i=null,o=null,s=null){return new DE(n,e,t,r,i,o,s)}function WI(n){let e=J(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>mE(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),np(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Us(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Us(r)).join(",")),e.Ie=t}return e.Ie}function KI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!g4(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!tM(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!JR(n.startAt,e.startAt)&&JR(n.endAt,e.endAt)}function bE(n){return G.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Hs=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}};function y4(n,e,t,r,i,o,s,a){return new Hs(n,e,t,r,i,o,s,a)}function ip(n){return new Hs(n)}function XR(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function v4(n){return n.collectionGroup!==null}function iu(n){let e=J(n);if(e.Ee===null){e.Ee=[];let t=new Set;for(let o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ze(jt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new $s(o,r))}),t.has(jt.keyField().canonicalString())||e.Ee.push(new $s(jt.keyField(),r))}return e.Ee}function xn(n){let e=J(n);return e.de||(e.de=_4(e,iu(n))),e.de}function _4(n,e){if(n.limitType==="F")return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new $s(i.field,o)});let t=n.endAt?new Bs(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Bs(n.startAt.position,n.startAt.inclusive):null;return ZR(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function CE(n,e,t){return new Hs(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function op(n,e){return KI(xn(n),xn(e))&&n.limitType===e.limitType}function iM(n){return`${WI(xn(n))}|lt:${n.limitType}`}function Ns(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>nM(i)).join(", ")}]`),np(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Us(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Us(i)).join(",")),`Target(${r})`}(xn(n))}; limitType=${n.limitType})`}function sp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of iu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=YR(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,iu(r),i)||r.endAt&&!function(s,a,u){let l=YR(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,iu(r),i))}(n,e)}function E4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function oM(n){return(e,t)=>{let r=!1;for(let i of iu(n)){let o=I4(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function I4(n,e,t){let r=n.field.isKeyField()?G.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?js(u,l):q(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return q(19790,{direction:n.dir})}}var yr=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){li(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return zN(this.inner)}size(){return this.innerSize}};var w4=new xe(G.comparator);function vr(){return w4}var sM=new xe(G.comparator);function nu(...n){let e=sM;for(let t of n)e=e.insert(t.key,t);return e}function aM(n){let e=sM;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ao(){return ou()}function cM(){return ou()}function ou(){return new yr(n=>n.toString(),(n,e)=>n.isEqual(e))}var T4=new xe(G.comparator),D4=new Ze(G.comparator);function ce(...n){let e=D4;for(let t of n)e=e.add(t);return e}var b4=new Ze(oe);function C4(){return b4}function QI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cu(e)?"-0":e}}function uM(n){return{integerValue:""+n}}function S4(n,e){return t4(e)?uM(e):QI(n,e)}var zs=class{constructor(){this._=void 0}};function A4(n,e,t){return n instanceof qs?function(i,o){let s={fields:{[GN]:{stringValue:qN},[KN]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&HI(o)&&(o=rp(o)),o&&(s.fields[WN]=o),{mapValue:s}}(t,e):n instanceof fo?dM(n,e):n instanceof po?hM(n,e):function(i,o){let s=lM(i,o),a=eN(s)+eN(i.Re);return gE(s)&&gE(i.Re)?uM(a):QI(i.serializer,a)}(n,e)}function R4(n,e,t){return n instanceof fo?dM(n,e):n instanceof po?hM(n,e):t}function lM(n,e){return n instanceof Gs?function(r){return gE(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var qs=class extends zs{},fo=class extends zs{constructor(e){super(),this.elements=e}};function dM(n,e){let t=fM(e);for(let r of n.elements)t.some(i=>Ln(i,r))||t.push(r);return{arrayValue:{values:t}}}var po=class extends zs{constructor(e){super(),this.elements=e}};function hM(n,e){let t=fM(e);for(let r of n.elements)t=t.filter(i=>!Ln(i,r));return{arrayValue:{values:t}}}var Gs=class extends zs{constructor(e,t){super(),this.serializer=e,this.Re=t}};function eN(n){return De(n.integerValue||n.doubleValue)}function fM(n){return GI(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function N4(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof fo&&i instanceof fo||r instanceof po&&i instanceof po?Fs(r.elements,i.elements,Ln):r instanceof Gs&&i instanceof Gs?Ln(r.Re,i.Re):r instanceof qs&&i instanceof qs}(n.transform,e.transform)}var SE=class{constructor(e,t){this.version=e,this.transformResults=t}},kn=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vf(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ws=class{};function pM(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new du(n.key,kn.none()):new go(n.key,n.data,kn.none());{let t=n.data,r=Vt.empty(),i=new Ze(jt.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Vn(n.key,r,new Gt(i.toArray()),kn.none())}}function M4(n,e,t){n instanceof go?function(i,o,s){let a=i.value.clone(),u=nN(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof Vn?function(i,o,s){if(!vf(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=nN(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(gM(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function su(n,e,t,r){return n instanceof go?function(o,s,a,u){if(!vf(o.precondition,s))return a;let l=o.value.clone(),h=rN(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(n,e,t,r):n instanceof Vn?function(o,s,a,u){if(!vf(o.precondition,s))return a;let l=rN(o.fieldTransforms,u,s),h=s.data;return h.setAll(gM(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(n,e,t,r):function(o,s,a){return vf(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function P4(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=lM(r.transform,i||null);o!=null&&(t===null&&(t=Vt.empty()),t.set(r.field,o))}return t||null}function tN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(o,s)=>N4(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var go=class extends Ws{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Vn=class extends Ws{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function gM(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function nN(n,e,t){let r=new Map;ve(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,R4(s,a,t[i]))}return r}function rN(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,A4(o,s,e))}return r}var du=class extends Ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},AE=class extends Ws{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var RE=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&M4(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=su(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=cM();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=pM(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ee.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ce())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(t,r)=>tN(t,r))&&Fs(this.baseMutations,e.baseMutations,(t,r)=>tN(t,r))}},NE=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){ve(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return T4}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var ME=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var PE=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var Ue,de;function x4(n){switch(n){case P.OK:return q(64938);case P.CANCELLED:case P.UNKNOWN:case P.DEADLINE_EXCEEDED:case P.RESOURCE_EXHAUSTED:case P.INTERNAL:case P.UNAVAILABLE:case P.UNAUTHENTICATED:return!1;case P.INVALID_ARGUMENT:case P.NOT_FOUND:case P.ALREADY_EXISTS:case P.PERMISSION_DENIED:case P.FAILED_PRECONDITION:case P.ABORTED:case P.OUT_OF_RANGE:case P.UNIMPLEMENTED:case P.DATA_LOSS:return!0;default:return q(15467,{code:n})}}function mM(n){if(n===void 0)return pr("GRPC error has no .code"),P.UNKNOWN;switch(n){case Ue.OK:return P.OK;case Ue.CANCELLED:return P.CANCELLED;case Ue.UNKNOWN:return P.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return P.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return P.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return P.INTERNAL;case Ue.UNAVAILABLE:return P.UNAVAILABLE;case Ue.UNAUTHENTICATED:return P.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return P.INVALID_ARGUMENT;case Ue.NOT_FOUND:return P.NOT_FOUND;case Ue.ALREADY_EXISTS:return P.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return P.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return P.FAILED_PRECONDITION;case Ue.ABORTED:return P.ABORTED;case Ue.OUT_OF_RANGE:return P.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return P.UNIMPLEMENTED;case Ue.DATA_LOSS:return P.DATA_LOSS;default:return q(39323,{code:n})}}(de=Ue||(Ue={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";var iN=null;var k4=new hr([4294967295,4294967295],0);function oN(n){let e=RN().encode(n),t=new K_;return t.update(e),new Uint8Array(t.digest())}function sN(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new hr([t,r],0),new hr([i,o],0)]}var xE=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new co(`Invalid padding: ${t}`);if(r<0)throw new co(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new co(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new co(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=hr.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(hr.fromNumber(r)));return i.compare(k4)===1&&(i=new hr([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;let t=oN(e),[r,i]=sN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);if(!this.be(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.pe===0)return;let t=oN(e),[r,i]=sN(t);for(let o=0;o<this.hashCount;o++){let s=this.we(r,i,o);this.Se(s)}}Se(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},co=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Af=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(ee.min(),i,new xe(oe),vr(),ce())}},hu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,ce(),ce(),ce())}};var ks=class{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}},Rf=class{constructor(e,t){this.targetId=e,this.Ce=t}},Nf=class{constructor(e,t,r=ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Mf=class{constructor(){this.Fe=0,this.Me=aN(),this.xe=ft.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=ce(),t=ce(),r=ce();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:q(38017,{changeType:o})}}),new hu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=aN()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,ve(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}},kE=class{constructor(e){this.ze=e,this.je=new Map,this.He=vr(),this.Je=pf(),this.Ye=pf(),this.Ze=new xe(oe)}Xe(e){for(let t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(let t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{let r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:q(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){let t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){let o=i.target;if(bE(o))if(r===0){let s=new G(o.path);this.tt(t,s,ln.newNoDocument(s,ee.min()))}else ve(r===1,20013,{expectedCount:r});else{let s=this.ut(t);if(s!==r){let a=this.ct(e),u=a?this.lt(a,e,s):1;if(u!==0){this.st(t);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,l)}iN?.ht(function(h,p,g,y,C){var N,R,k,W,B,pe;let Xe={localCacheCount:h,existenceFilterCount:p.count,databaseId:g.database,projectId:g.projectId},ge=p.unchangedNames;return ge&&(Xe.bloomFilter={applied:C===0,hashCount:(N=ge?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(W=(k=(R=ge?.bits)===null||R===void 0?void 0:R.bitmap)===null||k===void 0?void 0:k.length)!==null&&W!==void 0?W:0,padding:(pe=(B=ge?.bits)===null||B===void 0?void 0:B.padding)!==null&&pe!==void 0?pe:0,mightContain:T=>{var v;return(v=y?.mightContain(T))!==null&&v!==void 0&&v}}),Xe}(s,e.Ce,this.ze.Pt(),a,u))}}}}ct(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=mr(r).toUint8Array()}catch(u){if(u instanceof Df)return Ls("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new xE(s,i,o)}catch(u){return Ls(u instanceof co?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.pe===0?null:a}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){let r=this.ze.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.ze.Pt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.tt(t,o,null),i++)}),i}It(e){let t=new Map;this.je.forEach((o,s)=>{let a=this._t(s);if(a){if(o.current&&bE(a.target)){let u=new G(a.target.path);this.Et(u).has(s)||this.dt(s,u)||this.tt(s,u,ln.newNoDocument(u,e))}o.Le&&(t.set(s,o.qe()),o.Qe())}});let r=ce();this.Ye.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this._t(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.He.forEach((o,s)=>s.setReadTime(e));let i=new Af(e,t,this.Ze,this.He,r);return this.He=vr(),this.Je=pf(),this.Ye=pf(),this.Ze=new xe(oe),i}et(e,t){if(!this.it(e))return;let r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;let i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){let t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new Mf,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Ze(oe),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Ze(oe),this.Je=this.Je.insert(e,t)),t}it(e){let t=this._t(e)!==null;return t||V("WatchChangeAggregator","Detected inactive target",e),t}_t(e){let t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Mf),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}};function pf(){return new xe(G.comparator)}function aN(){return new xe(G.comparator)}var O4={asc:"ASCENDING",desc:"DESCENDING"},L4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},F4={and:"AND",or:"OR"},OE=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function LE(n,e){return n.useProto3Json||np(e)?e:{value:e}}function Pf(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function yM(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function V4(n,e){return Pf(n,e.toTimestamp())}function On(n){return ve(!!n,49232),ee.fromTimestamp(function(t){let r=gr(t);return new it(r.seconds,r.nanos)}(n))}function YI(n,e){return FE(n,e).canonicalString()}function FE(n,e){let t=function(i){return new Pe(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function vM(n){let e=Pe.fromString(n);return ve(TM(e),10190,{key:e.toString()}),e}function VE(n,e){return YI(n.databaseId,e.path)}function eE(n,e){let t=vM(e);if(t.get(1)!==n.databaseId.projectId)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new $(P.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new G(EM(t))}function _M(n,e){return YI(n.databaseId,e)}function j4(n){let e=vM(n);return e.length===4?Pe.emptyPath():EM(e)}function jE(n){return new Pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function EM(n){return ve(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function cN(n,e,t){return{name:VE(n,e),fields:t.value.mapValue.fields}}function U4(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:q(39313,{state:l})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(ve(h===void 0||typeof h=="string",58123),ft.fromBase64String(h||"")):(ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),ft.fromUint8Array(h||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?P.UNKNOWN:mM(l.code);return new $(h,l.message||"")}(s);t=new Nf(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=eE(n,r.document.name),o=On(r.document.updateTime),s=r.document.createTime?On(r.document.createTime):ee.min(),a=new Vt({mapValue:{fields:r.document.fields}}),u=ln.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];t=new ks(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=eE(n,r.document),o=r.readTime?On(r.readTime):ee.min(),s=ln.newNoDocument(i,o),a=r.removedTargetIds||[];t=new ks([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=eE(n,r.document),o=r.removedTargetIds||[];t=new ks([],o,i,null)}else{if(!("filter"in e))return q(11601,{Vt:e});{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new PE(i,o),a=r.targetId;t=new Rf(a,s)}}return t}function B4(n,e){let t;if(e instanceof go)t={update:cN(n,e.key,e.value)};else if(e instanceof du)t={delete:VE(n,e.key)};else if(e instanceof Vn)t={update:cN(n,e.key,e.data),updateMask:Y4(e.fieldMask)};else{if(!(e instanceof AE))return q(16599,{ft:e.type});t={verify:VE(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof qs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof fo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof po)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gs)return{fieldPath:s.field.canonicalString(),increment:a.Re};throw q(20930,{transform:s.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:V4(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:q(27497)}(n,e.precondition)),t}function $4(n,e){return n&&n.length>0?(ve(e!==void 0,14353),n.map(t=>function(i,o){let s=i.updateTime?On(i.updateTime):On(o);return s.isEqual(ee.min())&&(s=On(o)),new SE(s,i.transformResults||[])}(t,e))):[]}function H4(n,e){return{documents:[_M(n,e.path)]}}function z4(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=_M(n,i);let o=function(l){if(l.length!==0)return wM(Fn.create(l,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(g){return{field:Ms(g.field),direction:W4(g.dir)}}(h))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=LE(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{gt:t,parent:i}}function q4(n){let e=j4(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){ve(r===1,65062);let h=t.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];t.where&&(o=function(p){let g=IM(p);return g instanceof Fn&&eM(g)?g.getFilters():[g]}(t.where));let s=[];t.orderBy&&(s=function(p){return p.map(g=>function(C){return new $s(Ps(C.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(g))}(t.orderBy));let a=null;t.limit&&(a=function(p){let g;return g=typeof p=="object"?p.value:p,np(g)?null:g}(t.limit));let u=null;t.startAt&&(u=function(p){let g=!!p.before,y=p.values||[];return new Bs(y,g)}(t.startAt));let l=null;return t.endAt&&(l=function(p){let g=!p.before,y=p.values||[];return new Bs(y,g)}(t.endAt)),y4(e,i,s,o,a,"F",u,l)}function G4(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return q(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function IM(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ps(t.unaryFilter.field);return Ge.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ps(t.unaryFilter.field);return Ge.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ps(t.unaryFilter.field);return Ge.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ps(t.unaryFilter.field);return Ge.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return q(61313);default:return q(60726)}}(n):n.fieldFilter!==void 0?function(t){return Ge.create(Ps(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return q(58110);default:return q(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Fn.create(t.compositeFilter.filters.map(r=>IM(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return q(1026)}}(t.compositeFilter.op))}(n):q(30097,{filter:n})}function W4(n){return O4[n]}function K4(n){return L4[n]}function Q4(n){return F4[n]}function Ms(n){return{fieldPath:n.canonicalString()}}function Ps(n){return jt.fromServerFormat(n.fieldPath)}function wM(n){return n instanceof Ge?function(t){if(t.op==="=="){if(QR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NAN"}};if(KR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(QR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NAN"}};if(KR(t.value))return{unaryFilter:{field:Ms(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ms(t.field),op:K4(t.op),value:t.value}}}(n):n instanceof Fn?function(t){let r=t.getFilters().map(i=>wM(i));return r.length===1?r[0]:{compositeFilter:{op:Q4(t.op),filters:r}}}(n):q(54877,{filter:n})}function Y4(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function TM(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var fu=class n{constructor(e,t,r,i,o=ee.min(),s=ee.min(),a=ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var UE=class{constructor(e){this.wt=e}};function J4(n){let e=q4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?CE(e,e.limit,"L"):e}var xf=class{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(De(e.integerValue));else if("doubleValue"in e){let r=De(e.doubleValue);isNaN(r)?this.Mt(t,13):(this.Mt(t,15),cu(r)?t.xt(0):t.xt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Mt(t,20),typeof r=="string"&&(r=gr(r)),t.Ot(`${r.seconds||""}`),t.xt(r.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(mr(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.Mt(t,45),t.xt(r.latitude||0),t.xt(r.longitude||0)}else"mapValue"in e?JN(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):YN(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):q(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){let r=e.fields||{};this.Mt(t,55);for(let i of Object.keys(r))this.Nt(i,t),this.Ct(r[i],t)}qt(e,t){var r,i;let o=e.fields||{};this.Mt(t,53);let s=Vs,a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Mt(t,15),t.xt(De(a)),this.Nt(s,t),this.Ct(o[s],t)}$t(e,t){let r=e.values||[];this.Mt(t,50);for(let i of r)this.Ct(i,t)}kt(e,t){this.Mt(t,37),G.fromName(e).path.forEach(r=>{this.Mt(t,60),this.Kt(r,t)})}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}};xf.Wt=new xf;var BE=class{constructor(){this.Cn=new $E}addToCollectionParentIndex(e,t){return this.Cn.add(t),x.resolve()}getCollectionParents(e,t){return x.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return x.resolve()}deleteFieldIndex(e,t){return x.resolve()}deleteAllFieldIndexes(e){return x.resolve()}createTargetIndexes(e,t){return x.resolve()}getDocumentsMatchingTarget(e,t){return x.resolve(null)}getIndexType(e,t){return x.resolve(0)}getFieldIndexes(e,t){return x.resolve([])}getNextCollectionGroupToUpdate(e){return x.resolve(null)}getMinOffset(e,t){return x.resolve(ho.min())}getMinOffsetFromCollectionGroup(e,t){return x.resolve(ho.min())}updateCollectionGroup(e,t,r){return x.resolve()}updateIndexEntries(e,t){return x.resolve()}},$E=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ze(Pe.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ze(Pe.comparator)).toArray()}};var ooe=new Uint8Array(0);var uN={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DM=41943040,qt=class n{static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}};qt.DEFAULT_COLLECTION_PERCENTILE=10,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qt.DEFAULT=new qt(DM,qt.DEFAULT_COLLECTION_PERCENTILE,qt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qt.DISABLED=new qt(-1,0,0);var pu=class n{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new n(0)}static lr(){return new n(-1)}};var lN="LruGarbageCollector",Z4=1048576;function dN([n,e],[t,r]){let i=oe(n,t);return i===0?oe(e,r):i}var HE=class{constructor(e){this.Er=e,this.buffer=new Ze(dN),this.dr=0}Ar(){return++this.dr}Rr(e){let t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();dN(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},zE=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){V(lN,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>_(this,null,function*(){this.Vr=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(t){Xs(t)?V(lN,"Ignoring IndexedDB error during garbage collection: ",t):yield Zs(t)}yield this.mr(3e5)}))}},qE=class{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return x.resolve(BI.le);let r=new HE(t);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(V("LruGarbageCollector","Garbage collection skipped; disabled"),x.resolve(uN)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uN):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,i,o,s,a,u,l,h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i))).next(p=>(r=p,a=Date.now(),this.removeTargets(e,r,t))).next(p=>(o=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(l=Date.now(),Rs()<=se.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-h}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(u-a)+`ms
	Removed ${p} documents in `+(l-u)+`ms
Total Duration: ${l-h}ms`),x.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:p})))}};function X4(n,e){return new qE(n,e)}var GE=class{constructor(){this.changes=new yr(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ln.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?x.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var WE=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var KE=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&su(r.mutation,i,Gt.empty(),it.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,ce()).next(()=>r))}getLocalViewOfDocuments(e,t,r=ce()){let i=ao();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=nu();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=ao();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,ce()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=vr(),s=ou(),a=function(){return ou()}();return t.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof Vn)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),su(h.mutation,l,h.mutation.getFieldMask(),it.now())):s.set(l.key,Gt.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),t.forEach((l,h)=>{var p;return a.set(l,new WE(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,t){let r=ou(),i=new xe((s,a)=>s-a),o=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=t.get(u);if(l===null)return;let h=r.get(u)||Gt.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||ce()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=cM();h.forEach(g=>{if(!o.has(g)){let y=pM(t.get(g),r.get(g));y!==null&&p.set(g,y),o=o.add(g)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return x.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):v4(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):x.resolve(ao()),a=au,u=o;return s.next(l=>x.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?x.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,ce())).next(h=>({batchId:a,changes:aM(h)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new G(t)).next(r=>{let i=nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=nu();return this.indexManager.getCollectionParents(e,o).next(a=>x.forEach(a,u=>{let l=function(p,g){return new Hs(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,g)=>{s=s.insert(p,g)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,ln.newInvalidDocument(h)))});let a=nu();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&su(h.mutation,l,Gt.empty(),it.now()),sp(t,l)&&(a=a.insert(u,l))}),a})}};var QE=class{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return x.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:On(i.createTime)}}(t)),x.resolve()}getNamedQuery(e,t){return x.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(i){return{name:i.name,query:J4(i.bundledQuery),readTime:On(i.readTime)}}(t)),x.resolve()}};var YE=class{constructor(){this.overlays=new xe(G.comparator),this.Qr=new Map}getOverlay(e,t){return x.resolve(this.overlays.get(t))}getOverlays(e,t){let r=ao();return x.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),x.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Qr.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Qr.delete(r)),x.resolve()}getOverlaysForCollection(e,t,r){let i=ao(),o=t.length+1,s=new G(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!t.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return x.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new xe((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===t&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=ao(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=ao(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return x.resolve(a)}St(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new ME(t,r));let o=this.Qr.get(t);o===void 0&&(o=ce(),this.Qr.set(t,o)),this.Qr.set(t,o.add(r.key))}};var JE=class{constructor(){this.sessionToken=ft.EMPTY_BYTE_STRING}getSessionToken(e){return x.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,x.resolve()}};var gu=class{constructor(){this.$r=new Ze(Be.Ur),this.Kr=new Ze(Be.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){let r=new Be(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Be(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){let t=new G(new Pe([])),r=new Be(t,e),i=new Be(t,e+1),o=[];return this.Kr.forEachInRange([r,i],s=>{this.zr(s),o.push(s.key)}),o}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){let t=new G(new Pe([])),r=new Be(t,e),i=new Be(t,e+1),o=ce();return this.Kr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new Be(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Be=class{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return G.comparator(e.key,t.key)||oe(e.Zr,t.Zr)}static Wr(e,t){return oe(e.Zr,t.Zr)||G.comparator(e.key,t.key)}};var ZE=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Ze(Be.Ur)}checkEmpty(e){return x.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new RE(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.Xr=this.Xr.add(new Be(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return x.resolve(s)}lookupMutationBatch(e,t){return x.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.ti(r),o=i<0?0:i;return x.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return x.resolve(this.mutationQueue.length===0?$I:this.nr-1)}getAllMutationBatches(e){return x.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Be(t,0),i=new Be(t,Number.POSITIVE_INFINITY),o=[];return this.Xr.forEachInRange([r,i],s=>{let a=this.ei(s.Zr);o.push(a)}),x.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ze(oe);return t.forEach(i=>{let o=new Be(i,0),s=new Be(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([o,s],a=>{r=r.add(a.Zr)})}),x.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new Be(new G(o),0),a=new Ze(oe);return this.Xr.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.Zr)),!0)},s),x.resolve(this.ni(a))}ni(e){let t=[];return e.forEach(r=>{let i=this.ei(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){ve(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return x.forEach(t.mutations,i=>{let o=new Be(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){let r=new Be(t,0),i=this.Xr.firstAfterOrEqual(r);return x.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,x.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){let t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var XE=class{constructor(e){this.ii=e,this.docs=function(){return new xe(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return x.resolve(r?r.document.mutableCopy():ln.newInvalidDocument(t))}getEntries(e,t){let r=vr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():ln.newInvalidDocument(i))}),x.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=vr(),s=t.path,a=new G(s.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||ZH(JH(h),r)<=0||(i.has(h.key)||sp(t,h))&&(o=o.insert(h.key,h.mutableCopy()))}return x.resolve(o)}getAllFromCollectionGroup(e,t,r,i){q(9500)}si(e,t){return x.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new eI(this)}getSize(e){return x.resolve(this.size)}},eI=class extends GE{constructor(e){super(),this.Br=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),x.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}};var tI=class{constructor(e){this.persistence=e,this.oi=new yr(t=>WI(t),KI),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this._i=0,this.ai=new gu,this.targetCount=0,this.ui=pu.cr()}forEachTarget(e,t){return this.oi.forEach((r,i)=>t(i)),x.resolve()}getLastRemoteSnapshotVersion(e){return x.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return x.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),x.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),x.resolve()}Tr(e){this.oi.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ui=new pu(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,x.resolve()}updateTargetData(e,t){return this.Tr(t),x.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,x.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.oi.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.oi.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),x.waitFor(o).next(()=>i)}getTargetCount(e){return x.resolve(this.targetCount)}getTargetData(e,t){let r=this.oi.get(t)||null;return x.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),x.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),x.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),x.resolve()}getMatchingKeysForTargetId(e,t){let r=this.ai.Yr(t);return x.resolve(r)}containsKey(e,t){return x.resolve(this.ai.containsKey(t))}};var kf=class{constructor(e,t){this.ci={},this.overlays={},this.li=new BI(0),this.hi=!1,this.hi=!0,this.Pi=new JE,this.referenceDelegate=e(this),this.Ti=new tI(this),this.indexManager=new BE,this.remoteDocumentCache=function(i){return new XE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new UE(t),this.Ei=new QE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new YE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new ZE(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){V("MemoryPersistence","Starting transaction:",e);let i=new nI(this.li.next());return this.referenceDelegate.di(),r(i).next(o=>this.referenceDelegate.Ai(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ri(e,t){return x.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}},nI=class extends hE{constructor(e){super(),this.currentSequenceNumber=e}},rI=class n{constructor(e){this.persistence=e,this.Vi=new gu,this.mi=null}static fi(e){return new n(e)}get gi(){if(this.mi)return this.mi;throw q(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),x.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),x.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),x.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(i=>this.gi.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.gi.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return x.forEach(this.gi,r=>{let i=G.fromPath(r);return this.pi(e,i).next(o=>{o||t.removeEntry(i,ee.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return x.or([()=>x.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}},Of=class n{constructor(e,t){this.persistence=e,this.yi=new yr(r=>n4(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=X4(this,t)}static fi(e,t){return new n(e,t)}di(){}Ai(e){return x.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){let t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return x.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(o=>o?x.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0,i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.si(e,s=>this.Dr(e,s,t).next(a=>{a||(r++,o.removeEntry(s,ee.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),x.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),x.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=mf(e.data.value)),t}Dr(e,t,r){return x.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let i=this.yi.get(t);return x.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var iI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ds=r,this.As=i}static Rs(e,t){let r=ce(),i=ce();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var oI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var sI=class{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return d0()?8:e4(Ye())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.ws(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.bs(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new oI;return this.Ss(e,t,s).next(a=>{if(o.result=a,this.fs)return this.Ds(e,t,s,a.size)})}).next(()=>o.result)}Ds(e,t,r,i){return r.documentReadCount<this.gs?(Rs()<=se.DEBUG&&V("QueryEngine","SDK will not create cache indexes for query:",Ns(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),x.resolve()):(Rs()<=se.DEBUG&&V("QueryEngine","Query:",Ns(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(Rs()<=se.DEBUG&&V("QueryEngine","The SDK decides to create cache indexes for query:",Ns(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,xn(t))):x.resolve())}ws(e,t){if(XR(t))return x.resolve(null);let r=xn(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=CE(t,null,"F"),r=xn(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=ce(...o);return this.ys.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.vs(t,a);return this.Cs(t,l,s,u.readTime)?this.ws(e,CE(t,null,"F")):this.Fs(e,l,t,u)}))})))}bs(e,t,r,i){return XR(t)||i.isEqual(ee.min())?x.resolve(null):this.ys.getDocuments(e,r).next(o=>{let s=this.vs(t,o);return this.Cs(t,s,r,i)?x.resolve(null):(Rs()<=se.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ns(t)),this.Fs(e,s,t,YH(i,au)).next(a=>a))})}vs(e,t){let r=new Ze(oM(e));return t.forEach((i,o)=>{sp(e,o)&&(r=r.add(o))}),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return Rs()<=se.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",Ns(t)),this.ys.getDocumentsMatchingQuery(e,t,ho.min(),r)}Fs(e,t,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var JI="LocalStore",ez=3e8,aI=class{constructor(e,t,r,i){this.persistence=e,this.Ms=t,this.serializer=i,this.xs=new xe(oe),this.Os=new yr(o=>WI(o),KI),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new KE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}};function tz(n,e,t,r){return new aI(n,e,t,r)}function bM(n,e){return _(this,null,function*(){let t=J(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=ce();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return t.localDocuments.getDocuments(r,u).next(l=>({ks:l,removedBatchIds:s,addedBatchIds:a}))})})})}function nz(n,e){let t=J(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.Bs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,g=p.keys(),y=x.resolve();return g.forEach(C=>{y=y.next(()=>h.getEntry(u,C)).next(N=>{let R=l.docVersions.get(C);ve(R!==null,48541),N.version.compareTo(R)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),y.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=ce();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function CM(n){let e=J(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function rz(n,e){let t=J(n),r=e.snapshotVersion,i=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.Bs.newChangeBuffer({trackRemovals:!0});i=t.xs;let a=[];e.targetChanges.forEach((h,p)=>{let g=i.get(p);if(!g)return;a.push(t.Ti.removeMatchingKeys(o,h.removedDocuments,p).next(()=>t.Ti.addMatchingKeys(o,h.addedDocuments,p)));let y=g.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?y=y.withResumeToken(ft.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):h.resumeToken.approximateByteSize()>0&&(y=y.withResumeToken(h.resumeToken,r)),i=i.insert(p,y),function(N,R,k){return N.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=ez?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0}(g,y,h)&&a.push(t.Ti.updateTargetData(o,y))});let u=vr(),l=ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(iz(o,s,e.documentUpdates).next(h=>{u=h.qs,l=h.Qs})),!r.isEqual(ee.min())){let h=t.Ti.getLastRemoteSnapshotVersion(o).next(p=>t.Ti.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return x.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(t.xs=i,o))}function iz(n,e,t){let r=ce(),i=ce();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=vr();return t.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ee.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):V(JI,"Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{qs:s,Qs:i}})}function oz(n,e){let t=J(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=$I),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function sz(n,e){let t=J(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ti.getTargetData(r,e).next(o=>o?(i=o,x.resolve(i)):t.Ti.allocateTargetId(r).next(s=>(i=new fu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.xs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}function cI(n,e,t){return _(this,null,function*(){let r=J(n),i=r.xs.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Xs(s))throw s;V(JI,`Failed to update sequence numbers for target ${e}: ${s}`)}r.xs=r.xs.remove(e),r.Os.delete(i.target)})}function hN(n,e,t){let r=J(n),i=ee.min(),o=ce();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=J(u),g=p.Os.get(h);return g!==void 0?x.resolve(p.xs.get(g)):p.Ti.getTargetData(l,h)}(r,s,xn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.Ms.getDocumentsMatchingQuery(s,e,t?i:ee.min(),t?o:ce())).next(a=>(az(r,E4(e),a),{documents:a,$s:o})))}function az(n,e,t){let r=n.Ns.get(e)||ee.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Ns.set(e,r)}var Lf=class{constructor(){this.activeTargetIds=C4()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var uI=class{constructor(){this.xo=new Lf,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Lf,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var lI=class{No(e){}shutdown(){}};var fN="ConnectivityMonitor",Ff=class{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){V(fN,"Network connectivity changed: AVAILABLE");for(let e of this.Qo)e(0)}qo(){V(fN,"Network connectivity changed: UNAVAILABLE");for(let e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var gf=null;function dI(){return gf===null?gf=function(){return 268435456+Math.round(2147483648*Math.random())}():gf++,"0x"+gf.toString(16)}var tE="RestConnection",cz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},hI=class{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,t,r,i,o){let s=dI(),a=this.jo(e,t.toUriEncodedString());V(tE,`Sending RPC '${e}' ${s}:`,a,r);let u={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(u,i,o);let{host:l}=new URL(a),h=Qr(l);return this.Jo(e,a,u,r,h).then(p=>(V(tE,`Received RPC '${e}' ${s}: `,p),p),p=>{throw Ls(tE,`RPC '${e}' ${s} failed with error: `,p,"url: ",a,"request:",r),p})}Yo(e,t,r,i,o,s){return this.zo(e,t,r,i,o)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}jo(e,t){let r=cz[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}};var fI=class{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}};var ht="WebChannelConnection",pI=class extends hI{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){let s=dI();return new Promise((a,u)=>{let l=new Q_;l.setWithCredentials(!0),l.listenOnce(Y_.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tu.NO_ERROR:let p=l.getResponseJson();V(ht,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),a(p);break;case tu.TIMEOUT:V(ht,`RPC '${e}' ${s} timed out`),u(new $(P.DEADLINE_EXCEEDED,"Request time out"));break;case tu.HTTP_ERROR:let g=l.getStatus();if(V(ht,`RPC '${e}' ${s} failed with status:`,g,"response text:",l.getResponseText()),g>0){let y=l.getResponseJson();Array.isArray(y)&&(y=y[0]);let C=y?.error;if(C&&C.status&&C.message){let N=function(k){let W=k.toLowerCase().replace(/_/g,"-");return Object.values(P).indexOf(W)>=0?W:P.UNKNOWN}(C.status);u(new $(N,C.message))}else u(new $(P.UNKNOWN,"Server responded with status "+l.getStatus()))}else u(new $(P.UNAVAILABLE,"Connection failed."));break;default:q(9055,{h_:e,streamId:s,P_:l.getLastErrorCode(),T_:l.getLastError()})}}finally{V(ht,`RPC '${e}' ${s} completed.`)}});let h=JSON.stringify(i);V(ht,`RPC '${e}' ${s} sending request:`,i),l.send(t,"POST",h,r,15)})}I_(e,t,r){let i=dI(),o=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=X_(),a=Z_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Ho(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let h=o.join("");V(ht,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u);this.E_(p);let g=!1,y=!1,C=new fI({Zo:R=>{y?V(ht,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(g||(V(ht,`Opening RPC '${e}' stream ${i} transport.`),p.open(),g=!0),V(ht,`RPC '${e}' stream ${i} sending:`,R),p.send(R))},Xo:()=>p.close()}),N=(R,k,W)=>{R.listen(k,B=>{try{W(B)}catch(pe){setTimeout(()=>{throw pe},0)}})};return N(p,As.EventType.OPEN,()=>{y||(V(ht,`RPC '${e}' stream ${i} transport opened.`),C.__())}),N(p,As.EventType.CLOSE,()=>{y||(y=!0,V(ht,`RPC '${e}' stream ${i} transport closed`),C.u_(),this.d_(p))}),N(p,As.EventType.ERROR,R=>{y||(y=!0,Ls(ht,`RPC '${e}' stream ${i} transport errored. Name:`,R.name,"Message:",R.message),C.u_(new $(P.UNAVAILABLE,"The operation could not be completed")))}),N(p,As.EventType.MESSAGE,R=>{var k;if(!y){let W=R.data[0];ve(!!W,16349);let B=W,pe=B?.error||((k=B[0])===null||k===void 0?void 0:k.error);if(pe){V(ht,`RPC '${e}' stream ${i} received error:`,pe);let Xe=pe.status,ge=function(I){let w=Ue[I];if(w!==void 0)return mM(w)}(Xe),T=pe.message;ge===void 0&&(ge=P.INTERNAL,T="Unknown error status: "+Xe+" with message "+pe.message),y=!0,C.u_(new $(ge,T)),p.close()}else V(ht,`RPC '${e}' stream ${i} received:`,W),C.c_(W)}}),N(a,J_.STAT_EVENT,R=>{R.stat===hf.PROXY?V(ht,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===hf.NOPROXY&&V(ht,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}};function nE(){return typeof document<"u"?document:null}function ap(n){return new OE(n,!0)}var Vf=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=i,this.V_=o,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();let t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),i=Math.max(0,t-r);i>0&&V("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}};var pN="PersistentStream",jf=class{constructor(e,t,r,i,o,s,a,u){this.xi=e,this.S_=r,this.D_=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new Vf(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}stop(){return _(this,null,function*(){this.O_()&&(yield this.close(0))})}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}q_(){return _(this,null,function*(){if(this.N_())return this.close(0)})}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}close(e,t){return _(this,null,function*(){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===P.RESOURCE_EXHAUSTED?(pr(t.toString()),pr("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===P.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.i_(t)})}W_(){}auth(){this.state=1;let e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.v_===t&&this.z_(r,i)},r=>{e(()=>{let i=new $(P.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(i)})})}z_(e,t){let r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.j_(i))}),this.stream.onMessage(i=>{r(()=>++this.M_==1?this.J_(i):this.onNext(i))})}B_(){this.state=5,this.x_.y_(()=>_(this,null,function*(){this.state=0,this.start()}))}j_(e){return V(pN,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(V(pN,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},gI=class extends jf{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();let t=U4(this.serializer,e),r=function(o){if(!("targetChange"in o))return ee.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ee.min():s.readTime?On(s.readTime):ee.min()}(e);return this.listener.Y_(t,r)}Z_(e){let t={};t.database=jE(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=bE(u)?{documents:H4(o,u)}:{query:z4(o,u).gt},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=yM(o,s.resumeToken);let l=LE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ee.min())>0){a.readTime=Pf(o,s.snapshotVersion.toTimestamp());let l=LE(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=G4(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){let t={};t.database=jE(this.serializer),t.removeTarget=e,this.Q_(t)}},mI=class extends jf{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();let t=$4(e.writeResults,e.commitTime),r=On(e.commitTime);return this.listener.ra(r,t)}ia(){let e={};e.database=jE(this.serializer),this.Q_(e)}ta(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>B4(this.serializer,r))};this.Q_(t)}};var yI=class{},vI=class extends yI{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.sa=!1}oa(){if(this.sa)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,i){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.zo(e,FE(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new $(P.UNKNOWN,o.toString())})}Yo(e,t,r,i,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Yo(e,FE(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===P.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new $(P.UNKNOWN,s.toString())})}terminate(){this.sa=!0,this.connection.terminate()}},_I=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(pr(t),this.ua=!1):V("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}};var mo="RemoteStore",EI=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=o,this.Ra.No(s=>{r.enqueueAndForget(()=>_(this,null,function*(){yo(this)&&(V(mo,"Restarting streams for network reachability change."),yield function(u){return _(this,null,function*(){let l=J(u);l.da.add(4),yield Eu(l),l.Va.set("Unknown"),l.da.delete(4),yield cp(l)})}(this))}))}),this.Va=new _I(r,i)}};function cp(n){return _(this,null,function*(){if(yo(n))for(let e of n.Aa)yield e(!0)})}function Eu(n){return _(this,null,function*(){for(let e of n.Aa)yield e(!1)})}function SM(n,e){let t=J(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),tw(t)?ew(t):ea(t).N_()&&XI(t,e))}function ZI(n,e){let t=J(n),r=ea(t);t.Ea.delete(e),r.N_()&&AM(t,e),t.Ea.size===0&&(r.N_()?r.k_():yo(t)&&t.Va.set("Unknown"))}function XI(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ee.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).Z_(e)}function AM(n,e){n.ma.Ke(e),ea(n).X_(e)}function ew(n){n.ma=new kE({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.Va.ca()}function tw(n){return yo(n)&&!ea(n).O_()&&n.Ea.size>0}function yo(n){return J(n).da.size===0}function RM(n){n.ma=void 0}function uz(n){return _(this,null,function*(){n.Va.set("Online")})}function lz(n){return _(this,null,function*(){n.Ea.forEach((e,t)=>{XI(n,e)})})}function dz(n,e){return _(this,null,function*(){RM(n),tw(n)?(n.Va.Pa(e),ew(n)):n.Va.set("Unknown")})}function hz(n,e,t){return _(this,null,function*(){if(n.Va.set("Online"),e instanceof Nf&&e.state===2&&e.cause)try{yield function(i,o){return _(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.Ea.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.Ea.delete(a),i.ma.removeTarget(a))})}(n,e)}catch(r){V(mo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Uf(n,r)}else if(e instanceof ks?n.ma.Xe(e):e instanceof Rf?n.ma.ot(e):n.ma.nt(e),!t.isEqual(ee.min()))try{let r=yield CM(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.ma.It(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.Ea.get(l);h&&o.Ea.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.Ea.get(u);if(!h)return;o.Ea.set(u,h.withResumeToken(ft.EMPTY_BYTE_STRING,h.snapshotVersion)),AM(o,u);let p=new fu(h.target,u,l,h.sequenceNumber);XI(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){V(mo,"Failed to raise snapshot:",r),yield Uf(n,r)}})}function Uf(n,e,t){return _(this,null,function*(){if(!Xs(e))throw e;n.da.add(1),yield Eu(n),n.Va.set("Offline"),t||(t=()=>CM(n.localStore)),n.asyncQueue.enqueueRetryable(()=>_(null,null,function*(){V(mo,"Retrying IndexedDB access"),yield t(),n.da.delete(1),yield cp(n)}))})}function NM(n,e){return e().catch(t=>Uf(n,t,e))}function up(n){return _(this,null,function*(){let e=J(n),t=ci(e),r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:$I;for(;fz(e);)try{let i=yield oz(e.localStore,r);if(i===null){e.Ia.length===0&&t.k_();break}r=i.batchId,pz(e,i)}catch(i){yield Uf(e,i)}MM(e)&&PM(e)})}function fz(n){return yo(n)&&n.Ia.length<10}function pz(n,e){n.Ia.push(e);let t=ci(n);t.N_()&&t.ea&&t.ta(e.mutations)}function MM(n){return yo(n)&&!ci(n).O_()&&n.Ia.length>0}function PM(n){ci(n).start()}function gz(n){return _(this,null,function*(){ci(n).ia()})}function mz(n){return _(this,null,function*(){let e=ci(n);for(let t of n.Ia)e.ta(t.mutations)})}function yz(n,e,t){return _(this,null,function*(){let r=n.Ia.shift(),i=NE.from(r,e,t);yield NM(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield up(n)})}function vz(n,e){return _(this,null,function*(){e&&ci(n).ea&&(yield function(r,i){return _(this,null,function*(){if(function(s){return x4(s)&&s!==P.ABORTED}(i.code)){let o=r.Ia.shift();ci(r).L_(),yield NM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield up(r)}})}(n,e)),MM(n)&&PM(n)})}function gN(n,e){return _(this,null,function*(){let t=J(n);t.asyncQueue.verifyOperationInProgress(),V(mo,"RemoteStore received new credentials");let r=yo(t);t.da.add(3),yield Eu(t),r&&t.Va.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),yield cp(t)})}function _z(n,e){return _(this,null,function*(){let t=J(n);e?(t.da.delete(2),yield cp(t)):e||(t.da.add(2),yield Eu(t),t.Va.set("Unknown"))})}function ea(n){return n.fa||(n.fa=function(t,r,i){let o=J(t);return o.oa(),new gI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:uz.bind(null,n),n_:lz.bind(null,n),i_:dz.bind(null,n),Y_:hz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.fa.L_(),tw(n)?ew(n):n.Va.set("Unknown")):(yield n.fa.stop(),RM(n))}))),n.fa}function ci(n){return n.ga||(n.ga=function(t,r,i){let o=J(t);return o.oa(),new mI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:gz.bind(null,n),i_:vz.bind(null,n),na:mz.bind(null,n),ra:yz.bind(null,n)}),n.Aa.push(e=>_(null,null,function*(){e?(n.ga.L_(),yield up(n)):(yield n.ga.stop(),n.Ia.length>0&&(V(mo,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))}))),n.ga}var II=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Mn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new $(P.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nw(n,e){if(pr("AsyncQueue",`${e}: ${n}`),Xs(n))return new $(P.UNAVAILABLE,`${e}: ${n}`);throw n}var Bf=class n{static emptySet(e){return new n(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||G.comparator(t.key,r.key):(t,r)=>G.comparator(t.key,r.key),this.keyedMap=nu(),this.sortedSet=new xe(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var $f=class{constructor(){this.pa=new xe(G.comparator)}track(e){let t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):q(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){let e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}},Ks=class n{constructor(e,t,r,i,o,s,a,u,l){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Bf.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&op(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var wI=class{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}},TI=class{constructor(){this.queries=mN(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){let i=J(t),o=i.queries;i.queries=mN(),o.forEach((s,a)=>{for(let u of a.Sa)u.onError(r)})})(this,new $(P.ABORTED,"Firestore shutting down"))}};function mN(){return new yr(n=>iM(n),op)}function xM(n,e){return _(this,null,function*(){let t=J(n),r=3,i=e.query,o=t.queries.get(i);o?!o.Da()&&e.va()&&(r=2):(o=new wI,r=e.va()?0:1);try{switch(r){case 0:o.ba=yield t.onListen(i,!0);break;case 1:o.ba=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=nw(s,`Initialization of query '${Ns(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.Sa.push(e),e.Fa(t.onlineState),o.ba&&e.Ma(o.ba)&&rw(t)})}function kM(n,e){return _(this,null,function*(){let t=J(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.Sa.indexOf(e);s>=0&&(o.Sa.splice(s,1),o.Sa.length===0?i=e.va()?0:1:!o.Da()&&e.va()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function Ez(n,e){let t=J(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.Sa)a.Ma(i)&&(r=!0);s.ba=i}}r&&rw(t)}function Iz(n,e,t){let r=J(n),i=r.queries.get(e);if(i)for(let o of i.Sa)o.onError(t);r.queries.delete(e)}function rw(n){n.Ca.forEach(e=>{e.next()})}var DI,yN;(yN=DI||(DI={})).xa="default",yN.Cache="cache";var Hf=class{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ks(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;let r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;let t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=Ks.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==DI.Cache}};var zf=class{constructor(e){this.key=e}},qf=class{constructor(e){this.key=e}},bI=class{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ce(),this.mutatedKeys=ce(),this.Za=oM(e),this.Xa=new Bf(this.Za)}get eu(){return this.Ha}tu(e,t){let r=t?t.nu:new $f,i=t?t.Xa:this.Xa,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let g=i.get(h),y=sp(this.query,p)?p:null,C=!!g&&this.mutatedKeys.has(g.key),N=!!y&&(y.hasLocalMutations||this.mutatedKeys.has(y.key)&&y.hasCommittedMutations),R=!1;g&&y?g.data.isEqual(y.data)?C!==N&&(r.track({type:3,doc:y}),R=!0):this.ru(g,y)||(r.track({type:2,doc:y}),R=!0,(u&&this.Za(y,u)>0||l&&this.Za(y,l)<0)&&(a=!0)):!g&&y?(r.track({type:0,doc:y}),R=!0):g&&!y&&(r.track({type:1,doc:g}),R=!0,(u||l)&&(a=!0)),R&&(y?(s=s.add(y),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Xa:s,nu:r,Cs:a,mutatedKeys:o}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;let s=e.nu.wa();s.sort((h,p)=>function(y,C){let N=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return q(20277,{Vt:R})}};return N(y)-N(C)}(h.type,p.type)||this.Za(h.doc,p.doc)),this.iu(r),i=i!=null&&i;let a=t&&!i?this.su():[],u=this.Ya.size===0&&this.current&&!i?1:0,l=u!==this.Ja;return this.Ja=u,s.length!==0||l?{snapshot:new Ks(this.query,e.Xa,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:a}:{ou:a}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new $f,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];let e=this.Ya;this.Ya=ce(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});let t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new qf(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new zf(r))}),t}au(e){this.Ha=e.$s,this.Ya=ce();let t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return Ks.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}},iw="SyncEngine",CI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},SI=class{constructor(e){this.key=e,this.cu=!1}},AI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.lu={},this.hu=new yr(a=>iM(a),op),this.Pu=new Map,this.Tu=new Set,this.Iu=new xe(G.comparator),this.Eu=new Map,this.du=new gu,this.Au={},this.Ru=new Map,this.Vu=pu.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}};function wz(n,e,t=!0){return _(this,null,function*(){let r=UM(n),i,o=r.hu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.uu()):i=yield OM(r,e,t,!0),i})}function Tz(n,e){return _(this,null,function*(){let t=UM(n);yield OM(t,e,!0,!1)})}function OM(n,e,t,r){return _(this,null,function*(){let i=yield sz(n.localStore,xn(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield Dz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&SM(n.remoteStore,i),a})}function Dz(n,e,t,r,i){return _(this,null,function*(){n.fu=(p,g,y)=>function(N,R,k,W){return _(this,null,function*(){let B=R.view.tu(k);B.Cs&&(B=yield hN(N.localStore,R.query,!1).then(({documents:T})=>R.view.tu(T,B)));let pe=W&&W.targetChanges.get(R.targetId),Xe=W&&W.targetMismatches.get(R.targetId)!=null,ge=R.view.applyChanges(B,N.isPrimaryClient,pe,Xe);return _N(N,R.targetId,ge.ou),ge.snapshot})}(n,p,g,y);let o=yield hN(n.localStore,e,!0),s=new bI(e,o.$s),a=s.tu(o.documents),u=hu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),l=s.applyChanges(a,n.isPrimaryClient,u);_N(n,t,l.ou);let h=new CI(e,t,s);return n.hu.set(e,h),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),l.snapshot})}function bz(n,e,t){return _(this,null,function*(){let r=J(n),i=r.hu.get(e),o=r.Pu.get(i.targetId);if(o.length>1)return r.Pu.set(i.targetId,o.filter(s=>!op(s,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield cI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&ZI(r.remoteStore,i.targetId),RI(r,i.targetId)}).catch(Zs))):(RI(r,i.targetId),yield cI(r.localStore,i.targetId,!0))})}function Cz(n,e){return _(this,null,function*(){let t=J(n),r=t.hu.get(e),i=t.Pu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(t.remoteStore,r.targetId))})}function Sz(n,e,t){return _(this,null,function*(){let r=kz(n);try{let i=yield function(s,a){let u=J(s),l=it.now(),h=a.reduce((y,C)=>y.add(C.key),ce()),p,g;return u.persistence.runTransaction("Locally write mutations","readwrite",y=>{let C=vr(),N=ce();return u.Bs.getEntries(y,h).next(R=>{C=R,C.forEach((k,W)=>{W.isValidDocument()||(N=N.add(k))})}).next(()=>u.localDocuments.getOverlayedDocuments(y,C)).next(R=>{p=R;let k=[];for(let W of a){let B=P4(W,p.get(W.key).overlayedDocument);B!=null&&k.push(new Vn(W.key,B,ZN(B.value.mapValue),kn.exists(!0)))}return u.mutationQueue.addMutationBatch(y,l,k,a)}).next(R=>{g=R;let k=R.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(y,R.batchId,k)})}).then(()=>({batchId:g.batchId,changes:aM(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Au[s.currentUser.toKey()];l||(l=new xe(oe)),l=l.insert(a,u),s.Au[s.currentUser.toKey()]=l}(r,i.batchId,t),yield Iu(r,i.changes),yield up(r.remoteStore)}catch(i){let o=nw(i,"Failed to persist write");t.reject(o)}})}function LM(n,e){return _(this,null,function*(){let t=J(n);try{let r=yield rz(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Eu.get(o);s&&(ve(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.cu=!0:i.modifiedDocuments.size>0?ve(s.cu,14607):i.removedDocuments.size>0&&(ve(s.cu,42227),s.cu=!1))}),yield Iu(t,r,e)}catch(r){yield Zs(r)}})}function vN(n,e,t){let r=J(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.hu.forEach((o,s)=>{let a=s.view.Fa(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=J(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let g of p.Sa)g.Fa(a)&&(l=!0)}),l&&rw(u)}(r.eventManager,e),i.length&&r.lu.Y_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Az(n,e,t){return _(this,null,function*(){let r=J(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Eu.get(e),o=i&&i.key;if(o){let s=new xe(G.comparator);s=s.insert(o,ln.newNoDocument(o,ee.min()));let a=ce().add(o),u=new Af(ee.min(),new Map,new xe(oe),s,a);yield LM(r,u),r.Iu=r.Iu.remove(o),r.Eu.delete(e),ow(r)}else yield cI(r.localStore,e,!1).then(()=>RI(r,e,t)).catch(Zs)})}function Rz(n,e){return _(this,null,function*(){let t=J(n),r=e.batch.batchId;try{let i=yield nz(t.localStore,e);VM(t,r,null),FM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Iu(t,i)}catch(i){yield Zs(i)}})}function Nz(n,e,t){return _(this,null,function*(){let r=J(n);try{let i=yield function(s,a){let u=J(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(ve(p!==null,37113),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);VM(r,e,t),FM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Iu(r,i)}catch(i){yield Zs(i)}})}function FM(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function VM(n,e,t){let r=J(n),i=r.Au[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Au[r.currentUser.toKey()]=i}}function RI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||jM(n,r)})}function jM(n,e){n.Tu.delete(e.path.canonicalString());let t=n.Iu.get(e);t!==null&&(ZI(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),ow(n))}function _N(n,e,t){for(let r of t)r instanceof zf?(n.du.addReference(r.key,e),Mz(n,r)):r instanceof qf?(V(iw,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||jM(n,r.key)):q(19791,{pu:r})}function Mz(n,e){let t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(V(iw,"New document in limbo: "+t),n.Tu.add(r),ow(n))}function ow(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){let e=n.Tu.values().next().value;n.Tu.delete(e);let t=new G(Pe.fromString(e)),r=n.Vu.next();n.Eu.set(r,new SI(t)),n.Iu=n.Iu.insert(t,r),SM(n.remoteStore,new fu(xn(ip(t.path)),r,"TargetPurposeLimboResolution",BI.le))}}function Iu(n,e,t){return _(this,null,function*(){let r=J(n),i=[],o=[],s=[];r.hu.isEmpty()||(r.hu.forEach((a,u)=>{s.push(r.fu(u,e,t).then(l=>{var h;if((l||t)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=t?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=iI.Rs(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.lu.Y_(i),yield function(u,l){return _(this,null,function*(){let h=J(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>x.forEach(l,g=>x.forEach(g.ds,y=>h.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>x.forEach(g.As,y=>h.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!Xs(p))throw p;V(JI,"Failed to update sequence numbers: "+p)}for(let p of l){let g=p.targetId;if(!p.fromCache){let y=h.xs.get(g),C=y.snapshotVersion,N=y.withLastLimboFreeSnapshotVersion(C);h.xs=h.xs.insert(g,N)}}})}(r.localStore,o))})}function Pz(n,e){return _(this,null,function*(){let t=J(n);if(!t.currentUser.isEqual(e)){V(iw,"User change. New user:",e.toKey());let r=yield bM(t.localStore,e);t.currentUser=e,function(o,s){o.Ru.forEach(a=>{a.forEach(u=>{u.reject(new $(P.CANCELLED,s))})}),o.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Iu(t,r.ks)}})}function xz(n,e){let t=J(n),r=t.Eu.get(e);if(r&&r.cu)return ce().add(r.key);{let i=ce(),o=t.Pu.get(e);if(!o)return i;for(let s of o){let a=t.hu.get(s);i=i.unionWith(a.view.eu)}return i}}function UM(n){let e=J(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=LM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=xz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Az.bind(null,e),e.lu.Y_=Ez.bind(null,e.eventManager),e.lu.gu=Iz.bind(null,e.eventManager),e}function kz(n){let e=J(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Rz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Nz.bind(null,e),e}var BM=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return _(this,null,function*(){this.serializer=ap(t.databaseInfo.databaseId),this.sharedClientState=this.bu(t),this.persistence=this.Su(t),yield this.persistence.start(),this.localStore=this.Du(t),this.gcScheduler=this.vu(t,this.localStore),this.indexBackfillerScheduler=this.Cu(t,this.localStore)})}vu(t,r){return null}Cu(t,r){return null}Du(t){return tz(this.persistence,new sI,t.initialUser,this.serializer)}Su(t){return new kf(rI.fi,this.serializer)}bu(t){return new uI}terminate(){return _(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})(),NI=class extends BM{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){ve(this.persistence.referenceDelegate instanceof Of,46915);let r=this.persistence.referenceDelegate.garbageCollector;return new zE(r,e.asyncQueue,t)}Su(e){let t=this.cacheSizeBytes!==void 0?qt.withCacheSize(this.cacheSizeBytes):qt.DEFAULT;return new kf(r=>Of.fi(r,t),this.serializer)}};var Oz=(()=>{class n{initialize(t,r){return _(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>vN(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Pz.bind(null,this.syncEngine),yield _z(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new TI}()}createDatastore(t){let r=ap(t.databaseInfo.databaseId),i=function(s){return new pI(s)}(t.databaseInfo);return function(s,a,u,l){return new vI(s,a,u,l)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new EI(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>vN(this.syncEngine,r,0),function(){return Ff.C()?new Ff:new lI}())}createSyncEngine(t,r){return function(o,s,a,u,l,h,p){let g=new AI(o,s,a,u,l,h);return p&&(g.mu=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return _(this,null,function*(){var t,r;yield function(o){return _(this,null,function*(){let s=J(o);V(mo,"RemoteStore shutting down."),s.da.add(5),yield Eu(s),s.Ra.shutdown(),s.Va.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Gf=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):pr("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var ui="FirestoreClient",MI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Je.UNAUTHENTICATED,this.clientId=If.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>_(this,null,function*(){V(ui,"Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(V(ui,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Mn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>_(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=nw(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function rE(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),V(ui,"Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>_(null,null,function*(){r.isEqual(i)||(yield bM(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function EN(n,e){return _(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Lz(n);V(ui,"Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>gN(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>gN(e.remoteStore,i)),n._onlineComponents=e})}function Lz(n){return _(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){V(ui,"Using user provided OfflineComponentProvider");try{yield rE(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===P.FAILED_PRECONDITION||i.code===P.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Ls("Error using user provided cache. Falling back to memory cache: "+t),yield rE(n,new BM)}}else V(ui,"Using default OfflineComponentProvider"),yield rE(n,new NI(void 0));return n._offlineComponents})}function $M(n){return _(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(V(ui,"Using user provided OnlineComponentProvider"),yield EN(n,n._uninitializedComponentsProvider._online)):(V(ui,"Using default OnlineComponentProvider"),yield EN(n,new Oz))),n._onlineComponents})}function Fz(n){return $M(n).then(e=>e.syncEngine)}function PI(n){return _(this,null,function*(){let e=yield $M(n),t=e.eventManager;return t.onListen=wz.bind(null,e.syncEngine),t.onUnlisten=bz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=Tz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=Cz.bind(null,e.syncEngine),t})}function Vz(n,e,t={}){let r=new Mn;return n.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return function(o,s,a,u,l){let h=new Gf({next:g=>{h.xu(),s.enqueueAndForget(()=>kM(o,p));let y=g.docs.has(a);!y&&g.fromCache?l.reject(new $(P.UNAVAILABLE,"Failed to get document because the client is offline.")):y&&g.fromCache&&u&&u.source==="server"?l.reject(new $(P.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(g)},error:g=>l.reject(g)}),p=new Hf(ip(a.path),h,{includeMetadataChanges:!0,Qa:!0});return xM(o,p)}(yield PI(n),n.asyncQueue,e,t,r)})),r.promise}function HM(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var IN=new Map;function zM(n,e,t){if(!t)throw new $(P.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function jz(n,e,t,r){if(e===!0&&r===!0)throw new $(P.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function wN(n){if(!G.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function TN(n){if(G.isDocumentKey(n))throw new $(P.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sw(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":q(12329,{type:typeof n})}function Wt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new $(P.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=sw(n);throw new $(P.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var qM="firestore.googleapis.com",DN=!0,Wf=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new $(P.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=qM,this.ssl=DN}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:DN;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=DM;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z4)throw new $(P.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}jz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new $(P.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Qs=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wf({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new $(P.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new $(P.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wf(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iE;switch(r.type){case"firstParty":return new cE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new $(P.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return _(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=IN.get(t);r&&(V("ComponentProvider","Removing Datastore"),IN.delete(t),r.terminate())}(this),Promise.resolve()}};function GM(n,e,t,r={}){var i;n=Wt(n,Qs);let o=Qr(e),s=n._getSettings(),a=Object.assign(Object.assign({},s),{emulatorOptions:n._getEmulatorOptions()}),u=`${e}:${t}`;o&&(Vh(`https://${u}`),jh("Firestore",!0)),s.host!==qM&&s.host!==u&&Ls("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");let l=Object.assign(Object.assign({},s),{host:u,ssl:o,emulatorOptions:r});if(!Cn(l,a)&&(n._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Je.MOCK_USER;else{h=o0(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new $(P.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Je(g)}n._authCredentials=new oE(new _f(h,p))}}var Kf=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},wt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},si=class n extends Kf{constructor(e,t,r){super(e,t,ip(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new wt(this.firestore,null,new G(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function WM(n,e,...t){if(n=Le(n),zM("collection","path",e),n instanceof Qs){let r=Pe.fromString(e,...t);return TN(r),new si(n,null,r)}{if(!(n instanceof wt||n instanceof si))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return TN(r),new si(n.firestore,null,r)}}function aw(n,e,...t){if(n=Le(n),arguments.length===1&&(e=If.newId()),zM("doc","path",e),n instanceof Qs){let r=Pe.fromString(e,...t);return wN(r),new wt(n,null,new G(r))}{if(!(n instanceof wt||n instanceof si))throw new $(P.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Pe.fromString(e,...t));return wN(r),new wt(n.firestore,n instanceof si?n.converter:null,new G(r))}}var bN="AsyncQueue",Qf=class{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new Vf(this,"async_queue_retry"),this.rc=()=>{let r=nE();r&&V(bN,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;let t=nE();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;let t=nE();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});let t=new Mn;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}ac(){return _(this,null,function*(){if(this.Ju.length!==0){try{yield this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Xs(e))throw e;V(bN,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}})}_c(e){let t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,pr("INTERNAL UNHANDLED ERROR: ",CN(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);let i=II.createAndSchedule(this,e,t,r,o=>this.uc(o));return this.Zu.push(i),i}oc(){this.Xu&&q(47125,{cc:CN(this.Xu)})}verifyOperationInProgress(){}lc(){return _(this,null,function*(){let e;do e=this.sc,yield e;while(e!==this.sc)})}hc(e){for(let t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){let t=this.Zu.indexOf(e);this.Zu.splice(t,1)}};function CN(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}function SN(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var jn=class extends Qs{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Qf,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return _(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Qf(e),this._firestoreClient=void 0,yield e}})}};function KM(n,e){let t=typeof n=="object"?n:eo(),r=typeof n=="string"?n:e||bf,i=Ts(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=i0("firestore");o&&GM(i,...o)}return i}function cw(n){if(n._terminated)throw new $(P.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Uz(n),n._firestoreClient}function Uz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,l,h){return new fE(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,HM(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new MI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var mu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(ft.fromBase64String(e))}catch(t){throw new $(P.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Ys=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new $(P.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var yu=class{constructor(e){this._methodName=e}};var vu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new $(P.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new $(P.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return oe(this._lat,e._lat)||oe(this._long,e._long)}};var _u=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Bz=/^__.*__$/,xI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Vn(e,this.data,this.fieldMask,t,this.fieldTransforms):new go(e,this.data,t,this.fieldTransforms)}},Yf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Vn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function QM(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw q(40011,{Ic:n})}}var kI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Ec(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Vc(e),i}mc(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.dc({path:r,Rc:!1});return i.Ec(),i}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Zf(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QM(this.Ic)&&Bz.test(e))throw this.gc('Document fields cannot begin and end with "__"')}},OI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ap(e)}bc(e,t,r,i=!1){return new kI({Ic:e,methodName:t,wc:r,path:jt.emptyPath(),Rc:!1,yc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function uw(n){let e=n._freezeSettings(),t=ap(n._databaseId);return new OI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function YM(n,e,t,r,i,o={}){let s=n.bc(o.merge||o.mergeFields?2:0,e,t,i);lw("Data must be an object, but it was:",s,r);let a=JM(r,s),u,l;if(o.merge)u=new Gt(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let g=LI(e,p,t);if(!s.contains(g))throw new $(P.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);XM(h,g)||h.push(g)}u=new Gt(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new xI(new Vt(a),u,l)}var Jf=class n extends yu{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function $z(n,e,t,r){let i=n.bc(1,e,t);lw("Data must be an object, but it was:",i,r);let o=[],s=Vt.empty();li(r,(u,l)=>{let h=dw(e,u,t);l=Le(l);let p=i.mc(h);if(l instanceof Jf)o.push(h);else{let g=lp(l,p);g!=null&&(o.push(h),s.set(h,g))}});let a=new Gt(o);return new Yf(s,a,i.fieldTransforms)}function Hz(n,e,t,r,i,o){let s=n.bc(1,e,t),a=[LI(e,r,t)],u=[i];if(o.length%2!=0)throw new $(P.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<o.length;g+=2)a.push(LI(e,o[g])),u.push(o[g+1]);let l=[],h=Vt.empty();for(let g=a.length-1;g>=0;--g)if(!XM(l,a[g])){let y=a[g],C=u[g];C=Le(C);let N=s.mc(y);if(C instanceof Jf)l.push(y);else{let R=lp(C,N);R!=null&&(l.push(y),h.set(y,R))}}let p=new Gt(l);return new Yf(h,p,s.fieldTransforms)}function lp(n,e){if(ZM(n=Le(n)))return lw("Unsupported field value:",e,n),JM(n,e);if(n instanceof yu)return function(r,i){if(!QM(i.Ic))throw i.gc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.gc(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=lp(a,i.fc(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Le(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return S4(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=it.fromDate(r);return{timestampValue:Pf(i.serializer,o)}}if(r instanceof it){let o=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pf(i.serializer,o)}}if(r instanceof vu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof mu)return{bytesValue:yM(i.serializer,r._byteString)};if(r instanceof wt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.gc(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof _u)return function(s,a){return{mapValue:{fields:{[zI]:{stringValue:qI},[Vs]:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.gc("VectorValues must only contain numeric values.");return QI(a.serializer,l)})}}}}}}(r,i);throw i.gc(`Unsupported field value: ${sw(r)}`)}(n,e)}function JM(n,e){let t={};return zN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):li(n,(r,i)=>{let o=lp(i,e.Ac(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function ZM(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof it||n instanceof vu||n instanceof mu||n instanceof wt||n instanceof yu||n instanceof _u)}function lw(n,e,t){if(!ZM(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=sw(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function LI(n,e,t){if((e=Le(e))instanceof Ys)return e._internalPath;if(typeof e=="string")return dw(n,e);throw Zf("Field path arguments must be of type string or ",n,!1,void 0,t)}var zz=new RegExp("[~\\*/\\[\\]]");function dw(n,e,t){if(e.search(zz)>=0)throw Zf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Ys(...e.split("."))._internalPath}catch{throw Zf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Zf(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new $(P.INVALID_ARGUMENT,a+n+u)}function XM(n,e){return n.some(t=>t.isEqual(e))}var Xf=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new FI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(eP("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},FI=class extends Xf{data(){return super.data()}};function eP(n,e){return typeof e=="string"?dw(n,e):e instanceof Ys?e._internalPath:e._delegate._internalPath}function qz(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new $(P.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var VI=class{convertValue(e,t="none"){switch(ai(e)){case 0:return null;case 1:return e.booleanValue;case 2:return De(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(mr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw q(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return li(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Vs].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>De(s.doubleValue));return new _u(o)}convertGeoPoint(e){return new vu(De(e.latitude),De(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=rp(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(uu(e));default:return null}}convertTimestamp(e){let t=gr(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Pe.fromString(e);ve(TM(r),9688,{name:e});let i=new Cf(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(t)||pr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function tP(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var uo=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},ep=class extends Xf{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(eP("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Os=class extends ep{data(e={}){return super.data(e)}},jI=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new uo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Os(this._firestore,this._userDataWriter,r.key,r,new uo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new $(P.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new uo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:Gz(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function Gz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return q(61501,{type:n})}}function nP(n){n=Wt(n,wt);let e=Wt(n.firestore,jn);return Vz(cw(e),n._key).then(t=>aP(e,n,t))}var tp=class extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new mu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new wt(this.firestore,null,t)}};function rP(n,e,t){n=Wt(n,wt);let r=Wt(n.firestore,jn),i=tP(n.converter,e,t);return dp(r,[YM(uw(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,kn.none())])}function iP(n,e,t,...r){n=Wt(n,wt);let i=Wt(n.firestore,jn),o=uw(i),s;return s=typeof(e=Le(e))=="string"||e instanceof Ys?Hz(o,"updateDoc",n._key,e,t,r):$z(o,"updateDoc",n._key,e),dp(i,[s.toMutation(n._key,kn.exists(!0))])}function oP(n){return dp(Wt(n.firestore,jn),[new du(n._key,kn.none())])}function sP(n,e){let t=Wt(n.firestore,jn),r=aw(n),i=tP(n.converter,e);return dp(t,[YM(uw(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,kn.exists(!1))]).then(()=>r)}function hw(n,...e){var t,r,i;n=Le(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||SN(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(SN(e[s])){let p=e[s];e[s]=(t=p.next)===null||t===void 0?void 0:t.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(n instanceof wt)l=Wt(n.firestore,jn),h=ip(n._key.path),u={next:p=>{e[s]&&e[s](aP(l,n,p))},error:e[s+1],complete:e[s+2]};else{let p=Wt(n,Kf);l=Wt(p.firestore,jn),h=p._query;let g=new tp(l);u={next:y=>{e[s]&&e[s](new jI(l,g,p,y))},error:e[s+1],complete:e[s+2]},qz(n._query)}return function(g,y,C,N){let R=new Gf(N),k=new Hf(y,R,C);return g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return xM(yield PI(g),k)})),()=>{R.xu(),g.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return kM(yield PI(g),k)}))}}(cw(l),h,a,u)}function dp(n,e){return function(r,i){let o=new Mn;return r.asyncQueue.enqueueAndForget(()=>_(null,null,function*(){return Sz(yield Fz(r),i,o)})),o.promise}(cw(n),e)}function aP(n,e,t){let r=t.docs.get(e._key),i=new tp(n);return new ep(n,i,e._key,r,new uo(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Js=i})(Jr),cn(new It("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new jn(new sE(r.getProvider("auth-internal")),new uE(s,r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new $(P.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Cf(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),Me(VR,jR,e),Me(VR,jR,"esm2017")})();var hp=function(){return hp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},hp.apply(this,arguments)};var Qz={includeMetadataChanges:!1};function fw(n,e){return e===void 0&&(e=Qz),new Y(function(t){var r=hw(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function cP(n){return fw(n,{includeMetadataChanges:!0})}function uP(n,e){return e===void 0&&(e={}),cP(n).pipe(X(function(t){return pw(t,e)}))}function pw(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:hp(hp({},r),(t={},t[e.idField]=n.id,t))}function lP(n){return fw(n,{includeMetadataChanges:!0}).pipe(X(function(e){return e.docs}))}function dP(n,e){return e===void 0&&(e={}),lP(n).pipe(X(function(t){return t.map(function(r){return pw(r,e)})}))}var wu=class{constructor(e){return e}},hP="firestore",gw=class{constructor(){return bs(hP)}};var mw=new F("angularfire2.firestore-instances");function Yz(n,e){let t=Bc(hP,n,e);return t&&new wu(t)}function Jz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new wu(r)}}var Zz={provide:gw,deps:[[new St,mw]]},Xz={provide:wu,useFactory:Yz,deps:[[new St,mw],cr]};function wse(n,...e){return Me("angularfire",Zr.full,"fst"),Pt([Xz,Zz,{provide:mw,useFactory:Jz(n),multi:!0,deps:[me,Oe,Xr,no,[new St,eu],[new St,Cs],...e]}])}var Tse=je(dP,!0);var Dse=je(uP,!0);var bse=je(sP,!0,2);var Cse=je(WM,!0,2);var Sse=je(oP,!0,2);var Ase=je(aw,!0,2);var Rse=je(nP,!0);var Nse=je(KM,!0);var Mse=je(rP,!0,2);var Pse=je(iP,!0,2);export{L as a,fe as b,ZP as c,_ as d,He as e,tt as f,Ie as g,vx as h,X as i,Sx as j,j as k,xl as l,U as m,hn as n,F as o,H as p,M as q,RD as r,ND as s,Re as t,qa as u,Ui as v,wd as w,_n as x,Ok as y,Jb as z,pO as A,Li as B,es as C,Ne as D,ts as E,yy as F,tr as G,nr as H,OC as I,VC as J,jC as K,dt as L,me as M,rs as N,Vd as O,WC as P,Cy as Q,Sy as R,jd as S,KC as T,QC as U,bL as V,Ud as W,SL as X,AL as Y,ZC as Z,qL as _,XC as $,My as aa,eS as ba,QL as ca,tS as da,YL as ea,tF as fa,nF as ga,iF as ha,sF as ia,cF as ja,$d as ka,hF as la,os as ma,oc as na,ir as oa,DS as pa,$F as qa,bS as ra,Yy as sa,iV as ta,WS as ua,ZS as va,xV as wa,bn as xa,Iv as ya,sn as za,kh as Aa,uj as Ba,hj as Ca,fj as Da,mre as Ea,yre as Fa,Xc as Ga,Oie as Ha,Lie as Ia,Fie as Ja,Vie as Ka,jie as La,Uie as Ma,wu as Na,wse as Oa,Tse as Pa,Dse as Qa,bse as Ra,Cse as Sa,Sse as Ta,Ase as Ua,Rse as Va,Nse as Wa,Mse as Xa,Pse as Ya};
